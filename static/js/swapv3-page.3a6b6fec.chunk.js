(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[20],{"./src/components/Dots.tsx":function(e,t,n){"use strict";var r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=r},"./src/pages/SwapV3/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ln}));var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),s=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),i=n("./node_modules/@lingui/react/esm/index.js"),a=n("./node_modules/@lingui/core/esm/index.js"),o=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),d=n("./node_modules/querystring-es3/index.js"),l=n("./node_modules/react/index.js"),u=n.n(l),b=n("./node_modules/react-loading-skeleton/dist/index.mjs"),j=n("./node_modules/react-router/dist/index.js"),p=n("./node_modules/rebass/dist/index.esm.js"),O=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/routing-icon.svg"),m=n("./src/components/Banner/index.tsx"),h=n("./src/components/Icons/TransactionSettingsIcon.tsx"),g=n("./src/components/Row/index.tsx"),v=n("./src/components/SEO/index.tsx"),f=n("./src/components/ShareModal/index.tsx"),y=n("./src/components/SwitchLocaleLink/index.tsx"),S=n("./src/components/TokenWarningModal/index.tsx"),w=n("./src/components/Tooltip/index.tsx"),I=n("./src/components/TopTrendingSoonTokensInCurrentNetwork/index.tsx"),k=n("./src/components/Tutorial/TutorialSwap/index.tsx"),C=n("./src/components/Tutorial/TutorialSwap/constant.ts"),T=n("./src/components/swapv2/GasPriceTrackerPanel.tsx"),A=n("./src/components/swapv2/LimitOrder/index.tsx"),_=n("./src/components/swapv2/LimitOrder/ListOrder/index.tsx"),P=n("./src/components/swapv2/LiquiditySourcesPanel/index.tsx"),N=n("./src/components/swapv2/MobileTokenInfo.tsx"),R=n("./src/components/swapv2/PairSuggestion/index.tsx"),E=n("./src/components/swapv2/SwapSettingsPanel/index.tsx"),L=n("./src/components/swapv2/TokenInfo.tsx"),M=n("./src/components/swapv2/TokenInfoV2/index.tsx"),W=n("./src/components/swapv2/styleds.tsx"),U=n("./src/constants/index.ts"),z=n("./src/hooks/index.ts"),D=n("./src/hooks/Tokens.ts"),B=n("./src/hooks/useMixpanel.ts"),V=n("./src/hooks/useParsedQueryString.ts"),G=n("./src/hooks/useTheme.ts"),F=n("./src/pages/AppBody.tsx"),H=n("./src/state/limit/hooks.ts"),q=n("./src/state/swap/actions.ts"),$=n("./src/state/swap/hooks.ts"),K=n("./src/state/tutorial/hooks.ts"),Y=n("./src/state/user/hooks.tsx"),Q=n("./src/utils/index.ts"),X=n("./src/utils/aggregationRouting.ts"),J=n("./src/utils/currencyId.ts"),Z=n("./src/utils/string.ts"),ee=n("./src/utils/tokenInfo.ts"),te=n("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),ne=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),re=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),se=n("./node_modules/lodash/lodash.js"),ce=n("./src/services/route/index.ts"),ie=n("./src/state/customizeDexes/hooks.ts"),ae=()=>{var e=Object(ie.a)(),t=Object(ie.b)(),n=Object(s.a)(t,1)[0],r=null===e||void 0===e?void 0:e.filter((e=>!n.includes(e.id))).map((e=>e.id));return(null===r||void 0===r?void 0:r.length)===(null===e||void 0===e?void 0:e.length)?"":(null===r||void 0===r?void 0:r.join(",").replace("kyberswapv1","kyberswap,kyberswap-static"))||""},oe=n("./src/constants/networks.ts"),de=n("./src/hooks/useKyberSwapConfig.ts"),le=e=>e.isNative?Object(oe.q)(e.chainId)?U.F:o.WETH[e.chainId].address:e.wrapped.address,ue=e=>{var t=ce.b.useLazyGetRouteQuery(),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(de.b)().aggregatorDomain,a=e.isSaveGas,o=e.parsedAmount,d=e.currencyIn,u=e.currencyOut,b=e.feeConfig,j=Object(z.b)().chainId,p=ae(),O=b||{},x=O.chargeFeeBy,m=void 0===x?"":x,h=O.feeReceiver,g=void 0===h?"":h,v=O.feeAmount,f=void 0===v?"":v,y=void 0!==(null===b||void 0===b?void 0:b.isInBps)?b.isInBps?"1":"0":"",S=Object(l.useMemo)((()=>Object(se.debounce)(r,U.I)),[r]);return{fetcher:Object(l.useCallback)(Object(re.a)(Object(ne.a)().mark((function e(){var t,n,r,s,c,l,b;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(null===o||void 0===o||null===(t=o.quotient)||void 0===t?void 0:t.toString())||"",d&&u&&r&&null!==o&&void 0!==o&&null!==(n=o.currency)&&void 0!==n&&n.equals(d)){e.next=3;break}return e.abrupt("return",void 0);case 3:return s=le(d),c=le(u),l={tokenIn:s,tokenOut:c,amountIn:r,saveGas:String(a),includedSources:p,gasInclude:"true",gasPrice:"",feeAmount:f,chargeFeeBy:m,isInBps:y,feeReceiver:g},Object.keys(l).forEach((e=>{l[e]||delete l[e]})),b="".concat(i,"/").concat(oe.h[j].aggregatorRoute,"/api/v1/routes"),S({url:b,params:l}),e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)}))),[i,j,m,d,u,p,f,g,y,a,null===o||void 0===o?void 0:o.currency,null===o||void 0===o?void 0:o.quotient,S]),result:c}},be=n("./node_modules/jsbi/dist/jsbi-umd.js"),je=n.n(be),pe=(e,t)=>{var n="number"===typeof t?Object(Q.a)(t):t,r=new o.Fraction(je.a.BigInt(1)).add(n).invert().multiply(e.quotient).quotient;return o.TokenAmount.fromRawAmount(e.currency,r)},Oe=function(e,t){try{return o.TokenAmount.fromRawAmount(e,je.a.BigInt(t))}catch(n){return o.TokenAmount.fromRawAmount(e,0)}},xe=(e,t)=>t?100*(e-t)/e:NaN,me=n("./src/components/AddressInputPanel/index.tsx"),he=n("./src/components/SlippageWarningNote/index.tsx"),ge=n("./src/components/CurrencyInputPanel/index.tsx"),ve=n("./node_modules/react/jsx-runtime.js"),fe=["children"],ye=Object(l.createContext)(void 0),Se=e=>{var t=e.children,n=Object(r.a)(e,fe);return Object(ve.jsx)(ye.Provider,{value:n,children:t})},we=()=>{var e=Object(l.useContext)(ye);if(!e)throw new Error("hook is used outside of SwapFormContext");return e},Ie=n("./src/hooks/useWrapCallback.ts"),ke=n("./src/utils/maxAmountSpend.ts"),Ce=e=>{var t=e.wrapType,n=e.typedValue,r=e.setTypedValue,s=e.currencyIn,c=e.currencyOut,i=e.balanceIn,a=e.onChangeCurrencyIn,o=Object(z.b)().isSolana,d=we().routeSummary,u=o&&t===Ie.a.UNWRAP,b=t!==Ie.a.NOT_APPLICABLE?void 0:d;return Object(l.useEffect)((()=>{var e;u&&r(null!==(e=null===i||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")}),[i,u,r]),Object(ve.jsx)(ge.a,{value:n,positionMax:"top",currency:s,onUserInput:r,onMax:u?null:()=>{var e,t=null===(e=Object(ke.b)(i))||void 0===e?void 0:e.toExact();r(t||"")},onHalf:u?null:()=>{var e,t=null===(e=Object(ke.a)(i))||void 0===e?void 0:e.toExact();r(t||"")},onCurrencySelect:a,otherCurrency:c,id:"swap-currency-input",showCommonBases:!0,estimatedUsd:null!==b&&void 0!==b&&b.amountInUsd?"".concat(Object(Q.i)(b.amountInUsd.toString(),!0)):void 0})},Te=e=>{var t=e.wrapType,n=e.parsedAmountIn,r=e.parsedAmountOut,s=e.currencyIn,c=e.currencyOut,i=e.amountOutUsd,a=e.onChangeCurrencyOut,o=t!==Ie.a.NOT_APPLICABLE;return Object(ve.jsx)(ge.a,{disabledInput:!0,value:o?(null===n||void 0===n?void 0:n.toExact())||"":r?Number(r.toFixed(r.currency.decimals)).toString():"",onMax:null,onHalf:null,currency:c,onCurrencySelect:a,otherCurrency:s,id:"swap-currency-output",showCommonBases:!0,estimatedUsd:(()=>{if(!o)return i?"".concat(Object(Q.i)(i.toString(),!0)):void 0})()})},Ae=n("./src/components/SwapForm/SlippageSetting.tsx"),_e=e=>{var t=e.recipient,n=e.routeSummary,r=e.slippage,s=e.transactionTimeout,c=Object(z.b)(),i=c.chainId,o=c.account,d=Object(l.useRef)(new AbortController),u=Object(de.b)().aggregatorDomain;return Object(l.useCallback)(Object(re.a)(Object(ne.a)().mark((function e(){var c,l,b;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return",{error:a.a._("Wallet is not connected")});case 2:if(n){e.next=4;break}return e.abrupt("return",{error:a.a._("Route summary is missing")});case 4:return c={routeSummary:n,deadline:Math.floor(Date.now()/1e3)+s,slippageTolerance:r,sender:o,recipient:t||o,source:"kyberswap",skipSimulateTx:!1},e.prev=5,d.current.abort(),d.current=new AbortController,l="".concat(u,"/").concat(oe.h[i].aggregatorRoute,"/api/v1/route/build"),e.next=11,Object(ce.a)(l,c,d.current.signal);case 11:return b=e.sent,e.abrupt("return",{data:b});case 15:return e.prev=15,e.t0=e.catch(5),e.abrupt("return",{error:e.t0.message||a.a._("Something went wrong")});case 18:case"end":return e.stop()}}),e,null,[[5,15]])}))),[o,u,i,t,n,r,s])},Pe=n("./src/constants/tokens.ts"),Ne=(e,t)=>{var n=Object(z.b)().chainId;return Boolean(n&&e&&t&&Pe.k[n].includes(e.wrapped.address)&&Pe.k[n].includes(t.wrapped.address))},Re=n("./src/hooks/useENS.ts"),Ee=e=>{var t,n,r,s,c,i=e.typedValue,o=e.recipient,d=e.currencyIn,l=e.currencyOut,u=e.parsedAmountFromTypedValue,b=e.balanceIn,j=Object(z.b)(),p=j.account,O=j.chainId,x=Object(Re.a)(null!==o&&void 0!==o?o:void 0),m=null!==(t=null===o||""===o?p:x.address)&&void 0!==t?t:null;(p||(n=a.a._("Connect wallet")),u)||(n=i?null!==(r=n)&&void 0!==r?r:a.a._("Invalid amount"):null!==(s=n)&&void 0!==s?s:a.a._("Enter an amount"));d&&l||(n=null!==(c=n)&&void 0!==c?c:a.a._("Select a token"));var h,g,v=Object(Q.s)(O,m);m&&v?-1!==U.j.indexOf(v)&&(n=null!==(h=n)&&void 0!==h?h:a.a._("Invalid recipient")):n=null!==(g=n)&&void 0!==g?g:a.a._("Enter a recipient");return u&&(b&&b.lessThan(u)||!b)&&(n=a.a._("Insufficient {0} balance",{0:u.currency.symbol})),n},Le=(e,t)=>Object(l.useMemo)((()=>Object($.b)(t,e)),[t,e]),Me=n("./src/components/TrendingSoonTokenBanner/index.tsx"),We=n("./src/components/swapv2/TradePrice.tsx"),Ue=n("./src/components/SwapForm/PriceImpactNote.tsx"),ze=u.a.forwardRef(((e,t)=>{var n=Object(G.a)();return Object(ve.jsxs)("svg",{ref:t,id:"arrow_loading",xmlns:"http://www.w3.org/2000/svg",viewBox:"2 2 20 20",className:"arrow-loading",width:"20",height:"20",color:n.subText,children:[Object(ve.jsx)("path",{stroke:"none",fill:n.disableText,d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),Object(ve.jsxs)("defs",{children:[Object(ve.jsx)("path",{id:"arrow",stroke:"none",fill:"none",d:"M16.2751 7.78995C13.932 5.44681 10.133 5.44681 7.78986 7.78995C7.02853 8.55128 6.51457 9.4663 6.24798 10.4351C6.24473 10.4499 6.24114 10.4646 6.23719 10.4793C6.17635 10.7064 6.12938 10.9339 6.09577 11.161C5.83159 12.9457 6.39255 14.7026 7.52624 15.9944C7.61054 16.0901 7.69842 16.1838 7.78986 16.2752C8.08307 16.5685 8.39909 16.825 8.7322 17.0448C9.25533 17.3892 9.84172 17.6568 10.4798 17.8278C10.7386 17.8971 10.9979 17.9484 11.2565 17.9825C12.9537 18.2061 14.6187 17.6866 15.8747 16.6415C16.0123 16.5265 16.1459 16.4044 16.2751 16.2752C16.2848 16.2655 16.2947 16.2561 16.3047 16.2469C17.0123 15.531 17.5491 14.627 17.8283 13.5851C17.9712 13.0517 18.5196 12.7351 19.053 12.878C19.5865 13.021 19.9031 13.5693 19.7602 14.1028C19.3141 15.7676 18.3745 17.1684 17.1409 18.1899C16.1883 18.9822 15.0949 19.5189 13.9515 19.8002C11.8607 20.3147 9.6028 19.9749 7.7328 18.7809C7.06855 18.3579 6.47841 17.8432 5.97519 17.2589C5.12341 16.2738 4.55173 15.1302 4.26015 13.9324C4.01698 12.9416 3.96104 11.8931 4.12168 10.8379C4.36697 9.20484 5.1183 7.63309 6.37564 6.37574C9.49984 3.25154 14.5652 3.25154 17.6894 6.37574L18.2332 6.91959L18.2337 5.49951C18.2338 5.05769 18.5921 4.69964 19.034 4.69979C19.4758 4.69995 19.8338 5.05825 19.8337 5.50007L19.8325 9.03277L19.8322 9.8325L19.0325 9.83249L18.9401 9.83249C18.8146 9.85665 18.6854 9.85665 18.5599 9.83248L15.5005 9.83245C15.0587 9.83245 14.7005 9.47427 14.7005 9.03244C14.7005 8.59062 15.0587 8.23245 15.5005 8.23245L16.7176 8.23246L16.2751 7.78995Z"}),Object(ve.jsx)("clipPath",{id:"arrow-clip",children:Object(ve.jsx)("use",{xlinkHref:"#arrow"})})]}),Object(ve.jsx)("g",{clipPath:"url(#arrow-clip)",children:Object(ve.jsx)("circle",{cx:"12",cy:"12",r:"5",transform:"rotate(365,12,12)",fill:"none",stroke:"currentColor",strokeWidth:"16",strokeDasharray:"30",strokeDashoffset:"0",children:Object(ve.jsx)("animate",{attributeName:"stroke-dashoffset",values:"0;-30",begin:e.clickable?"arrow_loading.click; 0.7s":"0s",repeatCount:"indefinite",dur:"".concat(e.durationInSeconds,"s")})})}),Object(ve.jsx)("use",{xlinkHref:"#arrow"}),Object(ve.jsx)("animateTransform",{id:"transform_0",attributeName:"transform",attributeType:"XML",type:"rotate",from:"0 0 0",to:"-10 0 0",dur:"0.07s",begin:e.clickable?"arrow_loading.click;":"transform_0.start",repeatCount:"1"}),Object(ve.jsx)("animateTransform",{id:"transform_1",attributeName:"transform",attributeType:"XML",type:"rotate",from:"-45 0 0",to:"390 0 0",dur:"0.6s",begin:"transform_0.end",repeatCount:"1"}),Object(ve.jsx)("animateTransform",{id:"transform_2",attributeName:"transform",attributeType:"XML",type:"rotate",from:"390 0 0",to:"360 0 0",dur:"0.15s",begin:"transform_1.end",repeatCount:"1"})]})}));ze.displayName="LoadingIcon";var De=ze,Be=O.default.button.withConfig({displayName:"RefreshButton__IconButton",componentId:"sc-1apwcu4-0"})(["position:relative;width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:none;background-color:transparent;margin:0;padding:0;border-radius:999px;cursor:default;outline:none;:hover{cursor:default;outline:none;}"]),Ve=e=>{var t=e.shouldDisable,n=e.callback,r=Object(l.useRef)(null);return Object(l.useEffect)((()=>{var e,s=null===r||void 0===r?void 0:r.current;if(s)return t?(s.setCurrentTime(0),s.pauseAnimations()):(s.setCurrentTime(0),s.unpauseAnimations(),n(),e=setInterval((()=>{n()}),1e3*U.X)),()=>{clearInterval(e)}}),[n,t]),Object(ve.jsx)(Be,{onClick:()=>{U.D&&n()},children:Object(ve.jsx)(De,{ref:r,clickable:U.D,durationInSeconds:U.X})})},Ge=n("./src/components/ArrowRotate.tsx"),Fe=e=>{var t=e.onClick,n=Object(l.useState)(!1),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(ve.jsx)(Ge.b,{rotate:c,onClick:()=>{t(),i((e=>!e))}})},He=n("./src/components/Button/index.tsx"),qe=n("./src/components/Column/index.tsx"),$e=n("./src/components/Loader/index.tsx"),Ke=n("./src/components/ProgressSteps/index.tsx"),Ye=n("./src/components/Modal/index.tsx"),Qe=n("./src/components/TransactionConfirmationModal/index.tsx"),Xe=n("./node_modules/polished/dist/polished.esm.js"),Je=n("./node_modules/react-feather/dist/icons/check.js"),Ze=n("./node_modules/react-feather/dist/icons/alert-triangle.js"),et=n("./src/components/Card/index.tsx"),tt=n("./src/theme/components.tsx"),nt=n("./src/utils/prices.ts"),rt=n("./src/utils/slippage.ts"),st=n("./node_modules/react-feather/dist/icons/arrow-down.js"),ct=n("./src/components/CurrencyLogo/index.tsx"),it=n("./src/components/InfoHelper/index.tsx"),at=Object(O.default)(qe.a).attrs((e=>({"data-level":e.$level}))).withConfig({displayName:"UpdatedBadge__BadgeWrapper",componentId:"sc-1kiyc6k-0"})(["display:flex;align-items:center;gap:4px;padding:4px 8px;border-radius:36px;line-height:1;font-size:12px;font-weight:500;&[data-level='worse']{background-color:",";color:",";}&[data-level='better']{background-color:",";color:",";}"],(e=>{var t=e.theme;return Object(Xe.g)(.9,t.warning)}),(e=>e.theme.warning),(e=>{var t=e.theme;return Object(Xe.g)(.9,t.primary)}),(e=>e.theme.primary)),ot=e=>{var t=e.$level,n=Object(G.a)();return t?Object(ve.jsxs)(at,{$level:t,children:["better"===t&&Object(ve.jsx)(it.a,{placement:"top",size:14,color:n.primary,style:{marginLeft:0},width:"fit-content",text:Object(ve.jsx)(i.b,{id:"<0>We got you a better price!</0>",components:{0:Object(ve.jsx)("i",{})}})}),Object(ve.jsx)(i.b,{id:"Updated"})]}):null},dt=Object(O.default)(p.e).withConfig({displayName:"SwapBrief__TruncatedText",componentId:"sc-2bbdr0-0"})(["text-overflow:ellipsis;overflow:hidden;font-size:24px;font-weight:500;"]),lt=e=>{var t=e.inputAmount,n=e.outputAmountFromBuild,r=e.$level,s=e.isLoading,c=e.currencyOut,i=Object(G.a)(),a=we(),o=a.typedValue,d=a.feeConfig;return Object(ve.jsxs)(qe.a,{gap:"md",style:{marginTop:"20px",padding:"0 8px"},children:[Object(ve.jsxs)(p.b,{alignItems:"center",width:"100%",sx:{gap:"8px"},children:[Object(ve.jsx)(ct.a,{currency:t.currency,size:"24px"}),Object(ve.jsx)(dt,{children:d?o:t.toSignificant(6)}),Object(ve.jsx)(p.e,{flex:"0 0 fit-content",fontSize:24,fontWeight:500,children:t.currency.symbol})]}),Object(ve.jsx)(g.d,{children:Object(ve.jsx)(st.a,{size:"16",color:i.text2,style:{marginLeft:"4px",minWidth:"16px"}})}),Object(ve.jsxs)(p.b,{alignItems:"center",width:"100%",sx:{gap:"8px"},children:[Object(ve.jsxs)(p.b,{alignItems:"center",flex:"1 1 0",sx:{gap:"8px"},children:[Object(ve.jsx)(ct.a,{currency:c,size:"24px"}),s?Object(ve.jsx)(b.a,{width:"120px",height:"22px",baseColor:i.border,highlightColor:i.buttonGray,borderRadius:"0.5rem"}):n?Object(ve.jsx)(dt,{children:n.toSignificant(6)||"--"}):"--",Object(ve.jsx)(p.e,{flex:"0 0 fit-content",fontSize:24,fontWeight:500,children:c.symbol})]}),Object(ve.jsx)(ot,{$level:r})]})]})},ut=n("./node_modules/react-feather/dist/icons/repeat.js"),bt=n("./src/components/Dots.tsx"),jt=n("./src/theme/index.tsx"),pt=()=>{var e=Object(G.a)(),t=we(),n=t.slippage,r=t.isStablePairSwap,s=Object(rt.b)(n,r);return Object(ve.jsx)(jt.k.black,{fontSize:14,color:s?e.warning:void 0,children:Object(rt.c)(n)})},Ot=e=>{var t=e.content,n=e.isShowingSkeleton,r=e.skeletonStyle,s=Object(G.a)();return n?Object(ve.jsx)(b.a,{style:r,height:"16px",baseColor:s.border,highlightColor:s.buttonGray,borderRadius:"5rem"}):Object(ve.jsx)(ve.Fragment,{children:t})},xt=n("./src/utils/fee.ts");function mt(e,t){var n,r;if(!e)return"";var s=null===(n=e.baseCurrency)||void 0===n?void 0:n.symbol,c=null===(r=e.quoteCurrency)||void 0===r?void 0:r.symbol;return t?"".concat(e.invert().toSignificant(6,void 0,o.Rounding.ROUND_DOWN)," ").concat(s," / ").concat(c):"".concat(e.toSignificant(6,void 0,o.Rounding.ROUND_DOWN)," ").concat(c," / ").concat(s)}var ht,gt,vt=O.default.div.withConfig({displayName:"SwapDetails__StatusWrapper",componentId:"sc-1vomb2m-0"})(["width:100%;height:40px;"]),ft=e=>{var t=e.isLoading,n=e.hasError,r=e.gasUsd,c=e.parsedAmountOut,o=e.executionPrice,d=e.amountInUsd,u=e.priceImpact,b=Object(z.b)(),j=b.isSolana,O=b.isEVM,x=Object(l.useState)(!1),m=Object(s.a)(x,2),h=m[0],v=m[1],f=Object(G.a)(),y=we(),S=y.feeConfig,w=y.slippage,I=Object(xt.b)(Number(d||0),null===S||void 0===S?void 0:S.feeAmount),k=c?pe(c,w):void 0,C=null===c||void 0===c?void 0:c.currency,T=k&&C?Object(ve.jsxs)(p.e,{as:"span",sx:{color:f.text,fontWeight:"bold",whiteSpace:"nowrap"},children:[Object(Q.i)(k.toSignificant(6),!1,6)," ",C.symbol]}):"",A=Object(nt.a)(u);return Object(ve.jsxs)(ve.Fragment,{children:[t?Object(ve.jsx)(vt,{children:Object(ve.jsxs)(p.b,{width:"100%",height:"100%",padding:"0 10px",alignItems:"center",sx:{borderRadius:"24px",background:f.buttonBlack,gap:"8px"},children:[Object(ve.jsx)($e.a,{size:"20px",stroke:f.primary}),Object(ve.jsx)(p.e,{as:"span",fontSize:"12px",color:f.primary,fontStyle:"italic",children:Object(ve.jsx)(bt.a,{children:Object(ve.jsx)(i.b,{id:"Checking the price"})})})]})}):n?Object(ve.jsx)(vt,{children:Object(ve.jsxs)(p.b,{width:"100%",height:"100%",padding:"12px",alignItems:"center",sx:{borderRadius:"24px",background:Object(Xe.d)(f.warning,.25),gap:"8px"},children:[Object(ve.jsx)(Ze.a,{color:f.warning,size:16}),Object(ve.jsx)(p.e,{as:"span",color:f.warning,fontSize:"12px",children:Object(ve.jsx)(i.b,{id:"Something went wrong. Please try again"})})]})}):Object(ve.jsx)(vt,{children:Object(ve.jsxs)(jt.k.subHeader,{textAlign:"left",style:{width:"100%",color:f.subText,fontStyle:"italic"},children:[T&&Object(ve.jsx)(i.b,{id:"Output is estimated. You will receive at least {minimumAmountOutStr} or the transaction will revert.",values:{minimumAmountOutStr:T}}),j&&Object(ve.jsx)(i.b,{id:"We may send multiple transactions to complete the swap."})]})}),Object(ve.jsxs)(qe.a,{gap:"0.5rem",style:{padding:"1rem",border:"1px solid ".concat(f.border),borderRadius:"8px"},children:[Object(ve.jsxs)(g.b,{align:"center",height:"20px",children:[Object(ve.jsx)(p.e,{fontWeight:400,fontSize:14,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Current Price"})}),Object(ve.jsx)(Ot,{skeletonStyle:{width:"160px"},isShowingSkeleton:t,content:o?Object(ve.jsxs)(p.b,{fontWeight:500,fontSize:14,color:f.text,sx:{justifyContent:"center",alignItems:"center",textAlign:"right",paddingLeft:"10px"},children:[mt(o,h),Object(ve.jsx)(W.p,{onClick:()=>v(!h),children:Object(ve.jsx)(ut.a,{size:14,color:f.text})})]}):Object(ve.jsx)(jt.k.black,{fontSize:14,children:"--"})})]}),Object(ve.jsxs)(g.b,{align:"center",height:"20px",children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Minimum Received"})}),Object(ve.jsx)(it.a,{placement:"top",size:14,text:a.a._("You will receive at least this amount or your transaction will revert")})]}),Object(ve.jsx)(Ot,{skeletonStyle:{width:"108px"},isShowingSkeleton:t,content:Object(ve.jsx)(jt.k.black,{fontSize:14,children:T||"--"})})]}),O&&Object(ve.jsxs)(g.b,{height:"20px",children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Gas Fee"})}),Object(ve.jsx)(it.a,{placement:"top",size:14,text:a.a._("Estimated network fee for your transaction")})]}),Object(ve.jsx)(Ot,{skeletonStyle:{width:"64px"},isShowingSkeleton:t,content:Object(ve.jsx)(jt.k.black,{color:f.text,fontSize:14,children:r?Object(Q.i)(String(r),!0):"--"})})]}),Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Price Impact"})}),Object(ve.jsx)(it.a,{placement:"top",size:14,text:a.a._("Estimated change in price due to the size of your transaction")})]}),Object(ve.jsx)(Ot,{skeletonStyle:{width:"64px"},isShowingSkeleton:t,content:Object(ve.jsx)(jt.k.black,{fontSize:14,color:A.isVeryHigh?f.red:A.isHigh?f.warning:f.text,children:A.isInvalid||"number"!==typeof u?"--":Object(nt.e)(u)})})]}),Object(ve.jsxs)(g.b,{height:"20px",children:[Object(ve.jsx)(g.d,{children:Object(ve.jsx)(jt.k.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Max Slippage"})})}),Object(ve.jsx)(pt,{})]}),S&&Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:14,fontWeight:400,color:f.subText,children:Object(ve.jsx)(i.b,{id:"Referral Fee"})}),Object(ve.jsx)(it.a,{size:14,text:a.a._("Commission fee to be paid directly to your referrer")})]}),Object(ve.jsx)(jt.k.black,{color:f.text,fontSize:14,children:I})]})]})]})},yt=O.default.div.withConfig({displayName:"ConfirmSwapModalContent__Wrapper",componentId:"sc-1jlm04y-0"})(["display:flex;flex-direction:column;width:100%;padding:24px;gap:16px;border-radius:20px;"]),St=O.default.div.withConfig({displayName:"ConfirmSwapModalContent__PriceUpdateWarning",componentId:"sc-1jlm04y-1"})(["margin-top:1rem;border-radius:999px;padding:8px 12px;display:flex;align-items:center;gap:8px;font-size:12px;background:",";color:",";"],(e=>{var t=e.$level,n=e.theme;return e.isAccepted?Object(Xe.g)(.8,n.subText):"warning"===t?Object(Xe.g)(.7,n.warning):Object(Xe.g)(.7,n.red)}),(e=>{var t=e.theme;return e.isAccepted?t.subText:t.text})),wt=e=>{var t,n,r,c,a=e.buildResult,d=e.isBuildingRoute,u=e.errorWhileBuildRoute,b=e.onDismiss,j=e.onSwap,O=e.onRetry,x=Object(G.a)(),m=Object(z.b)().isSolana,h=Object($.e)(),v=Object(s.a)(h,1)[0],f=we(),y=f.routeSummary,S=f.slippage,w=f.isStablePairSwap,I=f.isAdvancedMode,k=Object(l.useState)(!1),C=Object(s.a)(k,2),T=C[0],A=C[1],_=d||!!u,P=Object(rt.b)(S,w),N=null!==a&&void 0!==a&&a.data?xe(Number((null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.amountInUsd)||0),Number((null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.amountOutUsd)||0)):void 0,R=Object(nt.a)(N),E=Number(null===a||void 0===a||null===(r=a.data)||void 0===r||null===(c=r.outputChange)||void 0===c?void 0:c.amount)||0,L=R.isVeryHigh||R.isInvalid?{background:x.red}:R.isHigh||P?{background:x.warning}:void 0,M=!I&&(R.isVeryHigh||R.isInvalid),U=E<0&&!T||_||M;return Object(ve.jsxs)(yt,{children:[Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(g.b,{children:[Object(ve.jsx)(p.e,{fontWeight:500,fontSize:20,children:Object(ve.jsx)(i.b,{id:"Confirm Swap"})}),Object(ve.jsx)(tt.c,{onClick:b})]}),E<0&&Object(ve.jsxs)(St,{$level:R.isVeryHigh?"error":"warning",isAccepted:T,children:[T?Object(ve.jsx)(Je.a,{size:20}):Object(ve.jsx)(Ze.a,{color:R.isVeryHigh||R.isInvalid?x.red:x.warning,size:16}),Object(ve.jsx)(p.e,{flex:1,children:T?Object(ve.jsx)(i.b,{id:"New Price Accepted"}):Object(ve.jsx)(i.b,{id:"Your price has been updated. Please accept the new price before proceeding with the swap"})})]}),(()=>{if(!y)return null;var e=y.parsedAmountIn,t=0,n=void 0;if(null!==a&&void 0!==a&&a.data){var r=a.data,s=r.amountIn,c=r.amountOut;e=Oe(y.parsedAmountIn.currency,s),n=Oe(y.parsedAmountOut.currency,c);var i=(a.data.outputChange||{}).amount;t=Number(i)}return Object(ve.jsx)(lt,{$level:t>0?"better":t<0?"worse":void 0,inputAmount:e,outputAmountFromBuild:n,currencyOut:y.parsedAmountOut.currency,isLoading:d})})()]}),Object(ve.jsx)(ft,Object(te.a)({},(()=>{if(null===a||void 0===a||!a.data||!y)return{isLoading:d,hasError:!!u,gasUsd:void 0,executionPrice:void 0,parsedAmountOut:void 0,amountInUsd:void 0,priceImpact:void 0};var e=a.data,t=e.amountIn,n=e.amountInUsd,r=e.amountOut,s=e.gasUsd,c=Oe(y.parsedAmountIn.currency,t),i=Oe(y.parsedAmountOut.currency,r),l=new o.Price(c.currency,i.currency,c.quotient,i.quotient);return{isLoading:d,hasError:!!u,gasUsd:s,executionPrice:l,parsedAmountOut:i,amountInUsd:n,priceImpact:N}})())),Object(ve.jsxs)(p.b,{sx:{flexDirection:"column",gap:"0.75rem"},children:[Object(ve.jsx)(he.a,{rawSlippage:S,isStablePairSwap:w}),Object(ve.jsx)(Ue.a,{isAdvancedMode:I,priceImpact:N}),m&&!v?Object(ve.jsx)(et.c,{style:{textAlign:"center",borderRadius:"999px",padding:"12px"},id:"confirm-swap-or-send",children:Object(ve.jsx)(W.e,{children:Object(ve.jsx)(i.b,{id:"Checking accounts"})})}):u?Object(ve.jsx)(He.i,{onClick:O,children:Object(ve.jsx)(p.e,{fontSize:14,fontWeight:500,as:"span",lineHeight:1,children:Object(ve.jsx)(i.b,{id:"Try again"})})}):Object(ve.jsxs)(p.b,{sx:{gap:"8px",width:"100%"},children:[E<0&&Object(ve.jsx)(He.i,{style:T?void 0:{backgroundColor:R.isVeryHigh||R.isInvalid?x.red:x.warning},onClick:()=>A(!0),disabled:T,children:"Accept New Price"}),Object(ve.jsx)(He.i,{onClick:j,disabled:U,id:"confirm-swap-or-send",style:U?void 0:L,children:Object(ve.jsx)(p.e,{fontSize:14,fontWeight:500,as:"span",lineHeight:1,children:Object(ve.jsx)(i.b,{id:"Confirm Swap"})})})]})]})]})},It=e=>{var t,n,r,c,i=e.isOpen,d=e.tokenAddToMetaMask,u=e.onDismiss,b=e.swapCallback,j=e.buildResult,p=e.isBuildingRoute,O=e.onRetryBuild,x=Object(z.b)().chainId,m=Object(l.useState)({error:"",isAttemptingTx:!1,txHash:""}),h=Object(s.a)(m,2),g=h[0],v=g.error,f=g.isAttemptingTx,y=g.txHash,S=h[1],w=we().routeSummary,I=null===w||void 0===w||null===(t=w.parsedAmountIn)||void 0===t?void 0:t.currency,k=null===w||void 0===w||null===(n=w.parsedAmountOut)||void 0===n?void 0:n.currency,C=k&&o.CurrencyAmount.fromRawAmount(k,(null===j||void 0===j||null===(r=j.data)||void 0===r?void 0:r.amountOut)||"0"),T="Swapping ".concat(null===w||void 0===w||null===(c=w.parsedAmountIn)||void 0===c?void 0:c.toSignificant(6)," ").concat(null===I||void 0===I?void 0:I.symbol," for ").concat(null===C||void 0===C?void 0:C.toSignificant(6)," ").concat(null===k||void 0===k?void 0:k.symbol),A=Object(l.useCallback)((()=>{u(),S({error:"",isAttemptingTx:!1,txHash:""})}),[u]),_=e=>{S({error:"",txHash:e,isAttemptingTx:!1})},P=e=>{S({error:e,txHash:"",isAttemptingTx:!1})},N=function(){var e=Object(re.a)(Object(ne.a)().mark((function e(){var t;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return S({error:"",isAttemptingTx:!0,txHash:""}),e.prev=3,e.next=6,b();case 6:t=e.sent,_(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),P(e.t0.message||a.a._("Something went wrong. Please try again"));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((()=>{A()}),[x,A]),Object(ve.jsx)(Ye.a,{isOpen:i,onDismiss:A,maxHeight:90,children:f?Object(ve.jsx)(Qe.b,{onDismiss:A,pendingText:T,startedTime:void 0}):y?Object(ve.jsx)(Qe.d,{showTxBanner:!0,chainId:x,hash:y,onDismiss:A,tokenAddToMetaMask:d}):v?Object(ve.jsx)(Qe.c,{onDismiss:A,message:v}):Object(ve.jsx)(wt,{isBuildingRoute:p,errorWhileBuildRoute:null===j||void 0===j?void 0:j.error,onDismiss:A,onSwap:N,onRetry:O,buildResult:j})})},kt=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),Ct=n("./src/state/transactions/hooks.tsx"),Tt=n("./src/state/transactions/type.ts"),At=n("./src/utils/formatCurrencyAmount.tsx"),_t=n("./src/utils/sendTransaction.ts"),Pt=()=>{var e=Object(z.b)(),t=e.account,n=e.chainId,r=e.isEVM,c=Object(z.e)().library,i=we(),a=i.typedValue,o=i.feeConfig,d=i.isSaveGas,u=i.recipient,b=i.routeSummary||{},j=b.parsedAmountIn,p=b.parsedAmountOut,O=b.priceImpact,x=Object(Y.x)(),m=Object(s.a)(x,1)[0],h=Object(Ct.g)(),g=Object(Re.a)(u).address,v=null===u||""===u?t:g,f=Object(l.useCallback)((()=>{if(!j||!p)throw new Error('"inputAmount" is undefined.');var e=j.currency.symbol,r=p.currency.symbol,s=j.currency.isNative?U.cb:j.currency.address,c=p.currency.isNative?U.cb:p.currency.address,i=Object(At.a)(j,6),l=Object(At.a)(p,6),b=o&&"currency_in"===o.chargeFeeBy&&o.isInBps?a:i,x=v===t?void 0:"to ".concat(u&&Object(Q.s)(n,u)?Object(Q.A)(n,u):u);return{hash:"",type:Tt.c.SWAP,extraInfo:{tokenAmountIn:b,tokenAmountOut:l,tokenSymbolIn:e,tokenSymbolOut:r,tokenAddressIn:s,tokenAddressOut:c,arbitrary:{inputSymbol:e,outputSymbol:r,inputAddress:s,outputAddress:c,inputDecimals:j.currency.decimals,outputDecimals:p.currency.decimals,withRecipient:x,saveGas:d,inputAmount:j.toExact(),slippageSetting:m?m/100:0,priceImpact:O&&O>.01?O.toFixed(2):"<0.01"}}}}),[t,m,n,o,j,d,p,O,v,u,a]),y=Object(l.useCallback)((e=>{var t=f();h(Object(te.a)(Object(te.a)({},t),{},{hash:e.hash}))}),[h,f]),S=Object(l.useCallback)(function(){var e=Object(re.a)(Object(ne.a)().mark((function e(n,r){var s,i;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&j&&n&&r){e.next=2;break}throw new Error("Missing dependencies");case 2:return s=kt.a.from(j.currency.isNative?j.quotient.toString():0),e.next=5,Object(_t.a)(t,c,n,r,s,y);case 5:if(void 0!==(null===(i=e.sent)||void 0===i?void 0:i.hash)){e.next=8;break}throw new Error("sendTransaction returned undefined.");case 8:return e.abrupt("return",null===i||void 0===i?void 0:i.hash);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[t,y,j,c]);return r?S:null},Nt=Object(O.default)(He.i).attrs({id:"swap-button"}).withConfig({displayName:"SwapOnlyButton__CustomPrimaryButton",componentId:"sc-5l9qp8-0"})(["border:none;font-weight:500;&:disabled{border:none;}width:",";"],(e=>e.$minimal?"48%":"100%")),Rt=e=>{var t=e.minimal,n=e.isAdvancedMode,r=e.routeSummary,c=e.isGettingRoute,a=e.isProcessingSwap,o=e.isDisabled,d=e.currencyIn,u=e.currencyOut,b=e.balanceIn,j=e.balanceOut,p=e.parsedAmount,O=e.setProcessingSwap,x=e.setErrorWhileSwap,m=e.buildRoute,h=Object(z.b)().isSolana,g=Object($.e)(),v=Object(s.a)(g,1)[0],f=Object(G.a)(),y=Object(B.c)({[q.a.INPUT]:d,[q.a.OUTPUT]:u}).mixpanelHandler,S=Object(l.useState)(),w=Object(s.a)(S,2),I=w[0],k=w[1],C=Object(l.useState)(!1),T=Object(s.a)(C,2),A=T[0],_=T[1],P=(r||{}).priceImpact,N=Pt(),R=Object(nt.a)(P),E=Boolean(d&&u&&p),L=c||A||(!b||!j)&&E,M=function(){var e=Object(re.a)(Object(ne.a)().mark((function e(){var t;return Object(ne.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N&&!A){e.next=2;break}return e.abrupt("return");case 2:return O(!0),_(!0),k(void 0),e.next=7,m();case 7:t=e.sent,_(!1),k(t);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=()=>{y(B.a.SWAP_INITIATED,{gasUsd:null===r||void 0===r?void 0:r.gasUsd,inputAmount:null===r||void 0===r?void 0:r.parsedAmountIn,priceImpact:null===r||void 0===r?void 0:r.priceImpact}),x(""),M()},D=Object(l.useMemo)((()=>{var e,t;if(null!==I&&void 0!==I&&null!==(e=I.data)&&void 0!==e&&e.data&&null!==I&&void 0!==I&&null!==(t=I.data)&&void 0!==t&&t.routerAddress&&N)return()=>(y(B.a.SWAP_CONFIRMED,{gasUsd:null===r||void 0===r?void 0:r.gasUsd,inputAmount:null===r||void 0===r?void 0:r.parsedAmountIn,priceImpact:null===r||void 0===r?void 0:r.priceImpact}),N(I.data.routerAddress,I.data.data))}),[I,N,r,y]),V=Object(l.useCallback)((()=>{O(!1)}),[O]);return Object(ve.jsxs)(ve.Fragment,{children:[(()=>{if(a)return Object(ve.jsx)(Nt,{disabled:!0,$minimal:t,children:Object(ve.jsx)(W.e,{children:Object(ve.jsx)(i.b,{id:"Processing"})})});if(n&&h&&!v)return Object(ve.jsx)(Nt,{disabled:!0,$minimal:t,children:Object(ve.jsx)(W.e,{children:Object(ve.jsx)(i.b,{id:"Checking accounts"})})});if(L)return Object(ve.jsx)(Nt,{disabled:!0,$minimal:t,children:Object(ve.jsx)(W.e,{children:Object(ve.jsx)(i.b,{id:"Calculating"})})});var e=!n&&(R.isVeryHigh||R.isInvalid),r=o||e;return R.isVeryHigh||R.isInvalid&&n?Object(ve.jsx)(Nt,{onClick:U,disabled:r,$minimal:t,style:r?void 0:{background:f.red},children:Object(ve.jsx)(i.b,{id:"Swap Anyway"})}):R.isHigh?Object(ve.jsx)(Nt,{onClick:U,$minimal:t,disabled:r,style:o?void 0:{background:f.warning},children:Object(ve.jsx)(i.b,{id:"Swap Anyway"})}):Object(ve.jsx)(Nt,{disabled:r,onClick:U,$minimal:t,children:Object(ve.jsx)(i.b,{id:"Swap"})})})(),Object(ve.jsx)(It,{isOpen:a,tokenAddToMetaMask:u,buildResult:I,isBuildingRoute:A,onDismiss:V,swapCallback:D,onRetryBuild:()=>{x(""),M()}})]})},Et=n("./src/hooks/useApproveCallback.ts"),Lt=n("./src/state/application/hooks.ts"),Mt=Object(O.default)(He.i).attrs({id:"swap-button"}).withConfig({displayName:"SwapActionButton__CustomPrimaryButton",componentId:"sc-1c55aoo-0"})(["border:none;font-weight:500;&:disabled{border:none;}"]),Wt=e=>{var t=e.isAdvancedMode,n=e.isGettingRoute,r=e.isProcessingSwap,c=e.typedValue,a=e.parsedAmountFromTypedValue,o=e.routeSummary,d=e.currencyIn,u=e.currencyOut,b=e.balanceIn,j=e.balanceOut,O=e.swapInputError,x=e.wrapInputError,m=e.wrapType,h=e.setProcessingSwap,v=e.onWrap,f=e.buildRoute,y=Object(z.b)().account,S=Object(l.useState)(""),w=Object(s.a)(S,2),I=w[0],k=w[1],C=o&&!o.route,T=Object(Lt.x)(),A=m!==Ie.a.NOT_APPLICABLE,_=Boolean(d&&u&&a&&!a.equalTo(0)),P=Object(Et.b)(a,null===o||void 0===o?void 0:o.routerAddress),N=Object(s.a)(P,2),R=N[0],E=N[1],L=Object(l.useState)(!1),M=Object(s.a)(L,2),U=M[0],D=M[1];Object(l.useEffect)((()=>{R===Et.a.PENDING&&D(!0),R===Et.a.NOT_APPROVED&&D(!1)}),[R,U]),Object(l.useEffect)((()=>{r||D(!1)}),[d,c,r]);var B=!O&&(R===Et.a.NOT_APPROVED||R===Et.a.PENDING||U&&R===Et.a.APPROVED);return Object(l.useEffect)((()=>{k("")}),[c]),Object(ve.jsxs)(ve.Fragment,{children:[(()=>{if(!y)return Object(ve.jsx)(He.g,{onClick:T,children:Object(ve.jsx)(i.b,{id:"Connect Wallet"})});if(x)return Object(ve.jsx)(Mt,{disabled:!0,children:x});if(A)return Object(ve.jsx)(Mt,{onClick:v,children:m===Ie.a.WRAP?Object(ve.jsx)(i.b,{id:"Wrap"}):Object(ve.jsx)(i.b,{id:"Unwrap"})});if(_&&C)return Object(ve.jsx)(Mt,{disabled:!0,children:Object(ve.jsx)(i.b,{id:"Insufficient liquidity for this trade"})});if(O)return Object(ve.jsx)(Mt,{disabled:!0,children:O});var e={isAdvancedMode:t,routeSummary:o,isGettingRoute:n,isProcessingSwap:r,currencyIn:d,currencyOut:u,balanceIn:b,balanceOut:j,parsedAmount:a,setProcessingSwap:h,setErrorWhileSwap:k,buildRoute:f,isDisabled:!o||R!==Et.a.APPROVED};return B?Object(ve.jsxs)(p.b,{sx:{flexDirection:"column",gap:"0.75rem"},children:[Object(ve.jsxs)(g.b,{children:[Object(ve.jsx)(He.b,{onClick:E,disabled:R!==Et.a.NOT_APPROVED||U,width:"48%",altDisabledStyle:R===Et.a.PENDING,confirmed:R===Et.a.APPROVED,style:{border:"none"},children:R===Et.a.PENDING?Object(ve.jsxs)(g.a,{gap:"6px",justify:"center",children:[Object(ve.jsx)(i.b,{id:"Approving"})," ",Object(ve.jsx)($e.a,{stroke:"white"})]}):U&&R===Et.a.APPROVED?Object(ve.jsx)(i.b,{id:"Approved"}):Object(ve.jsx)(i.b,{id:"Approve ${0}",values:{0:null===d||void 0===d?void 0:d.symbol}})}),Object(ve.jsx)(Rt,Object(te.a)({minimal:!0},e))]}),Object(ve.jsx)(qe.c,{children:Object(ve.jsx)(Ke.a,{steps:[R===Et.a.APPROVED]})})]}):Object(ve.jsx)(Rt,Object(te.a)({},e))})(),t&&I?Object(ve.jsx)(W.q,{style:{margin:0,zIndex:"unset"},error:I}):null]})},Ut=n("./node_modules/@svgr/webpack/lib/index.js?-svgo,+titleProp,+ref!./src/assets/svg/down.svg"),zt=n("./src/components/Divider/index.tsx"),Dt=O.default.div.withConfig({displayName:"TradeSummary__IconWrapper",componentId:"sc-1qacajt-0"})(["transform:rotate(",");transition:transform 300ms;"],(e=>e.$flip?"-180deg":"0deg")),Bt=Object(O.default)(qe.a).withConfig({displayName:"TradeSummary__ContentWrapper",componentId:"sc-1qacajt-1"})(["max-height:",";margin-top:",";transition:margin-top 300ms ease,height 300ms ease;overflow:hidden;"],(e=>e.$expanded?"500px":0),(e=>e.$expanded?"12px":0)),Vt=O.default.div.attrs((e=>({"data-visible":e.$visible,"data-disabled":e.$disabled}))).withConfig({displayName:"TradeSummary__Wrapper",componentId:"sc-1qacajt-2"})(["display:none;padding:0;width:100%;max-width:425px;border-radius:16px;background-color:",";max-height:0;transition:height 300ms ease-in-out,transform 300ms;border:1px solid #52ccad;overflow:hidden;&[data-visible='true']{display:block;padding:12px 16px;max-height:max-content;color:",";}&[data-disabled='true']{color:",";}"],(e=>e.theme.background),(e=>e.theme.text),(e=>e.theme.subText)),Gt=e=>{var t=e.feeConfig,n=e.routeSummary,r=e.slippage,c=Object(G.a)(),o=Object(l.useState)(!0),d=Object(s.a)(o,2),u=d[0],b=d[1],j=Object(l.useState)(!1),O=Object(s.a)(j,2),x=O[0],m=O[1],h=n||{},v=h.amountInUsd,f=h.parsedAmountOut,y=h.priceImpact,S=h.gasUsd,w=!(null===n||void 0===n||!n.route),I=Object(nt.a)(y),k=v?Object(xt.b)(Number(v),null===t||void 0===t?void 0:t.feeAmount):0,C=f?pe(f,r):void 0,T=null===f||void 0===f?void 0:f.currency,A=C&&T?Object(ve.jsxs)(p.e,{as:"span",sx:{color:c.text,fontWeight:"bold",whiteSpace:"nowrap"},children:[Object(Q.i)(C.toSignificant(6),!1,6)," ",T.symbol]}):"",_=Object(B.c)().mixpanelHandler;return Object(l.useEffect)((()=>{w&&m(!0)}),[w]),Object(ve.jsx)(Vt,{$visible:x,$disabled:!w,children:Object(ve.jsxs)(qe.a,{children:[Object(ve.jsxs)(g.b,{style:{cursor:"pointer"},onClick:()=>{b((e=>!e)),_(B.a.SWAP_MORE_INFO_CLICK,{option:u?"Close":"Open"})},role:"button",children:[Object(ve.jsx)(p.e,{fontSize:12,fontWeight:500,children:Object(ve.jsx)(i.b,{id:"MORE INFORMATION"})}),Object(ve.jsx)(Dt,{$flip:u,children:Object(ve.jsx)(Ut.a,{})})]}),Object(ve.jsxs)(Bt,{$expanded:u,gap:"0.75rem",children:[Object(ve.jsx)(zt.a,{}),Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:12,fontWeight:400,color:c.subText,children:Object(ve.jsx)(i.b,{id:"Minimum Received"})}),Object(ve.jsx)(it.a,{size:14,text:a.a._("Minimum amount you will receive or your transaction will revert")})]}),Object(ve.jsx)(g.d,{children:Object(ve.jsx)(jt.k.black,{color:c.text,fontSize:12,children:A||"--"})})]}),Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:12,fontWeight:400,color:c.subText,children:Object(ve.jsx)(i.b,{id:"Gas Fee"})}),Object(ve.jsx)(it.a,{size:14,text:a.a._("Estimated network fee for your transaction")})]}),Object(ve.jsx)(jt.k.black,{color:c.text,fontSize:12,children:S?Object(Q.i)(S,!0):"--"})]}),Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:12,fontWeight:400,color:c.subText,children:Object(ve.jsx)(i.b,{id:"Price Impact"})}),Object(ve.jsx)(it.a,{size:14,text:a.a._("Estimated change in price due to the size of your transaction")})]}),Object(ve.jsx)(jt.k.black,{fontSize:12,color:I.isVeryHigh?c.red:I.isHigh?c.warning:c.text,children:I.isInvalid||"number"!==typeof y?"--":Object(nt.e)(y)})]}),t&&Object(ve.jsxs)(g.b,{children:[Object(ve.jsxs)(g.d,{children:[Object(ve.jsx)(jt.k.black,{fontSize:12,fontWeight:400,color:c.subText,children:Object(ve.jsx)(i.b,{id:"Referral Fee"})}),Object(ve.jsx)(it.a,{size:14,text:a.a._("Commission fee to be paid directly to your referrer")})]}),Object(ve.jsx)(jt.k.black,{color:c.text,fontSize:12,children:k})]})]})]})})},Ft=n("./node_modules/rebass/styled-components/index.js"),Ht=n("./src/components/Icons/index.ts"),qt=O.default.div.withConfig({displayName:"TradeTypeSelection__GroupButtonReturnTypes",componentId:"sc-1b0uypk-0"})(["display:flex;border-radius:999px;border:1px solid #52ccad;background:",";padding:2px;"],(e=>e.theme.tabBackgound)),$t=O.default.div.withConfig({displayName:"TradeTypeSelection__ButtonReturnType",componentId:"sc-1b0uypk-1"})(["border-radius:999px;flex:1;padding:8px;display:flex;align-items:center;justify-content:center;background-color:",";color:",";font-size:12px;font-weight:500;cursor:pointer;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.tabActive:t.tabBackgound}),(e=>{var t=e.theme;return e.active?t.text:t.subText})),Kt=e=>{var t=e.isSaveGas,n=e.setSaveGas,r=Object(z.b)().isSolana;return Object(l.useEffect)((()=>{r&&n(!1)}),[r,n]),r?null:Object(ve.jsxs)(qt,{children:[Object(ve.jsxs)($t,{onClick:()=>n(!1),active:!t,role:"button",children:[Object(ve.jsx)(Ht.j,{}),Object(ve.jsx)(Ft.Text,{marginLeft:"4px",children:Object(ve.jsx)(i.b,{id:"Maximum Return"})})]}),Object(ve.jsxs)($t,{onClick:()=>n(!0),active:t,role:"button",children:[Object(ve.jsx)(Ht.e,{}),Object(ve.jsx)(Ft.Text,{marginLeft:"4px",children:Object(ve.jsx)(i.b,{id:"Lowest Gas"})})]})]})},Yt=e=>{var t,n=e.hidden,r=e.currencyIn,c=e.currencyOut,i=e.balanceIn,a=e.balanceOut,d=e.setRouteSummary,u=e.isAdvancedMode,b=e.slippage,j=e.feeConfig,O=e.transactionTimeout,x=e.onChangeCurrencyIn,m=e.onChangeCurrencyOut,h=Object(z.b)(),v=h.isEVM,f=h.isSolana,y=Object(l.useState)(!1),S=Object(s.a)(y,2),w=S[0],I=S[1],k=Object(l.useState)("1"),T=Object(s.a)(k,2),A=T[0],_=T[1],P=Object(l.useState)(null),N=Object(s.a)(P,2),R=N[0],E=N[1],L=Object(l.useState)(!1),M=Object(s.a)(L,2),U=M[0],D=M[1],B=Le(r,A),V=Object(Ie.b)(r,c,A),G=V.wrapType,F=V.inputError,H=V.execute,q=G!==Ie.a.NOT_APPLICABLE,$=Ne(r,c),K=ue({currencyIn:r,currencyOut:c,feeConfig:j,isSaveGas:U,parsedAmount:B}),Y=K.fetcher,Q=K.result,X=Q.data,J=Q.isFetching,Z=Q.error,ee=Object(l.useMemo)((()=>{if(null!==X&&void 0!==X&&X.data&&!Z&&r&&c)return((e,t,n)=>{var r={routeSummary:void 0,routerAddress:e.routerAddress,fromMeta:e.fromMeta},s=e.routeSummary;if(!s)return r;if(s.tokenIn.toLowerCase()!==le(t).toLowerCase()||s.tokenOut.toLowerCase()!==le(n).toLowerCase())return r;var c=Oe(t,s.amountIn),i=Oe(n,s.amountOut),a=new o.Price(c.currency,i.currency,c.quotient,i.quotient);return{routeSummary:Object(te.a)(Object(te.a)({},s),{},{parsedAmountIn:c,parsedAmountOut:i,priceImpact:xe(Number(s.amountInUsd),Number(s.amountOutUsd)),executionPrice:a,routerAddress:e.routerAddress}),routerAddress:e.routerAddress,fromMeta:e.fromMeta}})(X.data,r,c)}),[r,c,Z,X]),ne=null===ee||void 0===ee?void 0:ee.routeSummary,re=_e({recipient:u&&R?R:"",routeSummary:(null===X||void 0===X||null===(t=X.data)||void 0===t?void 0:t.routeSummary)||void 0,slippage:b,transactionTimeout:O}),se=Ee({currencyIn:r,currencyOut:c,typedValue:A,recipient:R,balanceIn:i,parsedAmountFromTypedValue:B}),ce=e=>{d(void 0),m(e)},ie=f&&G===Ie.a.UNWRAP;return Object(l.useEffect)((()=>{var e;ie&&_(null!==(e=null===i||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")}),[i,ie]),Object(l.useEffect)((()=>{d(ne)}),[ne,d]),Object(ve.jsx)(Se,{feeConfig:j,slippage:b,routeSummary:ne,typedValue:A,isSaveGas:U,recipient:R,isStablePairSwap:$,isAdvancedMode:u,children:Object(ve.jsxs)(p.a,{sx:{flexDirection:"column",gap:"16px",display:n?"none":"flex"},children:[Object(ve.jsx)(W.z,{id:C.b.SWAP_FORM_CONTENT,children:Object(ve.jsxs)(p.b,{flexDirection:"column",sx:{gap:"0.75rem"},children:[Object(ve.jsx)(Ce,{wrapType:G,typedValue:A,setTypedValue:_,currencyIn:r,currencyOut:c,balanceIn:i,onChangeCurrencyIn:e=>{d(void 0),x(e)}}),Object(ve.jsxs)(g.a,{justify:"space-between",children:[Object(ve.jsx)(p.b,{alignItems:"center",children:!q&&Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(Ve,{shouldDisable:!B||B.equalTo(0)||w,callback:Y}),Object(ve.jsx)(We.a,{price:null===ne||void 0===ne?void 0:ne.executionPrice})]})}),Object(ve.jsx)(Fe,{onClick:()=>r&&ce(r)})]}),Object(ve.jsx)(Te,{wrapType:G,parsedAmountIn:B,parsedAmountOut:null===ne||void 0===ne?void 0:ne.parsedAmountOut,currencyIn:r,currencyOut:c,amountOutUsd:null===ne||void 0===ne?void 0:ne.amountOutUsd,onChangeCurrencyOut:ce}),u&&v&&!q&&Object(ve.jsx)(me.b,{id:"recipient",value:R,onChange:E}),!q&&Object(ve.jsx)(Ae.a,{isStablePairSwap:$})]})}),Object(ve.jsxs)(p.b,{flexDirection:"column",style:{gap:"1.25rem"},children:[Object(ve.jsx)(Kt,{isSaveGas:U,setSaveGas:D}),Object(ve.jsx)(Me.a,{currencyIn:r,currencyOut:c}),!q&&Object(ve.jsx)(he.a,{rawSlippage:b,isStablePairSwap:$}),Object(ve.jsx)(Ue.a,{priceImpact:null===ne||void 0===ne?void 0:ne.priceImpact,isAdvancedMode:u}),Object(ve.jsx)(Wt,{isGettingRoute:J,parsedAmountFromTypedValue:B,balanceIn:i,balanceOut:a,isAdvancedMode:u,typedValue:A,currencyIn:r,currencyOut:c,wrapInputError:F,wrapType:G,routeSummary:ne,isProcessingSwap:w,setProcessingSwap:I,onWrap:H,buildRoute:re,swapInputError:se}),!q&&Object(ve.jsx)(Gt,{feeConfig:j,routeSummary:ne,slippage:b})]})]})})},Qt=n("./src/hooks/useSyncTokenSymbolToUrl.ts"),Xt=n("./src/pages/SwapV3/useUpdateSlippageInStableCoinSwap.tsx"),Jt=n("./src/state/hooks.ts"),Zt=n("./src/state/wallet/hooks.ts"),en=n("./node_modules/react-use/esm/usePrevious.js"),tn=(e,t,n)=>{var r,s,c=Object(z.b)().chainId,i=Object(Y.t)(),a=Object(en.a)(i),o=null===e||void 0===e||null===(r=e.wrapped)||void 0===r?void 0:r.address,d=null===t||void 0===t||null===(s=t.wrapped)||void 0===s?void 0:s.address;Object(l.useEffect)((()=>{if(a&&((null===a||void 0===a?void 0:a.length)>i.length&&a[0].chainId===c)){var e=a.filter((e=>!i.find((t=>t.address===e.address)))).map((e=>e.address));o&&!e.includes(o)||n(q.a.INPUT),d&&!e.includes(d)||n(q.a.OUTPUT)}}),[o,d,c,n,a,i])},nn=e=>{var t=e.routeSummary,n=e.setRouteSummary,r=e.goToSettingsView,c=e.hidden,i=Object($.f)(),a=Object($.g)(),o=Object(Jt.b)((e=>e.swap.isSelectTokenManually)),d=Object(Zt.c)(Object(l.useMemo)((()=>[null!==i&&void 0!==i?i:void 0,null!==a&&void 0!==a?a:void 0]),[i,a])),u=Object(s.a)(d,2),b=u[0],j=u[1],p=Object(Y.y)(),O=Object(s.a)(p,1)[0],x=Object(Y.c)(),m=Object(s.a)(x,1)[0],h=Object(Y.x)(),g=Object(s.a)(h,1)[0],v=Object($.i)().feeConfig,f=Object($.h)(),y=f.onUserInput,S=f.onCurrencySelection,w=f.onResetSelectCurrency;Object(Xt.a)();var I=Object(l.useCallback)(((e,t,n)=>{e&&S(q.a.INPUT,e),t&&S(q.a.OUTPUT,t),n&&y(q.a.INPUT,n)}),[S,y]);Object(Qt.a)(i,a,I,o),tn(i,a,w);var k=Object(l.useCallback)((e=>{S(q.a.INPUT,e)}),[S]),C=Object(l.useCallback)((e=>{S(q.a.OUTPUT,e)}),[S]),T={hidden:c,routeSummary:t,setRouteSummary:n,currencyIn:i,currencyOut:a,balanceIn:b,balanceOut:j,isAdvancedMode:m,slippage:g,feeConfig:v,transactionTimeout:O,onChangeCurrencyIn:k,onChangeCurrencyOut:C,goToSettingsView:r};return Object(ve.jsx)(Yt,Object(te.a)({},T))},rn=["inputCurrency","outputCurrency"],sn=Object(l.lazy)((()=>n.e(6).then(n.bind(null,"./src/components/TradeRouting.tsx")))),cn=Object(l.lazy)((()=>n.e(5).then(n.bind(null,"./src/components/LiveChart/index.tsx"))));!function(e){e.SWAP="swap",e.INFO="info",e.SETTINGS="settings",e.GAS_PRICE_TRACKER="gas_price_tracker",e.LIQUIDITY_SOURCES="liquidity_sources",e.LIMIT="limit"}(gt||(gt={}));var an=Object(O.default)(F.a).withConfig({displayName:"SwapV3__AppBodyWrapped",componentId:"sc-upb8sq-0"})(["box-shadow:0px 4px 16px rgba(0,0,0,0.04);padding:16px;margin-top:0;border:1px solid #52ccad;&[data-highlight='true']{animation:"," 2s 2 alternate ease-in-out;}"],(e=>(e=>Object(O.keyframes)(["0%{box-shadow:0 0 0 0 ",";}70%{box-shadow:0 0 0 2px ",";}100%{box-shadow:0 0 0 0 ",";}"],e.primary,e.primary,e.primary))(e.theme))),on=O.default.div.withConfig({displayName:"SwapV3__SwitchLocaleLinkWrapper",componentId:"sc-upb8sq-1"})(["margin-bottom:30px;",""],(e=>e.theme.mediaWidth.upToMedium(ht||(ht=Object(c.a)(["\n  margin-bottom: 0px;\n"]))))),dn=Object(O.default)(x.a).withConfig({displayName:"SwapV3__RoutingIconWrapper",componentId:"sc-upb8sq-2"})(["height:27px;width:27px;margin-right:10px;path{fill:"," !important;}"],(e=>e.theme.subText));function ln(){var e=Object(j.m)(),t=Object(z.b)(),n=t.chainId,c=t.networkInfo,u=t.isSolana,O=Object(Y.k)(),x=Object(Y.n)(),F=Object(Y.l)(),te=Object(V.a)(),ne=Object(K.a)(),re=Object(s.a)(ne,1)[0].show,se=void 0!==re&&re,ce=Object(l.useState)(),ie=Object(s.a)(ce,2),ae=ie[0],oe=ie[1],de=Object(l.useState)(!1),le=Object(s.a)(de,2),ue=le[0],be=le[1],je=Object(j.k)().pathname,pe=Object(l.useRef)(null),Oe=Object(l.useRef)(null),xe=Object(l.useState)(!1),me=Object(s.a)(xe,2),he=me[0],ge=me[1],fe="true"===te.highlightBox,ye=je.startsWith(U.h.SWAP),Se=je.startsWith(U.h.LIMIT),we=Object(l.useState)(ye?gt.SWAP:gt.LIMIT),Ie=Object(s.a)(we,2),ke=Ie[0],Ce=Ie[1],Te=Object(H.a)().onSelectPair,Ae=Object(H.b)(),_e=Object(l.useMemo)((()=>({[q.a.INPUT]:Ae.currencyIn,[q.a.OUTPUT]:Ae.currencyOut})),[Ae.currencyIn,Ae.currencyOut]);Object(l.useEffect)((()=>{Ce(ye?gt.SWAP:gt.LIMIT)}),[ye]);var Pe=Object(l.useCallback)((()=>{var e;Se&&(null===(e=Oe.current)||void 0===e||e.refreshListOrder())}),[Se]);Object($.d)();var Ne=Object(l.useState)(!1),Re=Object(s.a)(Ne,2),Ee=Re[0],Le=Re[1],Me=Object(G.a)(),We=Object(Y.c)(),Ue=Object(s.a)(We,1)[0],ze=Object($.h)(),De=ze.onCurrencySelection,Be=ze.onUserInput,Ve=Object($.f)(),Ge=Object($.g)(),Fe=Object(l.useMemo)((()=>({[q.a.INPUT]:Ve,[q.a.OUTPUT]:Ge})),[Ve,Ge]),He=Object(l.useMemo)((()=>{var e,t;return null!==(e=null===(t=ye?[Ve,Ge]:[Ae.currencyIn,Ae.currencyOut])||void 0===t?void 0:t.filter((e=>e instanceof o.Token)))&&void 0!==e?e:[]}),[ye,Ve,Ge,Ae.currencyIn,Ae.currencyOut]),qe=Object(D.e)(),$e=He&&He.filter((e=>!Boolean(e.address in qe))),Ke=Object(l.useCallback)((e=>{Be(q.a.INPUT,e)}),[Be]),Ye=Object(l.useCallback)((()=>{he?ge(!1):Le(!0)}),[he]),Qe=Object(l.useCallback)((e=>{var t;(Ye(),he)&&(null===(t=pe.current)||void 0===t||t.onConfirmImportToken());Se&&(Te(e[0],e[1]),be(!0))}),[Se,Te,he,Ye]),Xe=Object(B.c)(Fe).mixpanelHandler,Je=Object(l.useCallback)(((e,t,n)=>{if(Se)return Te(e,t),void be(!0);e&&De(q.a.INPUT,e),t&&De(q.a.OUTPUT,t),n&&Ke(n)}),[Ke,De,Te,Se]),Ze=Object(D.i)();Object(l.useEffect)((()=>{Ue&&Xe(B.a.ADVANCED_MODE_ON)}),[Ue,Xe]);var et=Object(l.useMemo)((()=>{var e=ye?Ve:Ae.currencyIn,t=ye?Ge:Ae.currencyOut;return"".concat(window.location.origin).concat(ye?U.h.SWAP:U.h.LIMIT,"/").concat(c.route).concat(e&&t?"?".concat(Object(d.stringify)({inputCurrency:Object(J.a)(e,n),outputCurrency:Object(J.a)(t,n)})):"")}),[c.route,Ve,Ge,n,Ae.currencyIn,Ae.currencyOut,ye]),tt=Object(ee.a)(n,Object(Z.c)(Ve),Object(Z.c)(Ge)),nt=tt.isInWhiteList,rt=tt.canonicalUrl,st=()=>Ce(Se?gt.LIMIT:gt.SWAP),ct=e=>Ce(ke===e?Se?gt.LIMIT:gt.SWAP:e),it=F&&Ve&&Ge&&nt&&ye,at=Ze&&$e.length>0&&(!Ee||he),ot=t=>{if(ke!==t){te.inputCurrency,te.outputCurrency;var n=Object(r.a)(te,rn);e({pathname:"".concat(t===gt.LIMIT?U.h.LIMIT:U.h.SWAP,"/").concat(c.route),search:Object(d.stringify)(n)})}},dt=Object(l.useMemo)((()=>Object(X.a)(n,null===ae||void 0===ae?void 0:ae.parsedAmountIn,void 0,null===ae||void 0===ae?void 0:ae.route,qe)),[n,qe,ae]);return Object(ve.jsxs)(ve.Fragment,{children:[Object(ve.jsx)(v.a,{canonicalUrl:rt}),Object(ve.jsx)(k.b,{}),Object(ve.jsx)(S.a,{isOpen:at,tokens:$e,onConfirm:Qe,onDismiss:Ye}),Object(ve.jsxs)(W.l,{children:[Object(ve.jsx)(m.a,{}),Object(ve.jsx)(I.a,{}),Object(ve.jsxs)(W.d,{children:[Object(ve.jsxs)(W.s,{isShowTutorial:se,children:[Object(ve.jsxs)(g.b,{children:[Object(ve.jsx)(W.v,{children:Object(ve.jsxs)(W.w,{children:[Object(ve.jsx)(W.u,{onClick:()=>ot(gt.SWAP),isActive:ye,children:Object(ve.jsx)(p.e,{fontSize:20,fontWeight:500,children:Object(ve.jsx)(i.b,{id:"Swap"})})}),Object(Q.o)(n)&&Object(ve.jsx)(W.u,{onClick:()=>ot(gt.LIMIT),isActive:Se,children:Object(ve.jsx)(p.e,{fontSize:20,fontWeight:500,children:Object(ve.jsx)(i.b,{id:"Limit"})})})]})}),Object(ve.jsxs)(W.r,{children:[Object(ve.jsx)(N.a,{currencies:ye?Fe:_e,onClick:()=>{Xe(B.a.SWAP_TOKEN_INFO_CLICK),ct(gt.INFO)}}),Object(ve.jsx)(f.a,{title:a.a._("Share this with your friends!"),url:et,onShared:()=>{Xe(B.a.TOKEN_SWAP_LINK_SHARED)}}),Object(ve.jsx)(W.o,{active:ke===gt.SETTINGS,onClick:()=>{ct(gt.SETTINGS),Xe(B.a.SWAP_SETTINGS_CLICK)},"aria-label":"Swap Settings",children:Object(ve.jsx)(w.a,{text:Ue?Object(ve.jsx)(i.b,{id:"Advanced mode is on!"}):Object(ve.jsx)(i.b,{id:"Settings"}),placement:"top",width:"fit-content",children:Object(ve.jsx)("span",{id:C.b.BUTTON_SETTING_SWAP_FORM,children:Object(ve.jsx)(h.a,{fill:Ue?Me.warning:Me.subText})})})})]})]}),Object(ve.jsx)(g.b,{children:Object(ve.jsx)(p.e,{fontSize:12,color:Me.subText,children:Se?Object(ve.jsx)(i.b,{id:"Buy or sell any token at a specific price"}):Object(ve.jsx)(i.b,{id:"Buy or sell any token instantly at the best price"})})}),!u&&Object(ve.jsx)(g.b,{children:Object(ve.jsx)(R.c,{ref:pe,onSelectSuggestedPair:Je,setShowModalImportToken:ge})}),Object(ve.jsxs)(an,{"data-highlight":fe,id:C.b.SWAP_FORM,children:[Object(ve.jsx)(nn,{routeSummary:ae,setRouteSummary:oe,goToSettingsView:()=>Ce(gt.SETTINGS),hidden:ke!==gt.SWAP}),ke===gt.INFO&&Object(ve.jsx)(L.a,{currencies:ye?Fe:_e,onBack:st}),ke===gt.SETTINGS&&Object(ve.jsx)(E.a,{isLimitOrder:Se,onBack:st,onClickLiquiditySources:()=>Ce(gt.LIQUIDITY_SOURCES),onClickGasPriceTracker:()=>Ce(gt.GAS_PRICE_TRACKER)}),ke===gt.GAS_PRICE_TRACKER&&Object(ve.jsx)(T.a,{onBack:()=>Ce(gt.SETTINGS)}),ke===gt.LIQUIDITY_SOURCES&&Object(ve.jsx)(P.a,{onBack:()=>Ce(gt.SETTINGS)}),ke===gt.LIMIT&&Object(ve.jsx)(A.a,{isSelectCurrencyManual:ue,setIsSelectCurrencyManual:be,refreshListOrder:Pe})]})]}),(O||x||it||Se)&&Object(ve.jsxs)(W.h,{children:[O&&Object(ve.jsx)(W.j,{children:Object(ve.jsx)(l.Suspense,{fallback:Object(ve.jsx)(b.a,{height:"100%",baseColor:Me.background,highlightColor:Me.buttonGray,borderRadius:"1rem"}),children:Object(ve.jsx)(cn,{currencies:ye?Fe:_e})})}),x&&ye&&Object(ve.jsx)(W.n,{isOpenChart:O,children:Object(ve.jsxs)(p.b,{flexDirection:"column",width:"100%",children:[Object(ve.jsxs)(p.b,{alignItems:"center",children:[Object(ve.jsx)(dn,{}),Object(ve.jsx)(p.e,{fontSize:20,fontWeight:500,color:Me.subText,children:Object(ve.jsx)(i.b,{id:"Your trade route"})})]}),Object(ve.jsx)(l.Suspense,{fallback:Object(ve.jsx)(b.a,{height:"100px",baseColor:Me.background,highlightColor:Me.buttonGray,borderRadius:"1rem"}),children:Object(ve.jsx)(sn,{tradeComposition:dt,currencyIn:Ve,currencyOut:Ge,inputAmount:null===ae||void 0===ae?void 0:ae.parsedAmountIn,outputAmount:null===ae||void 0===ae?void 0:ae.parsedAmountOut})})]})}),Se&&Object(ve.jsx)(_.a,{ref:Oe}),it&&Object(ve.jsx)(M.a,{currencyIn:Ve,currencyOut:Ge})]})]}),Object(ve.jsx)(p.b,{justifyContent:"center",children:Object(ve.jsx)(on,{children:Object(ve.jsx)(y.a,{})})})]})]})}}}]);