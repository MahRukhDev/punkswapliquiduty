(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[16],{"./src/components/CurrentPrice/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/react/index.js"),r=n("./node_modules/rebass/dist/index.esm.js"),a=n("./src/components/Button/index.tsx"),s=n("./src/components/Icons/SwitchIcon.tsx"),c=n("./src/hooks/useTheme.ts"),d=n("./src/utils/dmm.ts"),l=n("./node_modules/react/jsx-runtime.js");function u(e){var t,n=e.price,u=Object(c.a)(),b=Object(o.useState)(!1),p=Object(i.a)(b,2),m=p[0],j=p[1],x=m?null===n||void 0===n?void 0:n.toSignificant(8):null===n||void 0===n||null===(t=n.invert())||void 0===t?void 0:t.toSignificant(8),f=Boolean((null===n||void 0===n?void 0:n.baseCurrency)&&(null===n||void 0===n?void 0:n.quoteCurrency)),v=Object(d.i)(null===n||void 0===n?void 0:n.quoteCurrency),h=Object(d.i)(null===n||void 0===n?void 0:n.baseCurrency),g=m?"1 ".concat(null===h||void 0===h?void 0:h.symbol," = ").concat(null!==x&&void 0!==x?x:"-"," ").concat(null===v||void 0===v?void 0:v.symbol):"1 ".concat(null===v||void 0===v?void 0:v.symbol," = ").concat(null!==x&&void 0!==x?x:"-"," ").concat(null===h||void 0===h?void 0:h.symbol);return Object(l.jsx)(r.e,{fontWeight:400,fontSize:14,children:f?Object(l.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(l.jsx)("div",{style:{marginRight:"4px"},children:g}),Object(l.jsx)(a.d,{padding:"0",width:"fit-content",onClick:()=>j&&j(!m),children:Object(l.jsx)(s.a,{color:u.text})})]}):"-"})}},"./src/components/Dots.tsx":function(e,t,n){"use strict";var i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=i},"./src/components/LiquidityProviderMode/index.tsx":function(e,t,n){"use strict";var i=n("./node_modules/@lingui/react/esm/index.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./src/components/InfoHelper/index.tsx"),a=n("./src/components/PoolList/styled.tsx"),s=n("./src/hooks/useTheme.ts"),c=n("./node_modules/react/jsx-runtime.js"),d=Object(o.default)(a.g).withConfig({displayName:"LiquidityProviderMode__Tab",componentId:"sc-ojkkge-0"})(["padding:8px;"]);t.a=e=>{var t=e.activeTab,n=e.setActiveTab,o=e.singleTokenInfo,l=Object(s.a)();return Object(c.jsxs)(a.f,{style:{padding:"4px"},children:[Object(c.jsx)(d,{active:0===t,onClick:()=>n(0),role:"button",children:Object(c.jsx)(i.b,{id:"Token Pair"})}),Object(c.jsxs)(d,{active:1===t,onClick:()=>n(1),role:"button",children:[Object(c.jsx)(i.b,{id:"Single Token"}),Object(c.jsx)(r.a,{text:o,size:12,isActive:1===t,color:1===t?l.text:l.subText})]})]})}},"./src/components/PoolList/styled.tsx":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return j})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return f}));var i=n("./node_modules/rebass/dist/index.esm.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=o.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-w652p9-0"})(["display:grid;grid-gap:1.5rem;grid-template-columns:2fr 1.5fr 1fr 1fr 1fr 1fr 1fr;padding:12px 16px;font-size:14px;align-items:center;height:fit-content;position:relative;border-bottom:1px solid ",";background:",";:last-child{border-bottom:none;border-bottom-right-radius:20px;border-bottom-left-radius:20px;}"],(e=>e.theme.border),(e=>e.theme.background)),a=Object(o.default)(i.b).withConfig({displayName:"styled__DataText",componentId:"sc-w652p9-1"})(["color:",";flex-direction:column;"],(e=>e.theme.text7)),s=Object(o.default)(i.b).withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-w652p9-2"})(["justify-content:flex-end;gap:4px;align-items:center;"]),c=o.default.div.withConfig({displayName:"styled__AMPLiquidityAndTVLContainer",componentId:"sc-w652p9-3"})(["display:flex;flex-direction:column;align-items:flex-end;gap:8px;"]),d=o.default.div.withConfig({displayName:"styled__TextTVL",componentId:"sc-w652p9-4"})(["font-size:12px;color:",";"],(e=>e.theme.subText)),l=o.default.div.withConfig({displayName:"styled__TokenRatioContainer",componentId:"sc-w652p9-5"})(["background:",";position:relative;overflow:hidden;border-radius:999px;padding:4px;overflow:hidden;margin-top:1rem;"],(e=>e.theme.background)),u=o.default.div.withConfig({displayName:"styled__TokenRatioGrid",componentId:"sc-w652p9-6"})(["padding:4px;display:grid;grid-template-columns:auto 1fr 1fr auto;grid-template-rows:1fr;gap:8px;isolation:isolate;"]),b=o.default.div.withConfig({displayName:"styled__ProgressWrapper",componentId:"sc-w652p9-7"})(["position:absolute;top:2px;left:2px;bottom:2px;width:calc(100% - 4px);border-top-left-radius:999px;border-bottom-left-radius:999px;overflow:hidden;"]),p=o.default.div.withConfig({displayName:"styled__Progress",componentId:"sc-w652p9-8"})(["height:44px;width:",";background:",";"],(e=>e.value+"%"),(e=>e.theme.buttonBlack)),m=o.default.div.withConfig({displayName:"styled__TokenRatioName",componentId:"sc-w652p9-9"})(["font-size:14px;font-weight:500;"]),j=o.default.div.withConfig({displayName:"styled__TokenRatioPercent",componentId:"sc-w652p9-10"})(["font-size:12px;font-weight:500;color:",";"],(e=>e.theme.subText)),x=o.default.div.withConfig({displayName:"styled__TabContainer",componentId:"sc-w652p9-11"})(["width:100%;background:",";border-radius:20px;display:flex;padding:2px;cursor:pointer;"],(e=>e.theme.tabBackgound)),f=o.default.div.withConfig({displayName:"styled__TabItem",componentId:"sc-w652p9-12"})(["font-size:12px;font-weight:500;color:",";background:",";display:flex;justify-content:center;align-items:center;padding:6px;border-radius:20px;flex-grow:1;flex-basis:0;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.text:t.subText}),(e=>{var t=e.theme;return e.active?t.tabActive:"transparent"}))},"./src/components/Slider/index.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("./node_modules/react/index.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./node_modules/react/jsx-runtime.js"),a=o.default.input.withConfig({displayName:"Slider__StyledRangeInput",componentId:"sc-1tszkgv-0"})(["-webkit-appearance:none;width:100%;background:transparent;cursor:pointer;&:focus{outline:none;}&::-moz-focus-outer{border:0;}&::-webkit-slider-thumb{-webkit-appearance:none;height:","px;width:","px;background-color:",";border-radius:100%;border:none;transform:translateY(-50%);color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-moz-range-thumb{height:","px;width:","px;background-color:",";border-radius:100%;border:none;color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-ms-thumb{height:","px;width:","px;background-color:",";border-radius:100%;color:",";&:hover,&:focus{box-shadow:0px 0px 1px rgba(0,0,0,0.1),0px 4px 8px rgba(0,0,0,0.08),0px 16px 24px rgba(0,0,0,0.06),0px 24px 32px rgba(0,0,0,0.04);}}&::-webkit-slider-runnable-track{background:linear-gradient(90deg,",",",");height:2px;}&::-moz-range-track{background:linear-gradient(90deg,",",",");height:2px;}&::-ms-track{width:100%;border-color:transparent;color:transparent;background:",";height:2px;}&::-ms-fill-lower{background:",";}&::-ms-fill-upper{background:",";}"],(e=>e.size),(e=>e.size),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.size),(e=>e.size),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.size),(e=>e.size),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText),(e=>e.theme.subText));function s(e){var t=e.value,n=e.onChange,o=e.min,s=void 0===o?0:o,c=e.step,d=void 0===c?1:c,l=e.max,u=void 0===l?100:l,b=e.size,p=void 0===b?28:b,m=e.style,j=e.className,x=Object(i.useCallback)((e=>{n(parseInt(e.target.value))}),[n]);return Object(r.jsx)(a,{size:p,type:"range",value:t,style:m||{width:"90%",marginLeft:15,marginRight:15,padding:"15px 0"},onChange:x,"aria-labelledby":"input slider",step:d,min:s,max:u,className:j})}},"./src/components/ZapError/index.tsx":function(e,t,n){"use strict";var i=n("./node_modules/polished/dist/polished.esm.js"),o=n("./node_modules/react-feather/dist/icons/alert-triangle.js"),r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./src/hooks/useTheme.ts"),s=n("./node_modules/react/jsx-runtime.js"),c=r.default.div.withConfig({displayName:"ZapError__ZapErrorWrapper",componentId:"sc-si8u1w-0"})(["display:flex;align-items:center;gap:8px;background:",";padding:1rem;border-radius:999px;margin-bottom:28px;color:",";font-size:12px;font-weight:400;"],(e=>{var t=e.theme,n=e.warning;return Object(i.d)(n?t.warning:t.red,.35)}),(e=>e.theme.text));t.a=e=>{var t=e.message,n=e.warning,i=Object(a.a)();return Object(s.jsxs)(c,{warning:n,children:[Object(s.jsx)(o.a,{color:n?i.warning:i.red,style:{strokeWidth:1.5},size:16}),t]})}},"./src/components/swapv2/FormattedPriceImpact.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("./node_modules/rebass/dist/index.esm.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=n("./src/constants/index.ts"),a=n("./src/utils/prices.ts"),s=n("./node_modules/react/jsx-runtime.js"),c=Object(o.default)(i.e).withConfig({displayName:"FormattedPriceImpact__ErrorText",componentId:"sc-dicq1s-0"})(["color:",";"],(e=>{var t=e.theme,n=e.severity;return 3===n||4===n?t.red1:2===n?t.yellow2:1===n?t.text:t.green1}));function d(e){var t=e.priceImpact;return!t||t.lessThan("0")?Object(s.jsx)("div",{children:"--"}):Object(s.jsx)(c,{fontWeight:500,fontSize:14,severity:Object(a.f)(t),children:t.lessThan(r.O)?"<0.01%":"".concat(t.toFixed(2),"%")})}},"./src/data/TotalSupply.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),o=n("./src/hooks/useContract.ts"),r=n("./src/state/multicall/hooks.ts");function a(e){var t,n,a=Object(o.u)(null===e||void 0===e?void 0:e.address,!1),s=null===(t=Object(r.c)(a,"totalSupply"))||void 0===t||null===(n=t.result)||void 0===n?void 0:n[0];return e&&s?i.TokenAmount.fromRawAmount(e,s.toString()):void 0}},"./src/hooks/useZap.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),r=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),a=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),s=n("./node_modules/react/index.js"),c=n("./src/hooks/index.ts"),d=n("./src/hooks/useContract.ts"),l=(e,t)=>{var n=Object(d.x)(e,t),i=Object(c.b)(),a=i.isEVM,l=i.networkInfo,u=Object(s.useCallback)(function(){var i=Object(r.a)(Object(o.a)().mark((function i(r,s,c,d){var u;return Object(o.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=2;break}return i.abrupt("return");case 2:if(i.prev=2,!e||t){i.next=9;break}return i.next=6,null===n||void 0===n?void 0:n.calculateZapInAmounts(l.classic.static.factory,r,s,c,d);case 6:i.t0=i.sent,i.next=12;break;case 9:return i.next=11,null===n||void 0===n?void 0:n.calculateZapInAmounts(r,s,c,d);case 11:i.t0=i.sent;case 12:return u=i.t0,i.abrupt("return",u);case 16:throw i.prev=16,i.t1=i.catch(2),console.error(i.t1),i.t1;case 20:case"end":return i.stop()}}),i,null,[[2,16]])})));return function(e,t,n,o){return i.apply(this,arguments)}}(),[n,a,l,e,t]),b=Object(s.useCallback)(function(){var i=Object(r.a)(Object(o.a)().mark((function i(r,s,c,d){var u;return Object(o.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a){i.next=2;break}return i.abrupt("return");case 2:if(i.prev=2,!e||t){i.next=9;break}return i.next=6,null===n||void 0===n?void 0:n.calculateZapOutAmount(l.classic.static.factory,r,s,c,d);case 6:i.t0=i.sent,i.next=12;break;case 9:return i.next=11,null===n||void 0===n?void 0:n.calculateZapOutAmount(r,s,c,d);case 11:i.t0=i.sent;case 12:return u=i.t0,i.abrupt("return",u);case 16:throw i.prev=16,i.t1=i.catch(2),console.error(i.t1),i.t1;case 20:case"end":return i.stop()}}),i,null,[[2,16]])})));return function(e,t,n,o){return i.apply(this,arguments)}}(),[n,a,l,e,t]);return{zapContract:n,calculateZapInAmounts:u,calculateZapOutAmount:b}},u=(e,t,n,c,d,u)=>{var b=l(e,t).calculateZapInAmounts,p=Object(s.useState)({amounts:{tokenInAmount:a.a.from(0),tokenOutAmount:a.a.from(0)},error:void 0}),m=Object(i.a)(p,2),j=m[0],x=m[1];return Object(s.useEffect)((()=>{function e(){return(e=Object(r.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=3;break}return x({amounts:{tokenInAmount:a.a.from(0),tokenOutAmount:a.a.from(0)},error:void 0}),e.abrupt("return");case 3:if(e.prev=3,!(n&&c&&d&&null!==u&&void 0!==u&&u.gt(0))){e.next=9;break}return e.next=7,b(n,c,d,u);case 7:t=e.sent,x({amounts:t,error:void 0});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),x({amounts:{tokenInAmount:a.a.from(0),tokenOutAmount:a.a.from(0)},error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,d,n,c,u]),j},b=(e,t,n,c,d,u)=>{var b=l(e,t).calculateZapOutAmount,p=Object(s.useState)({amount:a.a.from(0),error:void 0}),m=Object(i.a)(p,2),j=m[0],x=m[1];return Object(s.useEffect)((()=>{function e(){return(e=Object(r.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&!u.eq(0)){e.next=3;break}return x({amount:a.a.from(0),error:void 0}),e.abrupt("return");case 3:if(e.prev=3,!(n&&c&&d&&null!==u&&void 0!==u&&u.gt(0))){e.next=9;break}return e.next=7,b(n,c,d,u);case 7:t=e.sent,x({amount:t,error:void 0});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),x({amount:a.a.from(0),error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,n,c,d,u]),j}},"./src/pages/Pool/styleds.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var i=n("./node_modules/rebass/dist/index.esm.js"),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=o.default.div.withConfig({displayName:"styleds__Wrapper",componentId:"sc-qs1q00-0"})(["position:relative;"]),a=(Object(o.default)(i.e).withConfig({displayName:"styleds__ClickableText",componentId:"sc-qs1q00-1"})([":hover{cursor:pointer;}color:",";"],(e=>e.theme.primary)),o.default.span.withConfig({displayName:"styleds__Dots",componentId:"sc-qs1q00-2"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]))},"./src/pages/RemoveLiquidity/index.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return he}));var i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/@lingui/react/esm/index.js"),r=n("./node_modules/@lingui/core/esm/index.js"),a=n("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),s=n("./node_modules/jsbi/dist/jsbi-umd.js"),c=n.n(s),d=n("./node_modules/react/index.js"),l=n("./node_modules/react-router/dist/index.js"),u=n("./src/components/LiquidityProviderMode/index.tsx"),b=n("./src/components/NavigationTabs/index.tsx"),p=n("./src/components/PositionCard/index.tsx"),m=n("./src/hooks/index.ts"),j=n("./src/hooks/Tokens.ts"),x=n("./src/hooks/useMixpanel.ts"),f=n("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),v=n("./node_modules/react-redux/es/index.js"),h=n("./src/data/Reserves.ts"),g=n("./src/data/TotalSupply.ts"),O=n("./src/hooks/useZap.ts"),C=n("./src/state/hooks.ts"),y=n("./src/state/swap/hooks.ts"),I=n("./src/state/user/hooks.tsx"),R=n("./src/state/wallet/hooks.ts"),_=n("./src/utils/index.ts"),T=n("./src/state/burn/actions.ts");function k(){return Object(v.e)((e=>e.burn))}function E(e,t,n){var o,s,l=Object(m.b)().account,u=k(),b=u.independentField,p=u.typedValue,j=b===T.a.CURRENCY_A?T.a.CURRENCY_B:T.a.CURRENCY_A,x=Object(d.useMemo)((()=>({[T.a.CURRENCY_A]:null!==e&&void 0!==e?e:void 0,[T.a.CURRENCY_B]:null!==t&&void 0!==t?t:void 0})),[e,t]),f=null===e||void 0===e?void 0:e.wrapped,v=null===t||void 0===t?void 0:t.wrapped,O=Object(h.c)(f,v,n),C=Object(i.a)(O,4),E=C[1],w=C[2],N=C[3],U=Object(I.x)(),S=Object(i.a)(U,1)[0],Y=Object(R.f)(null===E||void 0===E?void 0:E.liquidityToken),A={[T.a.CURRENCY_A]:f,[T.a.CURRENCY_B]:v,[T.a.LIQUIDITY]:null===E||void 0===E?void 0:E.liquidityToken},q=Object(g.a)(null===E||void 0===E?void 0:E.liquidityToken),L=E&&q&&Y&&f&&c.a.greaterThanOrEqual(q.quotient,Y.quotient)?a.TokenAmount.fromRawAmount(f,E.getLiquidityValue(f,q,Y).quotient):void 0,P=E&&q&&Y&&v&&c.a.greaterThanOrEqual(q.quotient,Y.quotient)?a.TokenAmount.fromRawAmount(v,E.getLiquidityValue(v,q,Y).quotient):void 0,z={[T.a.CURRENCY_A]:L,[T.a.CURRENCY_B]:P},D=new a.Percent("0","100");if(b===T.a.LIQUIDITY_PERCENT)D=new a.Percent(p,"100");else if(b===T.a.LIQUIDITY){if(null!==E&&void 0!==E&&E.liquidityToken){var B,W=Object(y.b)(p,E.liquidityToken);if(W&&Y&&W.greaterThan(Y))s=null!==(B=s)&&void 0!==B?B:r.a._("Insufficient balance");W&&Y&&!W.greaterThan(Y)&&(D=new a.Percent(W.quotient,Y.quotient))}}else if(A[b]){var F=Object(y.b)(p,A[b]),Q=z[b];F&&Q&&!F.greaterThan(Q)&&(D=new a.Percent(F.quotient,Q.quotient))}var M,H,V={[T.a.LIQUIDITY_PERCENT]:D,[T.a.LIQUIDITY]:Y&&D&&D.greaterThan("0")?a.TokenAmount.fromRawAmount(Y.currency,D.multiply(Y.quotient).quotient):void 0,[T.a.CURRENCY_A]:f&&D&&D.greaterThan("0")&&L?a.TokenAmount.fromRawAmount(f,D.multiply(L.quotient).quotient):void 0,[T.a.CURRENCY_B]:v&&D&&D.greaterThan("0")&&P?a.TokenAmount.fromRawAmount(v,D.multiply(P.quotient).quotient):void 0},Z={[T.a.CURRENCY_A]:V&&V[T.a.CURRENCY_A]?Object(_.c)(V[T.a.CURRENCY_A],S)[0]:void 0,[T.a.CURRENCY_B]:V&&V[T.a.CURRENCY_B]?Object(_.c)(V[T.a.CURRENCY_B],S)[0]:void 0},G=Object(d.useMemo)((()=>{var t=null===e||void 0===e?void 0:e.wrapped;return E&&t?E.priceOf(t):void 0}),[e,E]);(l||(s=r.a._("Connect wallet")),V[T.a.LIQUIDITY]&&V[T.a.CURRENCY_A]&&V[T.a.CURRENCY_B])||(s=null!==(M=s)&&void 0!==M?M:r.a._("Enter an amount"));Y&&null!==(o=V[T.a.LIQUIDITY])&&void 0!==o&&o.greaterThan(Y)&&(s=null!==(H=s)&&void 0!==H?H:r.a._("Insufficient balance"));return{dependentField:j,currencies:x,pair:E,userLiquidity:Y,parsedAmounts:V,amountsMin:Z,price:G,error:s,isStaticFeePair:w,isOldStaticFeeContract:N}}var w=n("./src/utils/dmm.ts"),N=n("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),U=n("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),S=n("./node_modules/@ethersproject/bytes/lib.esm/index.js"),Y=n("./node_modules/@sentry/core/esm/exports.js"),A=n("./node_modules/rebass/dist/index.esm.js"),q=n("./src/components/Button/index.tsx"),L=n("./src/components/Card/index.tsx"),P=n("./src/components/Column/index.tsx"),z=n("./src/components/CurrencyInputPanel/index.tsx"),D=n("./src/components/CurrencyLogo/index.tsx"),B=n("./src/components/CurrentPrice/index.tsx"),W=n("./src/components/Dots.tsx"),F=n("./src/components/DoubleLogo/index.tsx"),Q=n("./src/components/Loader/index.tsx"),M=n("./src/components/Row/index.tsx"),H=n("./src/components/Slider/index.tsx"),V=n("./src/components/TransactionConfirmationModal/index.tsx"),Z=n("./src/constants/index.ts"),G=n("./src/constants/tokens.ts"),J=n("./src/hooks/useApproveCallback.ts"),K=n("./src/hooks/useContract.ts"),X=n("./src/state/multicall/hooks.ts");function $(){var e,t,n=Object(m.b)().account,i=Object(K.a)(),o=Object(X.c)(i,"isArgentWallet",[null!==n&&void 0!==n?n:void 0],X.a);return null!==(e=null===o||void 0===o||null===(t=o.result)||void 0===t?void 0:t[0])&&void 0!==e&&e}var ee=n("./src/hooks/useTheme.ts"),te=n("./src/hooks/useTransactionDeadline.ts"),ne=n("./src/pages/Pool/styleds.tsx"),ie=n("./src/state/application/hooks.ts"),oe=n("./src/state/transactions/hooks.tsx"),re=n("./src/state/transactions/type.ts"),ae=n("./src/theme/index.tsx"),se=n("./src/utils/currencyId.ts"),ce=n("./src/utils/formatBalance.ts"),de=n("./src/utils/getContract.ts"),le=n("./src/utils/sentry.ts"),ue=n("./src/utils/useDebouncedChangeHandler.tsx"),be=n("./src/pages/RemoveLiquidity/styled.tsx"),pe=n("./node_modules/react/jsx-runtime.js");function me(e){var t,n,s,l,u,b,p,x,v,h,g,O,y,R,w,X=e.currencyIdA,me=e.currencyIdB,je=e.pairAddress,xe=null!==(t=Object(j.f)(X))&&void 0!==t?t:void 0,fe=null!==(n=Object(j.f)(me))&&void 0!==n?n:void 0,ve=Object(m.b)(),he=ve.account,ge=ve.chainId,Oe=ve.isEVM,Ce=ve.networkInfo,ye=Object(m.e)().library,Ie=xe,Re=fe,_e=Object(d.useMemo)((()=>[null===xe||void 0===xe?void 0:xe.wrapped,null===fe||void 0===fe?void 0:fe.wrapped]),[xe,fe]),Te=Object(i.a)(_e,2),ke=Te[0],Ee=Te[1],we=!(null===xe||void 0===xe||!xe.isNative),Ne=!(null===xe||void 0===xe||!xe.equals(a.WETH[ge])),Ue=!(null===fe||void 0===fe||!fe.isNative),Se=!(null===fe||void 0===fe||!fe.equals(a.WETH[ge])),Ye=Object(ee.a)(),Ae=Object(ie.x)(),qe=k(),Le=qe.independentField,Pe=qe.typedValue,ze=E(null!==xe&&void 0!==xe?xe:void 0,null!==fe&&void 0!==fe?fe:void 0,je),De=ze.pair,Be=ze.userLiquidity,We=ze.parsedAmounts,Fe=ze.amountsMin,Qe=ze.price,Me=ze.error,He=ze.isStaticFeePair,Ve=ze.isOldStaticFeeContract,Ze=Oe?He?Ve?null===(s=Ce.classic.oldStatic)||void 0===s?void 0:s.router:Ce.classic.static.router:null===(l=Ce.classic.dynamic)||void 0===l?void 0:l.router:void 0,Ge=(null===De||void 0===De?void 0:De.amp)||c.a.BigInt(0),Je=function(){var e=Object(C.a)();return{onUserInput:Object(d.useCallback)(((t,n)=>{e(Object(T.c)({field:t,typedValue:n}))}),[e])}}(),Ke=Je.onUserInput,Xe=!Me,$e=Object(d.useState)(!1),et=Object(i.a)($e,2),tt=et[0],nt=et[1],it=Object(d.useState)(!1),ot=Object(i.a)(it,2),rt=ot[0],at=ot[1],st=Object(d.useState)(""),ct=Object(i.a)(st,2),dt=ct[0],lt=ct[1],ut=Object(te.a)(),bt=Object(I.x)(),pt=Object(i.a)(bt,1)[0],mt=Object(d.useState)(""),jt=Object(i.a)(mt,2),xt=jt[0],ft=jt[1],vt={[T.a.LIQUIDITY_PERCENT]:We[T.a.LIQUIDITY_PERCENT].equalTo("0")?"0":We[T.a.LIQUIDITY_PERCENT].lessThan(new a.Percent("1","100"))?"<1":We[T.a.LIQUIDITY_PERCENT].toFixed(0),[T.a.LIQUIDITY]:Le===T.a.LIQUIDITY?Pe:null!==(u=null===(b=We[T.a.LIQUIDITY])||void 0===b?void 0:b.toSignificant(6))&&void 0!==u?u:"",[T.a.CURRENCY_A]:Le===T.a.CURRENCY_A?Pe:null!==(p=null===(x=We[T.a.CURRENCY_A])||void 0===x?void 0:x.toSignificant(6))&&void 0!==p?p:"",[T.a.CURRENCY_B]:Le===T.a.CURRENCY_B?Pe:null!==(v=null===(h=We[T.a.CURRENCY_B])||void 0===h?void 0:h.toSignificant(6))&&void 0!==v?v:""},ht=Object(K.n)(null===De||void 0===De||null===(g=De.liquidityToken)||void 0===g?void 0:g.address),gt=Object(d.useState)(null),Ot=Object(i.a)(gt,2),Ct=Ot[0],yt=Ot[1],It=Object(J.b)(We[T.a.LIQUIDITY],Ze),Rt=Object(i.a)(It,2),_t=Rt[0],Tt=Rt[1];Object(d.useEffect)((()=>{yt(null)}),[null===Be||void 0===Be?void 0:Be.toExact()]);var kt=$();function Et(){return Et=Object(U.a)(Object(N.a)().mark((function e(){var t,n,i,o,r,a;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge){e.next=2;break}throw new Error("missing chain");case 2:if(ht&&De&&ye&&ut){e.next=4;break}throw new Error("missing dependencies");case 4:if(t=We[T.a.LIQUIDITY]){e.next=7;break}throw new Error("missing liquidity amount");case 7:if(!kt){e.next=9;break}return e.abrupt("return",Tt());case 9:return e.next=11,ht.nonces(he);case 11:n=e.sent,i={name:He?"KyberSwap LP":"KyberDMM LP",version:"1",chainId:ge,verifyingContract:De.liquidityToken.address},o=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],r={owner:he,TransactionErrorContent:V.c,spender:Ze,value:t.quotient.toString(),nonce:n.toHexString(),deadline:ut.toNumber()},a=JSON.stringify({types:{EIP712Domain:Z.z,Permit:o},domain:i,primaryType:"Permit",message:r}),ye.send("eth_signTypedData_v4",[he,a]).then(S.splitSignature).then((e=>{yt({v:e.v,r:e.r,s:e.s,deadline:ut.toNumber()})})).catch((e=>{4001!==(null===e||void 0===e?void 0:e.code)&&Tt()}));case 17:case"end":return e.stop()}}),e)}))),Et.apply(this,arguments)}var wt=Object(d.useCallback)(((e,t)=>(yt(null),Ke(e,t))),[Ke]),Nt=Object(d.useCallback)((e=>wt(T.a.LIQUIDITY,e)),[wt]),Ut=Object(d.useCallback)((e=>wt(T.a.CURRENCY_A,e)),[wt]),St=Object(d.useCallback)((e=>wt(T.a.CURRENCY_B,e)),[wt]),Yt=Object(oe.g)();function At(){return qt.apply(this,arguments)}function qt(){return qt=Object(U.a)(Object(N.a)().mark((function e(){var t,n,i,o,s,d,l,u,b,p,m,j,x;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye&&he&&ut){e.next=2;break}throw new Error("missing dependencies");case 2:if(t=We[T.a.CURRENCY_A],n=We[T.a.CURRENCY_B],t&&n){e.next=5;break}throw new Error("missing currency amounts");case 5:if(i=He?Ve?Object(de.e)(ge,ye,he):Object(de.f)(ge,ye,he):Object(de.d)(ge,ye,he),o={[T.a.CURRENCY_A]:Object(_.c)(t,pt)[0],[T.a.CURRENCY_B]:Object(_.c)(n,pt)[0]},xe&&fe){e.next=9;break}throw new Error("missing tokens");case 9:if(s=We[T.a.LIQUIDITY]){e.next=12;break}throw new Error("missing liquidity amount");case 12:if(d=fe.isNative,l=xe.isNative||d,ke&&Ee){e.next=16;break}throw new Error("could not wrap");case 16:if(_t!==J.a.APPROVED){e.next=20;break}l?(u=["removeLiquidityETH","removeLiquidityETHSupportingFeeOnTransferTokens"],b=[d?ke.address:Ee.address,je,s.quotient.toString(),o[d?T.a.CURRENCY_A:T.a.CURRENCY_B].toString(),o[d?T.a.CURRENCY_B:T.a.CURRENCY_A].toString(),he,ut.toHexString()]):(u=["removeLiquidity"],b=[ke.address,Ee.address,je,s.quotient.toString(),o[T.a.CURRENCY_A].toString(),o[T.a.CURRENCY_B].toString(),he,ut.toHexString()]),e.next=25;break;case 20:if(null===Ct){e.next=24;break}l?(u=["removeLiquidityETHWithPermit","removeLiquidityETHWithPermitSupportingFeeOnTransferTokens"],b=[d?ke.address:Ee.address,je,s.quotient.toString(),o[d?T.a.CURRENCY_A:T.a.CURRENCY_B].toString(),o[d?T.a.CURRENCY_B:T.a.CURRENCY_A].toString(),he,Ct.deadline,!1,Ct.v,Ct.r,Ct.s]):(u=["removeLiquidityWithPermit"],b=[ke.address,Ee.address,je,s.quotient.toString(),o[T.a.CURRENCY_A].toString(),o[T.a.CURRENCY_B].toString(),he,Ct.deadline,!1,Ct.v,Ct.r,Ct.s]),e.next=25;break;case 24:throw new Error("Attempting to confirm without approval or a signature. Please contact support.");case 25:return e.next=27,Promise.all(u.map((e=>i.estimateGas[e](...b).then(_.b).catch((t=>{console.error("estimateGas failed",e,b,t);var n=new Error("Remove Classic Liquidity Error",{cause:t});n.name=le.a.RemoveClassicLiquidityError,Object(Y.a)(n,{extra:{methodName:e,args:b}}),ft((null===t||void 0===t?void 0:t.message)||JSON.stringify(t))})))));case 27:if(p=e.sent,m=p.findIndex((e=>f.a.isBigNumber(e))),-1!==m){e.next=33;break}console.error("This transaction would fail. Please contact support."),e.next=38;break;case 33:return j=u[m],x=p[m],at(!0),e.next=38,i[j](...b,{gasLimit:x}).then((e=>{if(xe&&fe){var t,n,i,o;at(!1);var r=null!==(t=null===(n=We[T.a.CURRENCY_A])||void 0===n?void 0:n.toSignificant(6))&&void 0!==t?t:"",s=null!==(i=null===(o=We[T.a.CURRENCY_B])||void 0===o?void 0:o.toSignificant(6))&&void 0!==i?i:"",d=Ne?G.i[ge].symbol:xe.symbol,l=Se?G.i[ge].symbol:fe.symbol;Yt({hash:e.hash,type:re.c.CLASSIC_REMOVE_LIQUIDITY,extraInfo:{tokenAmountIn:r,tokenAmountOut:s,tokenSymbolIn:d,tokenSymbolOut:l,tokenAddressIn:xe.wrapped.address,tokenAddressOut:fe.wrapped.address,contract:je,arbitrary:{poolAddress:je,token_1:xe.symbol,token_2:fe.symbol,remove_liquidity_method:"token pair",amp:new a.Fraction(Ge).divide(c.a.BigInt(1e4)).toSignificant(5)}}}),lt(e.hash)}})).catch((e=>{if(at(!1),4001!==(null===e||void 0===e?void 0:e.code)&&"ACTION_REJECTED"!==(null===e||void 0===e?void 0:e.code)){var t=new Error("Remove Classic Liquidity Error",{cause:e});t.name=le.a.RemoveClassicLiquidityError,Object(Y.a)(t,{extra:{args:b}})}e.message.includes("INSUFFICIENT")?ft(r.a._("Insufficient liquidity available. Please reload page or increase max slippage and try again!")):ft((null===e||void 0===e?void 0:e.message)||JSON.stringify(e))}));case 38:case"end":return e.stop()}}),e)}))),qt.apply(this,arguments)}var Lt=Object(ie.u)([ke,Ee]),Pt=We[T.a.CURRENCY_A]&&Lt[0]?parseFloat(We[T.a.CURRENCY_A].toSignificant(6))*Lt[0]:0,zt=We[T.a.CURRENCY_B]&&Lt[1]?parseFloat(We[T.a.CURRENCY_B].toSignificant(6))*Lt[1]:0,Dt="Removing ".concat(null===(O=We[T.a.CURRENCY_A])||void 0===O?void 0:O.toSignificant(6)," ").concat(null===Ie||void 0===Ie?void 0:Ie.symbol," and ").concat(null===(y=We[T.a.CURRENCY_B])||void 0===y?void 0:y.toSignificant(6)," ").concat(null===Re||void 0===Re?void 0:Re.symbol),Bt=Object(d.useCallback)((e=>{wt(T.a.LIQUIDITY_PERCENT,e.toString())}),[wt]),Wt=Object(d.useCallback)((()=>{nt(!1),yt(null),dt&&wt(T.a.LIQUIDITY_PERCENT,"0"),lt(""),ft("")}),[wt,dt]),Ft=Object(ue.a)(Number.parseInt(We[T.a.LIQUIDITY_PERCENT].toFixed(0)),Bt),Qt=Object(i.a)(Ft,2),Mt=Qt[0],Ht=Qt[1];function Vt(){var e,t;return Object(pe.jsxs)(P.a,{gap:"md",style:{marginTop:"20px"},children:[Object(pe.jsxs)(M.a,{gap:"4px",children:[Object(pe.jsx)(D.a,{currency:xe,size:"28px"}),Object(pe.jsx)(A.e,{fontSize:32,fontWeight:500,children:null===(e=We[T.a.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6)}),Object(pe.jsx)(A.e,{fontSize:32,fontWeight:500,children:null===Ie||void 0===Ie?void 0:Ie.symbol}),!!Pt&&Object(pe.jsxs)(A.e,{color:Ye.subText,marginLeft:"4px",fontSize:18,fontWeight:500,children:["(~",Object(_.i)(Pt.toString(),!0)||void 0,")"]})]}),Object(pe.jsxs)(M.a,{gap:"4px",children:[Object(pe.jsx)(D.a,{currency:fe,size:"28px"}),Object(pe.jsx)(A.e,{fontSize:32,fontWeight:500,children:null===(t=We[T.a.CURRENCY_B])||void 0===t?void 0:t.toSignificant(6)}),Object(pe.jsx)(A.e,{fontSize:32,fontWeight:500,children:null===Re||void 0===Re?void 0:Re.symbol}),!!zt&&Object(pe.jsxs)(A.e,{color:Ye.subText,marginLeft:"4px",fontSize:18,fontWeight:500,children:["(~",Object(_.i)(zt.toString(),!0)||void 0,")"]})]}),Object(pe.jsx)(ae.k.italic,{fontSize:12,fontWeight:400,color:Ye.subText,textAlign:"left",children:r.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:pt/100})})]})}function Zt(){var e;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(be.i,{children:De&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(be.b,{style:{paddingBottom:"8px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontSize:14,fontWeight:400,color:Ye.subText,children:Object(pe.jsx)(o.b,{id:"Current Price"})}),Object(pe.jsx)(ae.k.black,{fontSize:14,fontWeight:400,children:Object(pe.jsx)(B.a,{price:Qe})})]}),Object(pe.jsxs)(M.b,{style:{paddingBottom:"12px"},children:[Object(pe.jsx)(A.e,{color:Ye.subText,fontSize:14,fontWeight:400,children:Object(pe.jsx)(o.b,{id:"LP Tokens Removed"})}),Object(pe.jsxs)(M.d,{children:[Object(pe.jsx)(F.b,{currency0:xe,currency1:fe,margin:!0}),Object(pe.jsx)(A.e,{color:Ye.text,fontSize:14,fontWeight:400,children:null===(e=We[T.a.LIQUIDITY])||void 0===e?void 0:e.toSignificant(6)})]})]}),Fe&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(M.b,{style:{paddingBottom:"12px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:400,fontSize:14,color:Ye.subText,children:Object(pe.jsx)(o.b,{id:"Minimum Received"})}),Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:xe,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Fe[T.a.CURRENCY_A],null===xe||void 0===xe?void 0:xe.decimals)," ",null===Ie||void 0===Ie?void 0:Ie.symbol]})]})]}),Object(pe.jsxs)(M.b,{children:[Object(pe.jsx)("div",{}),Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:fe,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Fe[T.a.CURRENCY_B],null===fe||void 0===fe?void 0:fe.decimals)," ",null===Re||void 0===Re?void 0:Re.symbol]})]})]})]})]})}),Object(pe.jsx)(q.i,{disabled:!(_t===J.a.APPROVED||null!==Ct),onClick:At,children:Object(pe.jsx)(A.e,{fontWeight:500,fontSize:16,children:Object(pe.jsx)(o.b,{id:"Confirm"})})})]})}return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(ne.b,{children:[Object(pe.jsx)(V.e,{isOpen:tt,onDismiss:Wt,attemptingTxn:rt,hash:dt||"",content:()=>xt?Object(pe.jsx)(V.c,{onDismiss:Wt,message:xt}):Object(pe.jsx)(V.a,{title:"You will receive",onDismiss:Wt,topContent:Vt,bottomContent:Zt}),pendingText:Dt}),Object(pe.jsx)(P.a,{gap:"md",children:Object(pe.jsxs)(be.f,{children:[Object(pe.jsxs)(be.e,{children:[Object(pe.jsx)(L.a,{padding:"1rem",borderRadius:"4px",children:Object(pe.jsxs)(P.a,{gap:"1rem",children:[Object(pe.jsxs)(M.b,{children:[Object(pe.jsx)(A.e,{fontSize:12,fontWeight:500,children:Object(pe.jsx)(o.b,{id:"Amount"})}),Object(pe.jsxs)(A.e,{fontSize:12,fontWeight:500,children:[Object(pe.jsx)(o.b,{id:"Balance"}),": ",Be?null===Be||void 0===Be?void 0:Be.toSignificant(6):Object(pe.jsx)(Q.a,{})," LP Tokens"]})]}),Object(pe.jsx)(M.f,{style:{alignItems:"flex-end"},children:Object(pe.jsxs)(A.e,{fontSize:72,fontWeight:500,children:[vt[T.a.LIQUIDITY_PERCENT],"%"]})}),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(H.a,{value:Mt,onChange:Ht,size:18}),Object(pe.jsxs)(M.b,{style:{gap:"4px"},children:[Object(pe.jsx)(be.h,{onClick:()=>wt(T.a.LIQUIDITY_PERCENT,"25"),children:"25%"}),Object(pe.jsx)(be.h,{onClick:()=>wt(T.a.LIQUIDITY_PERCENT,"50"),children:"50%"}),Object(pe.jsx)(be.h,{onClick:()=>wt(T.a.LIQUIDITY_PERCENT,"75"),children:"75%"}),Object(pe.jsx)(be.h,{onClick:()=>wt(T.a.LIQUIDITY_PERCENT,"100"),children:Object(pe.jsx)(o.b,{id:"Max"})})]})]})]})}),ge&&De&&Object(pe.jsx)(z.a,{hideBalance:!0,hideLogo:!0,value:vt[T.a.LIQUIDITY],onUserInput:Nt,onMax:null,onHalf:null,disableCurrencySelect:!0,currency:new a.Token(ge,null===(R=De.liquidityToken)||void 0===R?void 0:R.address,null===(w=De.liquidityToken)||void 0===w?void 0:w.decimals,"LP Tokens","LP Tokens"),id:"liquidity-amount"})]}),Object(pe.jsxs)(be.l,{children:[Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[Object(pe.jsx)(z.a,{value:vt[T.a.CURRENCY_A],onUserInput:Ut,onMax:null,onHalf:null,currency:xe,label:r.a._("Output"),onCurrencySelect:()=>null,disableCurrencySelect:!0,id:"remove-liquidity-tokena",estimatedUsd:Object(_.i)(Pt.toString(),!0)||void 0}),Object(pe.jsx)(A.b,{justifyContent:"flex-end",alignItems:"center",marginTop:"0.5rem",children:je&&ge&&(we||Ne)&&Object(pe.jsx)(ae.j,{replace:!0,to:"/remove/".concat(we?Object(se.a)(a.WETH[ge],ge):G.i[ge].symbol,"/").concat(me,"/").concat(je),children:we?Object(pe.jsx)(o.b,{id:"Use Wrapped Token"}):Object(pe.jsx)(o.b,{id:"Use Native Token"})})})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)(z.a,{value:vt[T.a.CURRENCY_B],onUserInput:St,onMax:null,onHalf:null,currency:fe,onCurrencySelect:()=>null,disableCurrencySelect:!0,id:"remove-liquidity-tokenb",estimatedUsd:Object(_.i)(zt.toString(),!0)||void 0}),Object(pe.jsx)(A.b,{justifyContent:"flex-end",alignItems:"center",marginTop:"0.5rem",children:je&&ge&&(Se||Ue)&&Object(pe.jsx)(ae.j,{replace:!0,to:"/remove/".concat(X,"/").concat(Ue?Object(se.a)(a.WETH[ge],ge):G.i[ge].symbol,"/").concat(je),children:Ue?Object(pe.jsx)(o.b,{id:"Use Wrapped Token"}):Object(pe.jsx)(o.b,{id:"Use Native Token"})})})]})]}),De&&Object(pe.jsxs)(be.d,{children:[Object(pe.jsx)(M.a,{justify:"space-between",gap:"4px",style:{paddingBottom:"12px"},children:Object(pe.jsx)(ae.k.subHeader,{fontWeight:500,fontSize:12,color:Ye.subText,children:Object(pe.jsx)(ae.m,{children:Object(pe.jsx)(o.b,{id:"Minimum Received"})})})}),Fe&&Object(pe.jsxs)(be.c,{style:{paddingBottom:"12px",borderBottom:"1px dashed ".concat(Ye.border)},children:[Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:xe,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Fe[T.a.CURRENCY_A],null===xe||void 0===xe?void 0:xe.decimals)," ",null===Ie||void 0===Ie?void 0:Ie.symbol]})]}),Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:fe,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Fe[T.a.CURRENCY_B],null===fe||void 0===fe?void 0:fe.decimals)," ",null===Re||void 0===Re?void 0:Re.symbol]})]})]}),Object(pe.jsxs)(be.c,{style:{paddingTop:"12px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:500,fontSize:12,color:Ye.subText,style:{display:"flex",alignItems:"center"},children:Object(pe.jsx)(ae.m,{children:Object(pe.jsx)(o.b,{id:"Current Price"})})}),Object(pe.jsx)(ae.k.black,{fontWeight:400,fontSize:14,children:Object(pe.jsx)(B.a,{price:Qe})})]})]}),Object(pe.jsx)("div",{style:{position:"relative"},children:he?Object(pe.jsxs)(M.b,{children:[!Me&&Object(pe.jsx)(q.b,{onClick:function(){return Et.apply(this,arguments)},confirmed:_t===J.a.APPROVED||null!==Ct,disabled:_t!==J.a.NOT_APPROVED||null!==Ct||!Be||Be.equalTo("0"),margin:"0 1rem 0 0",style:{fontSize:"16px",fontWeight:500},children:_t===J.a.PENDING?Object(pe.jsx)(W.a,{children:Object(pe.jsx)(o.b,{id:"Approving"})}):_t===J.a.APPROVED||null!==Ct?r.a._("Approved"):r.a._("Approve")}),Object(pe.jsx)(q.e,{onClick:()=>{nt(!0)},disabled:!Xe||null===Ct&&_t!==J.a.APPROVED,error:!Xe&&!!We[T.a.CURRENCY_A]&&!!We[T.a.CURRENCY_B],children:Object(pe.jsx)(A.e,{fontSize:16,fontWeight:500,children:Me||r.a._("Remove")})})]}):Object(pe.jsx)(q.g,{onClick:Ae,children:Object(pe.jsx)(o.b,{id:"Connect Wallet"})})})]})]})})]})})}var je=n("./src/components/ZapError/index.tsx"),xe=n("./src/components/swapv2/FormattedPriceImpact.tsx"),fe=n("./src/utils/prices.ts");function ve(e){var t,n,s,l,u,b,p,x,v,E,X,me,ve,he,ge,Oe,Ce=e.currencyIdA,ye=e.currencyIdB,Ie=e.pairAddress,Re=null!==(t=Object(j.f)(Ce))&&void 0!==t?t:void 0,_e=null!==(n=Object(j.f)(ye))&&void 0!==n?n:void 0,Te=Object(m.b)(),ke=Te.account,Ee=Te.chainId,we=Te.isEVM,Ne=Te.networkInfo,Ue=Object(m.e)().library,Se=Object(w.i)(Re),Ye=Object(w.i)(_e),Ae=Object(d.useMemo)((()=>[null===Re||void 0===Re?void 0:Re.wrapped,null===_e||void 0===_e?void 0:_e.wrapped]),[Re,_e]),qe=Object(i.a)(Ae,2),Le=qe[0],Pe=qe[1],ze=Object(ee.a)(),De=Object(I.c)(),Be=Object(i.a)(De,1)[0],We=Object(ie.x)(),Fe=k(),Qe=Fe.independentField,Me=Fe.independentTokenField,He=Fe.typedValue,Ve=function(e,t,n){var o,s,l,u,b,p=Object(m.b)().account,j=k(),x=j.independentField,v=j.independentTokenField,C=j.typedValue,E=v===T.a.CURRENCY_A?T.a.CURRENCY_B:T.a.CURRENCY_A,w=Object(d.useMemo)((()=>({[T.a.CURRENCY_A]:null!==e&&void 0!==e?e:void 0,[T.a.CURRENCY_B]:null!==t&&void 0!==t?t:void 0})),[e,t]),N=null===e||void 0===e?void 0:e.wrapped,U=null===t||void 0===t?void 0:t.wrapped,S=v===T.a.CURRENCY_A?U:N,Y=v===T.a.CURRENCY_A?N:U,A=!1,q=Object(h.c)(N,U,n),L=Object(i.a)(q,4),P=L[1],z=L[2],D=L[3],B=Object(I.x)(),W=Object(i.a)(B,1)[0],F=Object(R.f)(null===P||void 0===P?void 0:P.liquidityToken),Q={[T.a.CURRENCY_A]:N,[T.a.CURRENCY_B]:U,[T.a.LIQUIDITY]:null===P||void 0===P?void 0:P.liquidityToken},M=Object(g.a)(null===P||void 0===P?void 0:P.liquidityToken),H=P&&M&&F&&N&&c.a.greaterThanOrEqual(M.quotient,F.quotient)?a.TokenAmount.fromRawAmount(N,P.getLiquidityValue(N,M,F).quotient):void 0,V=P&&M&&F&&U&&c.a.greaterThanOrEqual(M.quotient,F.quotient)?a.TokenAmount.fromRawAmount(U,P.getLiquidityValue(U,M,F).quotient):void 0,Z={[T.a.CURRENCY_A]:H,[T.a.CURRENCY_B]:V},G=new a.Percent("0","100");if(x===T.a.LIQUIDITY_PERCENT)G=new a.Percent(C,"100");else if(x===T.a.LIQUIDITY){if(null!==P&&void 0!==P&&P.liquidityToken){var J,K=Object(y.b)(C,P.liquidityToken);K&&F&&K.greaterThan(F)&&(b=null!==(J=b)&&void 0!==J?J:r.a._("Insufficient balance")),K&&F&&!K.greaterThan(F)&&(G=new a.Percent(K.quotient,F.quotient))}}else if(Q[x]){var X=Object(y.b)(C,Q[x]),$=Z[x];X&&$&&!X.greaterThan($)&&(G=new a.Percent(X.quotient,$.quotient))}var ee,te,ne,ie=Object(d.useMemo)((()=>{if(!F)return f.a.from("0");var e=c.a.divide(c.a.multiply(F.quotient,G.numerator),G.denominator);return f.a.from(e.toString())}),[null===F||void 0===F?void 0:F.quotient.toString(),G.numerator.toString(),G.denominator.toString()]),oe=Object(O.b)(!!z,!!D,null===S||void 0===S?void 0:S.address,null===Y||void 0===Y?void 0:Y.address,null===P||void 0===P?void 0:P.address,ie),re=Object(y.b)(oe.amount.toString(),w[v],!1),ae=Object(d.useMemo)((()=>{if(re&&H&&V){var e=E===T.a.CURRENCY_A?c.a.divide(c.a.multiply(H.quotient,G.numerator),G.denominator):c.a.divide(c.a.multiply(V.quotient,G.numerator),G.denominator);return Object(y.b)(e.toString(),w[E],!1)}}),[re,H,V,E,G.numerator,G.denominator,w]),se={[T.a.CURRENCY_A]:N&&H&&G&&G.greaterThan("0")?a.TokenAmount.fromRawAmount(N,G.multiply(H.quotient).quotient):void 0,[T.a.CURRENCY_B]:U&&V&&G&&G.greaterThan("0")?a.TokenAmount.fromRawAmount(U,G.multiply(V.quotient).quotient):void 0},ce={[T.a.LIQUIDITY_PERCENT]:G,[T.a.LIQUIDITY]:F&&G&&G.greaterThan("0")?a.TokenAmount.fromRawAmount(F.currency,G.multiply(F.quotient).quotient):void 0,[v]:Y&&re?a.TokenAmount.fromRawAmount(Y,re.quotient):void 0,[E]:S&&ae?a.TokenAmount.fromRawAmount(S,ae.quotient):void 0},de={[T.a.CURRENCY_A]:ce&&ce[T.a.CURRENCY_A]?Object(_.c)(ce[T.a.CURRENCY_A],W)[0]:c.a.BigInt(0),[T.a.CURRENCY_B]:ce&&ce[T.a.CURRENCY_B]?Object(_.c)(ce[T.a.CURRENCY_B],W)[0]:c.a.BigInt(0)},le=Object(d.useMemo)((()=>{var t=null===e||void 0===e?void 0:e.wrapped;return P&&t?P.priceOf(t):void 0}),[e,P]);return p||(b=r.a._("Connect wallet")),C||ce[T.a.LIQUIDITY]||(b=null!==(ee=b)&&void 0!==ee?ee:r.a._("Enter an amount")),C&&!ce[T.a.LIQUIDITY]&&(b=null!==(te=b)&&void 0!==te?te:r.a._("Invalid amount")),F&&null!==(o=ce[T.a.LIQUIDITY])&&void 0!==o&&o.greaterThan(F)&&(b=null!==(ne=b)&&void 0!==ne?ne:r.a._("Insufficient balance")),oe.error&&(null!==(s=oe.error.message)&&void 0!==s&&s.includes("INSUFFICIENT_LIQUIDITY")||null!==(l=oe.error.data)&&void 0!==l&&null!==(u=l.message)&&void 0!==u&&u.includes("INSUFFICIENT_LIQUIDITY"))&&(A=!0),oe.error&&!A&&(console.error(oe.error),b=r.a._("Something went wrong")),{dependentTokenField:E,currencies:w,pair:P,userLiquidity:F,noZapAmounts:se,parsedAmounts:ce,amountsMin:de,insufficientLiquidity:A,price:le,error:b,isStaticFeePair:z,isOldStaticFeeContract:D}}(null!==Re&&void 0!==Re?Re:void 0,null!==_e&&void 0!==_e?_e:void 0,Ie),Ze=Ve.dependentTokenField,Ge=Ve.currencies,Je=Ve.pair,Ke=Ve.userLiquidity,Xe=Ve.noZapAmounts,$e=Ve.parsedAmounts,et=Ve.amountsMin,tt=Ve.insufficientLiquidity,nt=Ve.price,it=Ve.error,ot=Ve.isStaticFeePair,rt=Ve.isOldStaticFeeContract,at=function(){var e=Object(C.a)(),t=k().independentTokenField;return{onUserInput:Object(d.useCallback)(((t,n)=>{e(Object(T.c)({field:t,typedValue:n}))}),[e]),onSwitchField:Object(d.useCallback)((()=>{e(Object(T.b)({field:t===T.a.CURRENCY_A?T.a.CURRENCY_B:T.a.CURRENCY_A}))}),[e,t])}}(),st=at.onUserInput,ct=at.onSwitchField,dt=(null===Je||void 0===Je?void 0:Je.amp)||c.a.BigInt(0),lt=!!(Ee&&Ge[Me]&&null!==(s=Ge[Me])&&void 0!==s&&s.isNative),ut=!!(Ee&&Ge[Me]&&null!==(l=Ge[Me])&&void 0!==l&&l.equals(a.WETH[Ee])),bt=Se&&Ye?Me===T.a.CURRENCY_A?Se:Ye:void 0,pt=!it&&!tt,mt=Object(d.useState)(!1),jt=Object(i.a)(mt,2),xt=jt[0],ft=jt[1],vt=Object(d.useState)(!1),ht=Object(i.a)(vt,2),gt=ht[0],Ot=ht[1],Ct=Object(d.useState)(""),yt=Object(i.a)(Ct,2),It=yt[0],Rt=yt[1],_t=Object(te.a)(),Tt=Object(I.x)(),kt=Object(i.a)(Tt,1)[0],Et=Object(d.useState)(""),wt=Object(i.a)(Et,2),Nt=wt[0],Ut=wt[1],St={[T.a.LIQUIDITY_PERCENT]:$e[T.a.LIQUIDITY_PERCENT].equalTo("0")?"0":$e[T.a.LIQUIDITY_PERCENT].lessThan(new a.Percent("1","100"))?"<1":$e[T.a.LIQUIDITY_PERCENT].toFixed(0),[T.a.LIQUIDITY]:Qe===T.a.LIQUIDITY?He:null!==(u=null===(b=$e[T.a.LIQUIDITY])||void 0===b?void 0:b.toSignificant(6))&&void 0!==u?u:"",[T.a.CURRENCY_A]:Qe===T.a.CURRENCY_A?He:null!==(p=null===(x=$e[T.a.CURRENCY_A])||void 0===x?void 0:x.toSignificant(6))&&void 0!==p?p:"",[T.a.CURRENCY_B]:Qe===T.a.CURRENCY_B?He:null!==(v=null===(E=$e[T.a.CURRENCY_B])||void 0===E?void 0:E.toSignificant(6))&&void 0!==v?v:""},Yt=Object(K.n)(null===Je||void 0===Je||null===(X=Je.liquidityToken)||void 0===X?void 0:X.address),At=Object(d.useState)(null),qt=Object(i.a)(At,2),Lt=qt[0],Pt=qt[1],zt=Object(J.b)($e[T.a.LIQUIDITY],we?ot?rt?null===(me=Ne.classic.oldStatic)||void 0===me?void 0:me.zap:Ne.classic.static.zap:null===(ve=Ne.classic.dynamic)||void 0===ve?void 0:ve.zap:void 0),Dt=Object(i.a)(zt,2),Bt=Dt[0],Wt=Dt[1];Object(d.useEffect)((()=>{Pt(null)}),[null===Ke||void 0===Ke?void 0:Ke.toExact()]);var Ft=$();function Qt(){return Qt=Object(U.a)(Object(N.a)().mark((function e(){var t,n,i,o,r,a,s,c;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee){e.next=2;break}throw new Error("missing chain");case 2:if(Yt&&Je&&Ue&&_t){e.next=4;break}throw new Error("missing dependencies");case 4:if(i=$e[T.a.LIQUIDITY]){e.next=7;break}throw new Error("missing liquidity amount");case 7:if(!Ft){e.next=9;break}return e.abrupt("return",Wt());case 9:return e.next=11,Yt.nonces(ke);case 11:o=e.sent,r={name:ot?"KyberSwap LP":"KyberDMM LP",version:"1",chainId:Ee,verifyingContract:Je.liquidityToken.address},a=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],s={owner:ke,spender:we?ot?rt?null===(t=Ne.classic.oldStatic)||void 0===t?void 0:t.zap:Ne.classic.static.zap:null===(n=Ne.classic.dynamic)||void 0===n?void 0:n.zap:void 0,value:i.quotient.toString(),nonce:o.toHexString(),deadline:_t.toNumber()},c=JSON.stringify({types:{EIP712Domain:Z.z,Permit:a},domain:r,primaryType:"Permit",message:s}),Ue.send("eth_signTypedData_v4",[ke,c]).then(S.splitSignature).then((e=>{Pt({v:e.v,r:e.r,s:e.s,deadline:_t.toNumber()})})).catch((e=>{4001!==(null===e||void 0===e?void 0:e.code)&&Wt()}));case 17:case"end":return e.stop()}}),e)}))),Qt.apply(this,arguments)}var Mt=Object(d.useCallback)(((e,t)=>(Pt(null),st(e,t))),[st]),Ht=Object(d.useCallback)((e=>Mt(T.a.LIQUIDITY,e)),[Mt]),Vt=Object(d.useCallback)((e=>Mt(Me,e)),[Me,Mt]),Zt=Object(oe.g)();function Gt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=Object(U.a)(Object(N.a)().mark((function e(){var t,n,i,o,s,d,l,u,b,p,m;return Object(N.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(we&&Ue&&ke&&_t){e.next=2;break}throw new Error("missing dependencies");case 2:if(t=$e[T.a.CURRENCY_A],n=$e[T.a.CURRENCY_B],t&&n){e.next=5;break}throw new Error("missing currency amounts");case 5:if(i=Object(de.g)(Ee,Ue,ke,ot,rt),Re&&_e){e.next=8;break}throw new Error("missing tokens");case 8:if(o=$e[T.a.LIQUIDITY]){e.next=11;break}throw new Error("missing liquidity amount");case 11:if(s=_e.isNative,Le&&Pe){e.next=14;break}throw new Error("could not wrap");case 14:if(Bt!==J.a.APPROVED){e.next=18;break}lt?(d=["zapOutEth"],l=[s?Le.address:Pe.address,o.quotient.toString(),Ie,ke,et[s?T.a.CURRENCY_A:T.a.CURRENCY_B].toString(),_t.toHexString()]):(d=["zapOut"],l=[Me===T.a.CURRENCY_A?Pe.address:Le.address,Me===T.a.CURRENCY_A?Le.address:Pe.address,o.quotient.toString(),Ie,ke,Me===T.a.CURRENCY_A?et[T.a.CURRENCY_A].toString():et[T.a.CURRENCY_B].toString(),_t.toHexString()]),e.next=23;break;case 18:if(null===Lt){e.next=22;break}lt?(d=["zapOutEthPermit"],l=[s?Le.address:Pe.address,o.quotient.toString(),Ie,ke,et[s?T.a.CURRENCY_B:T.a.CURRENCY_A].toString(),Lt.deadline,!1,Lt.v,Lt.r,Lt.s]):(d=["zapOutPermit"],l=[Me===T.a.CURRENCY_A?Pe.address:Le.address,Me===T.a.CURRENCY_A?Le.address:Pe.address,o.quotient.toString(),Ie,ke,Me===T.a.CURRENCY_A?et[T.a.CURRENCY_A].toString():et[T.a.CURRENCY_B].toString(),Lt.deadline,!1,Lt.v,Lt.r,Lt.s]),e.next=23;break;case 22:throw new Error("Attempting to confirm without approval or a signature. Please contact support.");case 23:return ot&&!rt&&l.unshift(Ne.classic.static.factory),e.next=26,Promise.all(d.map((e=>i.estimateGas[e](...l).then(_.b).catch((t=>{var n,i;if(4001!==(null===t||void 0===t?void 0:t.code)&&console.error("estimateGas failed",e,l,t),t.message.includes("INSUFFICIENT_OUTPUT_AMOUNT")||null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(i=n.message)&&void 0!==i&&i.includes("INSUFFICIENT_OUTPUT_AMOUNT"))Ut(r.a._("Insufficient Liquidity in the Liquidity Pool to Swap"));else if(Ut(null===t||void 0===t?void 0:t.message),4001!==(null===t||void 0===t?void 0:t.code)&&"ACTION_REJECTED"!==(null===t||void 0===t?void 0:t.code)){var o=new Error("estimate gas zap out failed",{cause:t});o.name=le.a.RemoveClassicLiquidityError,Object(Y.a)(o,{extra:{args:l}})}})))));case 26:if(u=e.sent,b=u.findIndex((e=>f.a.isBigNumber(e))),-1!==b){e.next=32;break}console.error("This transaction would fail. Please contact support."),e.next=37;break;case 32:return p=d[b],m=u[b],Ot(!0),e.next=37,i[p](...l,{gasLimit:m}).then((e=>{if(Re&&_e){var t;Ot(!1);var n=null===(t=$e[Me])||void 0===t?void 0:t.toSignificant(6);Zt({hash:e.hash,type:re.c.CLASSIC_REMOVE_LIQUIDITY,extraInfo:{tokenAddressIn:Re.wrapped.address,tokenAddressOut:_e.wrapped.address,tokenSymbolIn:Re.symbol,tokenSymbolOut:_e.symbol,tokenAmountIn:n,contract:Ie,arbitrary:{poolAddress:Ie,token_1:Re.symbol,token_2:_e.symbol,remove_liquidity_method:"single token",amp:new a.Fraction(dt).divide(c.a.BigInt(1e4)).toSignificant(5)}}}),Rt(e.hash)}})).catch((e=>{if(Ot(!1),4001!==(null===e||void 0===e?void 0:e.code)&&"ACTION_REJECTED"!==(null===e||void 0===e?void 0:e.code)){var t=new Error("zap out failed",{cause:e});t.name=le.a.RemoveClassicLiquidityError,Object(Y.a)(t,{extra:{args:l}})}e.message.includes("INSUFFICIENT_OUTPUT_AMOUNT")?Ut(r.a._("Insufficient Liquidity in the Liquidity Pool to Swap")):Ut(null===e||void 0===e?void 0:e.message)}));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kt="Removing ".concat(null===(he=$e[Me])||void 0===he?void 0:he.toSignificant(6)," ").concat(null===bt||void 0===bt?void 0:bt.symbol),Xt=Object(d.useCallback)((e=>{Mt(T.a.LIQUIDITY_PERCENT,e.toString())}),[Mt]),$t=Object(d.useCallback)((()=>{ft(!1),Pt(null),It&&Mt(T.a.LIQUIDITY_PERCENT,"0"),Rt(""),Ut("")}),[Mt,It]),en=Object(ue.a)(Number.parseInt($e[T.a.LIQUIDITY_PERCENT].toFixed(0)),Xt),tn=Object(i.a)(en,2),nn=tn[0],on=tn[1],rn=Object(d.useCallback)((()=>{ct()}),[ct]),an=nt?Me===T.a.CURRENCY_A?nt.invert():nt:void 0,sn=$e[Me]&&Xe[Me]&&!$e[Me].lessThan(Xe[Me])?$e[Me].subtract(Xe[Me]):void 0,cn=Object(ie.u)([Le,Pe]),dn=Me===T.a.CURRENCY_A?cn[0]:cn[1],ln=$e[Me]&&dn?parseFloat($e[Me].toSignificant(6))*dn:0,un=an&&Xe[Ze]&&sn&&Object(a.computePriceImpact)(an,Xe[Ze],sn),bn=Je&&un?Object(fe.b)([Je],un):void 0,pn=Object(fe.f)(bn);function mn(){var e;return Object(pe.jsxs)(P.a,{gap:"md",style:{marginTop:"20px"},children:[Object(pe.jsxs)(M.a,{gap:"4px",children:[Object(pe.jsx)(D.a,{currency:Ge[Me],size:"24px"}),Object(pe.jsx)(A.e,{fontSize:24,fontWeight:500,children:null===(e=$e[Me])||void 0===e?void 0:e.toSignificant(6)}),Object(pe.jsx)(A.e,{fontSize:24,fontWeight:500,children:null===bt||void 0===bt?void 0:bt.symbol}),ln&&Object(pe.jsxs)(A.e,{color:ze.subText,marginLeft:"4px",fontSize:18,fontWeight:500,children:["(~",Object(_.i)(ln.toString(),!0)||void 0,")"]})]}),Object(pe.jsx)(ae.k.italic,{fontSize:12,fontWeight:400,color:ze.subText,textAlign:"left",children:r.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:kt/100})})]})}function jn(){var e;return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(be.i,{children:Je&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(be.b,{style:{paddingBottom:"8px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontSize:14,fontWeight:400,color:ze.subText,children:Object(pe.jsx)(o.b,{id:"Current Price"})}),Object(pe.jsx)(ae.k.black,{fontSize:14,fontWeight:400,children:Object(pe.jsx)(B.a,{price:nt})})]}),Object(pe.jsxs)(M.b,{style:{paddingBottom:"12px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontSize:14,fontWeight:400,color:ze.subText,children:Object(pe.jsx)(o.b,{id:"Price Impact"})}),Object(pe.jsx)(ae.k.black,{fontSize:14,fontWeight:400,children:Object(pe.jsx)(xe.a,{priceImpact:bn})})]}),Object(pe.jsxs)(M.b,{style:{paddingBottom:"12px"},children:[Object(pe.jsx)(A.e,{color:ze.subText,fontSize:14,fontWeight:400,children:Object(pe.jsx)(o.b,{id:"LP Tokens Removed"})}),Object(pe.jsxs)(M.d,{children:[Object(pe.jsx)(F.b,{currency0:Re,currency1:_e,margin:!0}),Object(pe.jsx)(A.e,{color:ze.text,fontSize:14,fontWeight:400,children:null===(e=$e[T.a.LIQUIDITY])||void 0===e?void 0:e.toSignificant(6)})]})]}),et&&Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(M.b,{style:{paddingBottom:"12px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:400,fontSize:14,color:ze.subText,children:Object(pe.jsx)(o.b,{id:"Minimum Received"})}),Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:bt,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Me===T.a.CURRENCY_A?et[T.a.CURRENCY_A]:et[T.a.CURRENCY_B],null===bt||void 0===bt?void 0:bt.decimals)," ",null===bt||void 0===bt?void 0:bt.symbol]})]})]})})]})}),Object(pe.jsx)(q.i,{disabled:!(Bt===J.a.APPROVED||null!==Lt),onClick:Gt,children:Object(pe.jsx)(A.e,{fontWeight:500,fontSize:16,children:Object(pe.jsx)(o.b,{id:"Confirm"})})})]})}return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(ne.b,{children:[Object(pe.jsx)(V.e,{isOpen:xt,onDismiss:$t,attemptingTxn:gt,hash:It||"",content:()=>Nt?Object(pe.jsx)(V.c,{onDismiss:$t,message:Nt}):Object(pe.jsx)(V.a,{title:"You will receive",onDismiss:$t,topContent:mn,bottomContent:jn}),pendingText:Kt}),Object(pe.jsx)(P.a,{gap:"md",children:Object(pe.jsxs)(be.f,{children:[Object(pe.jsxs)(be.e,{children:[Object(pe.jsx)(L.a,{padding:"1rem",borderRadius:"4px",children:Object(pe.jsxs)(P.a,{gap:"1rem",children:[Object(pe.jsxs)(M.b,{children:[Object(pe.jsx)(A.e,{fontSize:12,fontWeight:500,children:Object(pe.jsx)(o.b,{id:"Amount"})}),Object(pe.jsxs)(A.e,{fontSize:12,fontWeight:500,children:[Object(pe.jsx)(o.b,{id:"Balance"}),": ",Ke?null===Ke||void 0===Ke?void 0:Ke.toSignificant(6):Object(pe.jsx)(Q.a,{})," LP Tokens"]})]}),Object(pe.jsx)(M.f,{style:{alignItems:"flex-end"},children:Object(pe.jsxs)(A.e,{fontSize:72,fontWeight:500,children:[St[T.a.LIQUIDITY_PERCENT],"%"]})}),Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(H.a,{value:nn,onChange:on,size:18}),Object(pe.jsxs)(M.b,{style:{gap:"4px"},children:[Object(pe.jsx)(be.h,{onClick:()=>Mt(T.a.LIQUIDITY_PERCENT,"25"),children:"25%"}),Object(pe.jsx)(be.h,{onClick:()=>Mt(T.a.LIQUIDITY_PERCENT,"50"),children:"50%"}),Object(pe.jsx)(be.h,{onClick:()=>Mt(T.a.LIQUIDITY_PERCENT,"75"),children:"75%"}),Object(pe.jsx)(be.h,{onClick:()=>Mt(T.a.LIQUIDITY_PERCENT,"100"),children:Object(pe.jsx)(o.b,{id:"Max"})})]})]})]})}),Ee&&Je&&Object(pe.jsx)(z.a,{hideBalance:!0,hideLogo:!0,value:St[T.a.LIQUIDITY],onUserInput:Ht,onMax:null,onHalf:null,disableCurrencySelect:!0,currency:new a.Token(Ee,null===(ge=Je.liquidityToken)||void 0===ge?void 0:ge.address,null===(Oe=Je.liquidityToken)||void 0===Oe?void 0:Oe.decimals,"LP Tokens","LP Tokens"),id:"liquidity-amount"})]}),Object(pe.jsxs)(be.l,{children:[Object(pe.jsxs)("div",{children:[Object(pe.jsx)(z.a,{disabledInput:!0,value:St[Me],onUserInput:Vt,onSwitchCurrency:rn,onMax:null,onHalf:null,currency:Ge[Me],id:"zap-out-input",label:r.a._("Output"),disableCurrencySelect:!1,showCommonBases:!0,positionMax:"top",isSwitchMode:!0,estimatedUsd:Object(_.i)(ln.toString(),!0)||void 0}),Object(pe.jsx)(A.b,{justifyContent:"flex-end",alignItems:"center",marginTop:"0.5rem",children:Ie&&Ee&&(lt||ut)&&Ge[Ze]&&Object(pe.jsx)(ae.j,{replace:!0,to:Me===T.a.CURRENCY_A?"/remove/".concat(lt?Object(se.a)(a.WETH[Ee],Ee):Object(se.a)(G.i[Ee],Ee),"/").concat(Object(se.a)(Ge[Ze],Ee),"/").concat(Ie):"/remove/".concat(Object(se.a)(Ge[Ze],Ee),"/").concat(lt?Object(se.a)(a.WETH[Ee],Ee):Object(se.a)(G.i[Ee],Ee),"/").concat(Ie),children:lt?Object(pe.jsx)(o.b,{id:"Use Wrapped Token"}):Object(pe.jsx)(o.b,{id:"Use Native Token"})})})]}),Je&&Object(pe.jsxs)(be.d,{children:[Object(pe.jsxs)(be.c,{style:{paddingBottom:"12px",borderBottom:"1px dashed ".concat(ze.border)},children:[Object(pe.jsxs)(P.a,{gap:"8px",children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:500,fontSize:12,color:ze.subText,children:Object(pe.jsx)(ae.m,{children:Object(pe.jsx)(o.b,{id:"Price Impact"})})}),Object(pe.jsx)(ae.k.black,{fontWeight:400,fontSize:14,children:Object(pe.jsx)(xe.a,{priceImpact:bn})})]}),et&&Object(pe.jsxs)(P.a,{gap:"8px",children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:500,fontSize:12,color:ze.subText,children:Object(pe.jsx)(ae.m,{children:Object(pe.jsx)(o.b,{id:"Minimum Received"})})}),Object(pe.jsxs)(be.m,{children:[Object(pe.jsx)(D.a,{currency:Me===T.a.CURRENCY_A?Re:_e,size:"16px"}),Object(pe.jsxs)(ae.k.black,{fontWeight:400,fontSize:14,children:[Object(ce.c)(Me===T.a.CURRENCY_A?et[T.a.CURRENCY_A]:et[T.a.CURRENCY_B],null===bt||void 0===bt?void 0:bt.decimals)," ",null===bt||void 0===bt?void 0:bt.symbol]})]})]})]}),Object(pe.jsxs)(be.c,{style:{paddingTop:"12px"},children:[Object(pe.jsx)(ae.k.subHeader,{fontWeight:500,fontSize:12,color:ze.subText,style:{display:"flex",alignItems:"center"},children:Object(pe.jsx)(ae.m,{children:Object(pe.jsx)(o.b,{id:"Current Price"})})}),Object(pe.jsx)(ae.k.black,{fontWeight:400,fontSize:14,children:Object(pe.jsx)(B.a,{price:nt})})]})]}),tt?Object(pe.jsx)(je.a,{message:r.a._("Insufficient Liquidity in the Liquidity Pool to Swap"),warning:!1}):pn>3?Object(pe.jsx)(je.a,{message:r.a._("Price impact is too high"),warning:!1}):pn>2?Object(pe.jsx)(je.a,{message:r.a._("Price impact is high"),warning:!0}):null,Object(pe.jsx)("div",{style:{position:"relative"},children:ke?Object(pe.jsxs)(M.b,{children:[Object(pe.jsx)(q.b,{onClick:function(){return Qt.apply(this,arguments)},confirmed:Bt===J.a.APPROVED||null!==Lt,disabled:!pt||Bt!==J.a.NOT_APPROVED||null!==Lt||!Ke||Ke.equalTo("0")||pn>3&&!Be,margin:"0 1rem 0 0",padding:"16px",style:{fontSize:"16px",fontWeight:500},children:Bt===J.a.PENDING?Object(pe.jsx)(W.a,{children:Object(pe.jsx)(o.b,{id:"Approving"})}):Bt===J.a.APPROVED||null!==Lt?r.a._("Approved"):r.a._("Approve")}),Object(pe.jsx)(q.e,{padding:"16px 6px",onClick:()=>{ft(!0)},disabled:!pt||null===Lt&&Bt!==J.a.APPROVED||pn>3&&!Be,error:!!$e[T.a.CURRENCY_A]&&!!$e[T.a.CURRENCY_B]&&(!pt||pn>2),children:Object(pe.jsx)(A.e,{fontSize:16,fontWeight:500,children:it||(pn>3&&!Be?r.a._("Remove"):pn>2?r.a._("Remove Anyway"):r.a._("Remove"))})})]}):Object(pe.jsx)(q.g,{onClick:We,children:Object(pe.jsx)(o.b,{id:"Connect Wallet"})})})]})]})})]})})}function he(){var e,t,n=Object(l.o)(),s=n.currencyIdA,f=void 0===s?"":s,v=n.currencyIdB,h=void 0===v?"":v,g=n.pairAddress,O=void 0===g?"":g,C=null!==(e=Object(j.f)(f))&&void 0!==e?e:void 0,y=null!==(t=Object(j.f)(h))&&void 0!==t?t:void 0,I=Object(m.b)(),R=I.chainId,_=I.isEVM,T=Object(w.i)(C),k=Object(w.i)(y),N=E(C,y,O).pair,U=(null===N||void 0===N?void 0:N.amp)||c.a.BigInt(0),S=Boolean(R&&((null===C||void 0===C?void 0:C.equals(a.WETH[R]))||(null===y||void 0===y?void 0:y.equals(a.WETH[R])))),Y=Object(d.useState)(0),A=Object(i.a)(Y,2),q=A[0],L=A[1],P=Object(x.c)().mixpanelHandler;return Object(d.useEffect)((()=>{P(x.a.REMOVE_LIQUIDITY_INITIATED,{token_1:null===T||void 0===T?void 0:T.symbol,token_2:null===k||void 0===k?void 0:k.symbol,amp:new a.Fraction(U).divide(c.a.BigInt(1e4)).toSignificant(5)})}),[]),_?Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(be.j,{children:[Object(pe.jsxs)(be.a,{children:[Object(pe.jsx)(b.a,{action:b.c.REMOVE}),Object(pe.jsxs)(be.n,{children:[Object(pe.jsx)(be.g,{children:Object(pe.jsx)(u.a,{activeTab:q,setActiveTab:L,singleTokenInfo:r.a._("We will automatically remove your liquidity and convert it into your desired token (either token from the token pair), all in a single transaction")})}),Object(pe.jsxs)(be.k,{children:[null===T||void 0===T?void 0:T.symbol," - ",null===k||void 0===k?void 0:k.symbol," ",Object(pe.jsx)(o.b,{id:"pool"})]})]}),0===q?Object(pe.jsx)(me,{currencyIdA:f,currencyIdB:h,pairAddress:O}):Object(pe.jsx)(ve,{currencyIdA:f,currencyIdB:h,pairAddress:O})]}),N?Object(pe.jsx)(be.a,{style:{marginTop:"24px",padding:"0"},children:Object(pe.jsx)(p.a,{showUnwrapped:S,pair:N})}):null]})}):Object(pe.jsx)(l.a,{to:"/"})}},"./src/pages/RemoveLiquidity/styled.tsx":function(e,t,n){"use strict";n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"n",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"k",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"h",(function(){return j})),n.d(t,"d",(function(){return x})),n.d(t,"c",(function(){return f})),n.d(t,"m",(function(){return v})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return g}));var i,o=n("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),r=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),a=n("./src/components/Column/index.tsx"),s=r.default.div.withConfig({displayName:"styled__PageWrapper",componentId:"sc-52z1f1-0"})(["padding:28px 16px 100px;width:100%;@media only screen and (min-width:768px){padding:24px 16px 100px;}@media only screen and (min-width:1000px){padding:24px 32px 100px;}@media only screen and (min-width:1366px){padding:24px 215px 50px;}@media only screen and (min-width:1440px){padding:24px 252px 50px;}"]),c=r.default.div.withConfig({displayName:"styled__Container",componentId:"sc-52z1f1-1"})(["max-width:936px;margin:0 auto;padding:4px 20px 24px;background:",";box-shadow:0px 0px 1px rgba(0,0,0,0.01),0px 4px 8px rgba(0,0,0,0.04),0px 16px 24px rgba(0,0,0,0.04),0px 24px 32px rgba(0,0,0,0.01);border-radius:8px;@media only screen and (min-width:1000px){padding:4px 24px 24px;}"],(e=>e.theme.background)),d=r.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-52z1f1-2"})(["display:grid;grid-template-columns:1fr;@media only screen and (min-width:768px){grid-template-columns:1fr 1fr;}"]),l=r.default.div.withConfig({displayName:"styled__TopBar",componentId:"sc-52z1f1-3"})(["padding:20px 0;display:flex;flex-direction:column-reverse;align-items:center;border-top:1px solid ",";margin-top:1rem;@media only screen and (min-width:768px){display:grid;grid-template-columns:1fr 1fr;margin-top:0;}"],(e=>e.theme.border)),u=r.default.div.withConfig({displayName:"styled__LiquidityProviderModeWrapper",componentId:"sc-52z1f1-4"})(["width:100%;@media only screen and (min-width:768px){padding-right:24px;}"]),b=r.default.div.withConfig({displayName:"styled__PoolName",componentId:"sc-52z1f1-5"})(["display:flex;margin-bottom:24px;font-size:14px;font-weight:500;color:",";@media only screen and (min-width:768px){justify-content:flex-end;margin-bottom:0;}"],(e=>e.theme.subText)),p=Object(r.default)(a.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-52z1f1-6"})(["grid-auto-rows:min-content;padding-bottom:24px;border-bottom:1px solid ",";gap:20px;@media only screen and (min-width:768px){padding-right:24px;padding-bottom:0;border-right:1px solid ",";border-bottom:none;}"],(e=>e.theme.border),(e=>e.theme.border)),m=Object(r.default)(a.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-52z1f1-7"})(["grid-auto-rows:min-content;padding-top:24px;@media only screen and (min-width:768px){padding-left:24px;padding-top:0;}"]),j=r.default.button.withConfig({displayName:"styled__MaxButton",componentId:"sc-52z1f1-8"})(["flex:1;padding:6px 0;background-color:",";border:1px solid #52ccad;border-radius:999px;font-size:1rem;",";font-weight:500;cursor:pointer;margin:0.25rem;overflow:hidden;color:",";:hover{border:1px solid ",";}:focus{border:1px solid ",";outline:none;}"],(e=>{var t=e.theme;return"".concat(t.primary,"33")}),(e=>e.theme.mediaWidth.upToSmall(i||(i=Object(o.a)(["\n    padding: 0.25rem 0;\n  "])))),(e=>e.theme.primary),(e=>e.theme.primary),(e=>e.theme.primary)),x=Object(r.default)(a.a).withConfig({displayName:"styled__DetailWrapper",componentId:"sc-52z1f1-9"})(["padding:1rem 1rem 12px;border:1px solid ",";margin:24px 0 28px;border-radius:20px;"],(e=>e.theme.border)),f=r.default.div.withConfig({displayName:"styled__DetailBox",componentId:"sc-52z1f1-10"})(["display:grid;grid-template-columns:1fr 1fr;"]),v=r.default.div.withConfig({displayName:"styled__TokenWrapper",componentId:"sc-52z1f1-11"})(["display:flex;align-items:center;gap:4px;"]),h=r.default.div.withConfig({displayName:"styled__ModalDetailWrapper",componentId:"sc-52z1f1-12"})(["border:1px solid ",";border-radius:20px;padding:1rem;margin-bottom:28px;"],(e=>e.theme.border)),g=r.default.div.withConfig({displayName:"styled__CurrentPriceWrapper",componentId:"sc-52z1f1-13"})(["display:flex;flex-direction:column;@media only screen and (min-width:768px){flex-direction:row;justify-content:space-between;align-items:center;}"])},"./src/utils/sentry.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a}));var i,o=n("./node_modules/@sentry/core/esm/exports.js");function r(e){var t=new Error("Swap failed",{cause:e});t.name=i.SwappError;var n=JSON.stringify(e),r=n.includes("minTotalAmountOut")?"minTotalAmountOut":n.includes("ERR_LIMIT_OUT")?"ERR_LIMIT_OUT":n.toLowerCase().includes("1inch")?"call1InchFailed":n.toLowerCase().includes("return amount is not enough")?"returnAmountIsNotEnough":"other";Object(o.a)(t,{level:"fatal",extra:e.rawData,tags:{type:r}})}!function(e){e.SwappError="SwapError",e.RemoveElasticLiquidityError="RemoveElasticLiquidityError",e.RemoveClassicLiquidityError="RemoveClassicLiquidityError"}(i||(i={}));class a extends Error{constructor(e,t,n){super(e,n),this.rawData=void 0,this.rawData=t}}},"./src/utils/useDebouncedChangeHandler.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=n("./node_modules/react/index.js");function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=Object(o.useState)((()=>e)),a=Object(i.a)(r,2),s=a[0],c=a[1],d=Object(o.useRef)(),l=Object(o.useCallback)((e=>{c(e),d.current&&clearTimeout(d.current),d.current=setTimeout((()=>{t(e),d.current=void 0}),n)}),[n,t]);return Object(o.useEffect)((()=>{d.current&&(clearTimeout(d.current),d.current=void 0),c(e)}),[e]),[s,l]}}}]);