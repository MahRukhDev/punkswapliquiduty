(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[5],{"./src/components/LiveChart/index.tsx":function(e,t,i){"use strict";i.r(t);var n=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),s=i("./node_modules/@lingui/react/esm/index.js"),r=i("./node_modules/react/index.js"),o=i.n(r),c=i("./node_modules/react-device-detect/main.js"),a=i("./node_modules/react-feather/dist/icons/repeat.js"),l=i("./node_modules/rebass/dist/index.esm.js"),d=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),b=i("./src/components/DoubleLogo/index.tsx"),u=i("./src/components/LocalLoader/index.tsx"),j=i("./src/hooks/index.ts"),x=i("./src/hooks/useBasicChartData.ts"),h=i("./src/hooks/useTheme.ts"),m=i("./src/state/swap/actions.ts"),p=i("./src/utils/dmm.ts"),f=i("./node_modules/react-spring/dist/react-spring.esm.js"),g=i("./node_modules/react/jsx-runtime.js");function v(){return Object(g.jsx)("div",{children:"."})}var O=d.default.div.withConfig({displayName:"AnimatingNumber__TicketView",componentId:"sc-1tez3nu-0"})(["height:100%;display:flex;flex-direction:row-reverse;overflow:hidden;font-size:","px;position:relative;color:",";letter-spacing:-1px;margin-right:5px;"],(e=>e.fontSize),(e=>e.theme.subText)),y=d.default.span.withConfig({displayName:"AnimatingNumber__NumberPlaceHolder",componentId:"sc-1tez3nu-1"})(["visibility:hidden;"]),S=d.default.div.withConfig({displayName:"AnimatingNumber__Container",componentId:"sc-1tez3nu-2"})(["position:relative;height:","px;"],(e=>e.fontSize+4)),C=d.default.div.withConfig({displayName:"AnimatingNumber__TickerDigit",componentId:"sc-1tez3nu-3"})(["height:10%;text-align:center;"]),T=Object(d.default)(f.animated.div).withConfig({displayName:"AnimatingNumber__TickerColumn",componentId:"sc-1tez3nu-4"})(["position:absolute;height:1000%;bottom:0;transition:all 0.6s cubic-bezier(0.4,-0.1,0.6,1) 1;"]);function w(e){var t=e.digit,i=e.fontSize,s=Object(r.useState)(0),o=Object(n.a)(s,2),c=o[0],a=o[1],l=Object(r.useRef)();Object(r.useEffect)((()=>(e=>{var t,i;l.current&&a(null!==(t=(null===(i=l.current)||void 0===i?void 0:i.clientHeight)*e)&&void 0!==t?t:0)})(t)),[t]);var d=Object(f.useSpring)({to:{transform:"translateY(".concat(c,"px)")}});return Object(g.jsxs)(S,{ref:l,fontSize:i,children:[Object(g.jsx)(T,{style:d,children:[9,8,7,6,5,4,3,2,1,0].map((e=>Object(g.jsx)(C,{children:e},e)))}),Object(g.jsx)(y,{children:"0"})]})}function z(e){var t=e.value,i=e.symbol,n=e.fontSize,s=t.toString().split("e"),r=parseFloat(s[0]),o=s[1],c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>1e6?Math.max(e,0).toString().split("").reverse():Math.max(e,0).toPrecision(6).split("").reverse()}(r),a=Object(h.a)();return r===1/0?null:Object(g.jsxs)(l.b,{style:{fontWeight:500},children:[Object(g.jsx)(O,{fontSize:n,children:c.map(((e,t)=>"."===e?Object(g.jsx)(v,{},t):Object(g.jsx)(w,{digit:parseInt(e),fontSize:n},t)))}),o&&Object(g.jsxs)(l.b,{fontSize:"16px",alignItems:"flex-end",color:a.subText,paddingBottom:"3px",paddingTop:"5px",children:["10",Object(g.jsx)("sup",{style:{fontSize:"10px",alignSelf:"flex-start"},children:o})]}),i&&Object(g.jsx)(l.e,{fontSize:n,color:a.subText,children:i})]})}var _=i("./src/components/LiveChart/CircleInfoIcon.tsx"),I=i("./src/components/LiveChart/LineChart.tsx"),N=i("./src/components/LiveChart/WarningIcon.tsx"),k=d.default.div.withConfig({displayName:"LiveChart__LiveChartWrapper",componentId:"sc-9jh8iz-0"})(["width:100%;height:100%;display:flex;flex-direction:column;gap:1rem;"]),P=d.default.div.withConfig({displayName:"LiveChart__TimeFrameButton",componentId:"sc-9jh8iz-1"})(["cursor:pointer;width:26px;height:24px;border-radius:4px;line-height:24px;margin-right:5px;text-align:center;color:",";font-size:12px;font-weight:500;background-color:",";transition:all 0.2s ease;",""],(e=>e.theme.subText),(e=>e.theme.buttonBlack),(e=>{var t=e.theme;return e.active?"background-color: ".concat(t.primary,"; color: ").concat(t.textReverse,";"):"\n    &:hover {\n      background-color: ".concat(t.buttonGray,";\n    }\n  ")})),L=d.default.div.withConfig({displayName:"LiveChart__SwitchButtonWrapper",componentId:"sc-9jh8iz-2"})(["display:flex;width:24px;height:24px;border-radius:50%;cursor:pointer;align-items:center;justify-content:center;&:hover{background-color:",";}"],(e=>e.theme.buttonGray)),M=e=>{switch(e){case x.a.HOUR:return"Past hour";case x.a.FOUR_HOURS:return"Past 4 hours";case x.a.DAY:return"Past 24 hours";case x.a.WEEK:return"Past Week";case x.a.MONTH:return"Past Month";case x.a.SIX_MONTHS:return"Past 6 Months"}};function U(e){var t,i,o,d,f,v=e.currencies,O=Object(j.b)().isSolana,y=Object(h.a)(),S=Object(r.useState)(v),C=Object(n.a)(S,2),T=C[0],w=C[1];Object(r.useEffect)((()=>{w(v)}),[v]);var U=Object(p.i)(T[m.a.INPUT]||void 0),F=Object(p.i)(T[m.a.OUTPUT]||void 0),B=Object(r.useMemo)((()=>[U,F].map((e=>null===e||void 0===e?void 0:e.wrapped))),[U,F]),H=!(null===(t=B[0])||void 0===t||!t.address)&&(null===(i=B[0])||void 0===i?void 0:i.address)===(null===(o=B[1])||void 0===o?void 0:o.address),A=O&&H&&(null===(d=v[m.a.INPUT])||void 0===d?void 0:d.isToken),E=Object(r.useState)(null),D=Object(n.a)(E,2),W=D[0],R=D[1],Y=Object(r.useState)(x.a.DAY),G=Object(n.a)(Y,2),J=G[0],V=G[1],K=Object(x.b)(B,J),X=K.data,q=K.error,Q=K.loading,Z=q&&!Q;Object(r.useEffect)((()=>{null!==W&&R(null)}),[X]);var $=null!==W&&void 0!==W?W:(null===(f=X[X.length-1])||void 0===f?void 0:f.value)||0,ee=((e,t)=>{if(e&&e.length>0){var i=e[0].value,n=e[e.length-1].value,s=null!==t?t-n:n-i,r=null!==t?n:i;return{chartColor:n-i>=0?"#31CB9E":"#FF537B",different:s.toPrecision(6),differentPercent:0===r?100:(s/r*100).toFixed(2)}}return{chartColor:"#31CB9E",different:0,differentPercent:0}})(X,W),te=ee.chartColor,ie=ee.different,ne=ee.differentPercent,se=()=>Object(g.jsx)(l.b,{marginTop:"5px",children:[...Object.values(x.a)].map((e=>Object(g.jsx)(P,{onClick:()=>V(e),active:J===e,children:e},e)))});return Object(g.jsx)(k,{children:H?Object(g.jsxs)(l.b,{minHeight:c.isMobile?"380px":"440px",flexDirection:"column",alignItems:"center",justifyContent:"center",color:y.border,sx:{gap:"16px"},children:[Object(g.jsx)(_.a,{}),Object(g.jsxs)(l.e,{fontSize:16,textAlign:"center",children:[A?Object(g.jsx)(s.b,{id:"You can only swap all WSOL to SOL"}):Object(g.jsx)(s.b,{id:"You can swap {0} for {1} (and vice versa)",values:{0:null===U||void 0===U?void 0:U.symbol,1:null===F||void 0===F?void 0:F.symbol}}),Object(g.jsx)("br",{}),Object(g.jsx)(s.b,{id:"Exchange rate is always 1 to 1."})]})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(l.b,{justifyContent:"space-between",alignItems:"center",paddingY:"4px",children:Object(g.jsxs)(l.b,{flex:c.isMobile?2:1,children:[Object(g.jsx)(b.b,{currency0:U,currency1:F,size:24,margin:!0}),Object(g.jsxs)(l.b,{alignItems:"center",fontSize:c.isMobile?14:18,color:y.subText,children:[Object(g.jsxs)(l.b,{alignItems:"center",children:[Object(g.jsx)(l.e,{fontSize:c.isMobile?18:24,fontWeight:500,color:y.text,children:null===U||void 0===U?void 0:U.symbol}),Object(g.jsxs)(l.e,{marginLeft:"4px",style:{whiteSpace:"nowrap"},children:[" / ",null===F||void 0===F?void 0:F.symbol]})]}),Object(g.jsx)(L,{onClick:()=>w((e=>({INPUT:e[m.a.OUTPUT],OUTPUT:e[m.a.INPUT]}))),children:Object(g.jsx)(a.a,{size:14})})]})]})}),Object(g.jsxs)(l.b,{justifyContent:"space-between",alignItems:"flex-start",marginTop:"12px",children:[Object(g.jsxs)(l.b,{flexDirection:"column",alignItems:"flex-start",children:[0===$||q?Object(g.jsx)(l.e,{fontSize:28,color:y.subText,children:"--"}):Object(g.jsx)(z,{value:$,symbol:null===F||void 0===F?void 0:F.symbol,fontSize:c.isMobile?24:28}),Object(g.jsx)(l.b,{marginTop:"2px",children:0===$||q?Object(g.jsx)(l.e,{fontSize:12,color:y.disableText,children:"--"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(l.e,{fontSize:12,color:ie>=0?"#31CB9E":"#FF537B",marginRight:"5px",children:[ie," (",ne,"%)"]}),!W&&Object(g.jsx)(l.e,{fontSize:12,color:y.disableText,children:M(J)})]})})]}),!c.isMobile&&se()]}),c.isMobile&&se(),Object(g.jsx)("div",{style:{flex:1,marginTop:"12px"},children:Q||Z?Object(g.jsx)(l.b,{minHeight:c.isMobile?"300px":"370px",flexDirection:"column",alignItems:"center",justifyContent:"center",color:y.disableText,style:{gap:"16px"},children:Q?Object(g.jsx)(u.a,{}):Z&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(N.a,{}),Object(g.jsx)(l.e,{fontSize:16,children:Object(g.jsx)(s.b,{id:"Chart is unavailable right now"})})]})}):Object(g.jsx)(I.a,{data:X,setHoverValue:R,color:te,timeFrame:J,minHeight:370})})]})})}t.default=o.a.memo(U)}}]);