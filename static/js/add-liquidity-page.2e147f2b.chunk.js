(this["webpackJsonp@kyberswap/interface"]=this["webpackJsonp@kyberswap/interface"]||[]).push([[7],{"./src/components/Dots.tsx":function(e,t,i){"use strict";var n=i("./node_modules/styled-components/dist/styled-components.browser.esm.js").default.span.withConfig({displayName:"Dots",componentId:"sc-1ae7w1-0"})(["&::after{display:inline-block;animation:ellipsis 1.25s infinite;content:'.';width:1em;text-align:left;}@keyframes ellipsis{0%{content:'.';}33%{content:'..';}66%{content:'...';}}"]);t.a=n},"./src/components/LiquidityProviderMode/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/@lingui/react/esm/index.js"),o=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=i("./src/components/InfoHelper/index.tsx"),r=i("./src/components/PoolList/styled.tsx"),c=i("./src/hooks/useTheme.ts"),a=i("./node_modules/react/jsx-runtime.js"),d=Object(o.default)(r.g).withConfig({displayName:"LiquidityProviderMode__Tab",componentId:"sc-ojkkge-0"})(["padding:8px;"]);t.a=e=>{var t=e.activeTab,i=e.setActiveTab,o=e.singleTokenInfo,l=Object(c.a)();return Object(a.jsxs)(r.f,{style:{padding:"4px"},children:[Object(a.jsx)(d,{active:0===t,onClick:()=>i(0),role:"button",children:Object(a.jsx)(n.b,{id:"Token Pair"})}),Object(a.jsxs)(d,{active:1===t,onClick:()=>i(1),role:"button",children:[Object(a.jsx)(n.b,{id:"Single Token"}),Object(a.jsx)(s.a,{text:o,size:12,isActive:1===t,color:1===t?l.text:l.subText})]})]})}},"./src/components/PoolList/styled.tsx":function(e,t,i){"use strict";i.d(t,"h",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"b",(function(){return c})),i.d(t,"a",(function(){return a})),i.d(t,"i",(function(){return d})),i.d(t,"j",(function(){return l})),i.d(t,"k",(function(){return b})),i.d(t,"e",(function(){return u})),i.d(t,"d",(function(){return j})),i.d(t,"l",(function(){return p})),i.d(t,"m",(function(){return m})),i.d(t,"f",(function(){return x})),i.d(t,"g",(function(){return O}));var n=i("./node_modules/rebass/dist/index.esm.js"),o=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=o.default.div.withConfig({displayName:"styled__TableRow",componentId:"sc-w652p9-0"})(["display:grid;grid-gap:1.5rem;grid-template-columns:2fr 1.5fr 1fr 1fr 1fr 1fr 1fr;padding:12px 16px;font-size:14px;align-items:center;height:fit-content;position:relative;border-bottom:1px solid ",";background:",";:last-child{border-bottom:none;border-bottom-right-radius:20px;border-bottom-left-radius:20px;}"],(e=>e.theme.border),(e=>e.theme.background)),r=Object(o.default)(n.b).withConfig({displayName:"styled__DataText",componentId:"sc-w652p9-1"})(["color:",";flex-direction:column;"],(e=>e.theme.text7)),c=Object(o.default)(n.b).withConfig({displayName:"styled__ButtonWrapper",componentId:"sc-w652p9-2"})(["justify-content:flex-end;gap:4px;align-items:center;"]),a=o.default.div.withConfig({displayName:"styled__AMPLiquidityAndTVLContainer",componentId:"sc-w652p9-3"})(["display:flex;flex-direction:column;align-items:flex-end;gap:8px;"]),d=o.default.div.withConfig({displayName:"styled__TextTVL",componentId:"sc-w652p9-4"})(["font-size:12px;color:",";"],(e=>e.theme.subText)),l=o.default.div.withConfig({displayName:"styled__TokenRatioContainer",componentId:"sc-w652p9-5"})(["background:",";position:relative;overflow:hidden;border-radius:999px;padding:4px;overflow:hidden;margin-top:1rem;"],(e=>e.theme.background)),b=o.default.div.withConfig({displayName:"styled__TokenRatioGrid",componentId:"sc-w652p9-6"})(["padding:4px;display:grid;grid-template-columns:auto 1fr 1fr auto;grid-template-rows:1fr;gap:8px;isolation:isolate;"]),u=o.default.div.withConfig({displayName:"styled__ProgressWrapper",componentId:"sc-w652p9-7"})(["position:absolute;top:2px;left:2px;bottom:2px;width:calc(100% - 4px);border-top-left-radius:999px;border-bottom-left-radius:999px;overflow:hidden;"]),j=o.default.div.withConfig({displayName:"styled__Progress",componentId:"sc-w652p9-8"})(["height:44px;width:",";background:",";"],(e=>e.value+"%"),(e=>e.theme.buttonBlack)),p=o.default.div.withConfig({displayName:"styled__TokenRatioName",componentId:"sc-w652p9-9"})(["font-size:14px;font-weight:500;"]),m=o.default.div.withConfig({displayName:"styled__TokenRatioPercent",componentId:"sc-w652p9-10"})(["font-size:12px;font-weight:500;color:",";"],(e=>e.theme.subText)),x=o.default.div.withConfig({displayName:"styled__TabContainer",componentId:"sc-w652p9-11"})(["width:100%;background:",";border-radius:20px;display:flex;padding:2px;cursor:pointer;"],(e=>e.theme.tabBackgound)),O=o.default.div.withConfig({displayName:"styled__TabItem",componentId:"sc-w652p9-12"})(["font-size:12px;font-weight:500;color:",";background:",";display:flex;justify-content:center;align-items:center;padding:6px;border-radius:20px;flex-grow:1;flex-basis:0;transition:color 300ms;"],(e=>{var t=e.theme;return e.active?t.text:t.subText}),(e=>{var t=e.theme;return e.active?t.tabActive:"transparent"}))},"./src/components/ZapError/index.tsx":function(e,t,i){"use strict";var n=i("./node_modules/polished/dist/polished.esm.js"),o=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),s=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=i("./src/hooks/useTheme.ts"),c=i("./node_modules/react/jsx-runtime.js"),a=s.default.div.withConfig({displayName:"ZapError__ZapErrorWrapper",componentId:"sc-si8u1w-0"})(["display:flex;align-items:center;gap:8px;background:",";padding:1rem;border-radius:999px;margin-bottom:28px;color:",";font-size:12px;font-weight:400;"],(e=>{var t=e.theme,i=e.warning;return Object(n.d)(i?t.warning:t.red,.35)}),(e=>e.theme.text));t.a=e=>{var t=e.message,i=e.warning,n=Object(r.a)();return Object(c.jsxs)(a,{warning:i,children:[Object(c.jsx)(o.a,{color:i?n.warning:n.red,style:{strokeWidth:1.5},size:16}),t]})}},"./src/hooks/useProAmmPositions.ts":function(e,t,i){"use strict";i.d(t,"c",(function(){return m})),i.d(t,"b",(function(){return x})),i.d(t,"a",(function(){return O}));var n=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),o=i("./node_modules/@ethersproject/abi/lib.esm/abi-coder.js"),s=i("./node_modules/@ethersproject/address/lib.esm/index.js"),r=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),c=i("./node_modules/@ethersproject/solidity/lib.esm/index.js"),a=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),d=i("./node_modules/react/index.js"),l=i("./src/hooks/index.ts"),b=i("./src/state/farms/elastic/hooks.ts"),u=i("./src/state/multicall/hooks.ts"),j=i("./src/hooks/useContract.ts");function p(e){var t=Object(j.o)(),i=Object(l.b)(),r=i.isEVM,a=i.networkInfo,b=Object(d.useMemo)((()=>e?e.map((e=>[e])):[]),[e]),p=Object(u.d)(t,"positions",b),m=Object(d.useMemo)((()=>p.some((e=>e.loading))),[p]),x=Object(d.useMemo)((()=>p.some((e=>e.error))),[p]),O=Object(d.useMemo)((()=>{if(!m&&!x&&e&&r)return p.map(((t,i)=>{var n=e[i],r=t.result;return{tokenId:n,poolId:Object(s.getCreate2Address)(a.elastic.coreFactory,Object(c.keccak256)(["bytes"],[o.b.encode(["address","address","uint24"],[r.info.token0,r.info.token1,r.info.fee])]),a.elastic.initCodeHash),feeGrowthInsideLast:r.pos.feeGrowthInsideLast,nonce:r.pos.nonce,liquidity:r.pos.liquidity,operator:r.pos.operator,tickLower:r.pos.tickLower,tickUpper:r.pos.tickUpper,rTokenOwed:r.pos.rTokenOwed,fee:r.info.fee,token0:r.info.token0,token1:r.info.token1}}))}),[m,x,p,e,a,r]);return Object(d.useMemo)((()=>({loading:m,positions:null===O||void 0===O?void 0:O.map(((e,t)=>Object(n.a)(Object(n.a)({},e),{},{tokenId:b[t][0]})))})),[m,O,b])}function m(e){var t,i=p(e?[e]:void 0);return{loading:i.loading,position:null===(t=i.positions)||void 0===t?void 0:t[0]}}function x(e){var t,i=Object(j.o)(),n=Object(u.c)(i,"balanceOf",[null!==e&&void 0!==e?e:void 0]),o=n.loading,s=n.result,c=null===s||void 0===s||null===(t=s[0])||void 0===t?void 0:t.toNumber(),a=Object(d.useMemo)((()=>{if(c&&e){for(var t=[],i=0;i<c;i++)t.push([e,i]);return t}return[]}),[e,c]),l=Object(u.d)(i,"tokenOfOwnerByIndex",a),b=Object(d.useMemo)((()=>l.some((e=>e.loading))),[l]),m=p(Object(d.useMemo)((()=>e?l.map((e=>e.result)).filter((e=>!!e)).map((e=>r.a.from(e[0]))):[]),[e,l])),x=m.positions,O=m.loading;return Object(d.useMemo)((()=>({loading:b||o||O,positions:x})),[b,o,O,x])}var O=()=>{var e=Object(l.b)(),t=e.isEVM,i=e.networkInfo,n=Object(b.b)(),o=n.farms,s=n.loading,c=n.userFarmInfo,u=Object(d.useMemo)((()=>(null===o||void 0===o?void 0:o.map((e=>e.pools)).flat())||[]),[o]),j=Object(d.useMemo)((()=>{var e,t=Date.now()/1e3;return(null===o||void 0===o||null===(e=o.map((e=>e.pools)).flat())||void 0===e?void 0:e.filter((e=>e.endTime>=t)).map((e=>e.poolAddress.toLowerCase())))||[]}),[o]),p=Object(d.useMemo)((()=>t?Object.values(c||{}).map((e=>e.depositedPositions.map((t=>{var n,o=Object(a.computePoolAddress)({factoryAddress:i.elastic.coreFactory,tokenA:t.pool.token0,tokenB:t.pool.token1,fee:t.pool.fee,initCodeHashManualOverride:i.elastic.initCodeHash}),s=u.filter((e=>e.poolAddress.toLowerCase()===o.toLowerCase())),c=Object.values(e.joinedPositions).flat().filter((e=>e.nftId.toString()===t.nftId.toString())).reduce(((e,t)=>e.gt(r.a.from(t.liquidity.toString()))?e:r.a.from(t.liquidity.toString())),r.a.from(0))||r.a.from(0);return{nonce:r.a.from("1"),tokenId:t.nftId,operator:"0x0000000000000000000000000000000000000000",poolId:o,tickLower:t.tickLower,tickUpper:t.tickUpper,liquidity:r.a.from(t.liquidity.toString()),feeGrowthInsideLast:r.a.from(0),stakedLiquidity:c,rTokenOwed:r.a.from(0),token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,endTime:null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.endTime,rewardPendings:[]}})).flat())).flat().filter((e=>e.liquidity.gt(0))):[]),[u,c,t,i]);return Object(d.useMemo)((()=>({farms:o,userFarmInfo:c,activeFarmAddress:j,farmPositions:p,loading:s})),[s,p,j,o,c])}},"./src/pages/AddLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return be}));var n=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),o=i("./node_modules/@lingui/react/esm/index.js"),s=i("./node_modules/@lingui/core/esm/index.js"),r=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),c=i("./node_modules/jsbi/dist/jsbi-umd.js"),a=i.n(c),d=i("./node_modules/react/index.js"),l=i("./node_modules/react-router/dist/index.js"),b=i("./src/components/LiquidityProviderMode/index.tsx"),u=i("./src/components/NavigationTabs/index.tsx"),j=i("./src/components/PositionCard/index.tsx"),p=i("./src/data/Reserves.ts"),m=i("./src/hooks/index.ts"),x=i("./src/hooks/Tokens.ts"),O=i("./src/hooks/useMixpanel.ts"),v=i("./src/state/mint/hooks.ts"),h=i("./src/utils/dmm.ts"),g=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),f=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),y=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),C=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),k=i("./node_modules/@sentry/core/esm/exports.js"),R=i("./node_modules/ethers/lib/utils.js"),_=i("./node_modules/react-feather/dist/icons/alert-triangle.js"),w=i("./node_modules/rebass/dist/index.esm.js"),I=i("./src/components/Button/index.tsx"),S=i("./src/components/Column/index.tsx"),A=i("./src/components/ConfirmAddModalBottom/index.tsx"),E=i("./src/components/CurrencyInputPanel/index.tsx"),N=i("./src/components/CurrentPrice/index.tsx"),T=i("./src/components/Loader/index.tsx"),P=i("./src/components/PoolPriceBar/index.tsx"),B=i("./src/components/QuestionHelper/index.tsx"),U=i("./src/components/Row/index.tsx"),Y=i("./src/components/TransactionConfirmationModal/index.tsx"),q=i("./src/constants/index.ts"),L=i("./src/constants/tokens.ts"),F=i("./src/hooks/useApproveCallback.ts"),D=i("./src/hooks/useTheme.ts"),M=i("./src/hooks/useTokensMarketPrice.ts"),z=i("./src/hooks/useTransactionDeadline.ts"),W=i("./src/pages/Pool/styleds.tsx"),H=i("./src/state/application/hooks.ts"),V=i("./src/state/mint/actions.ts"),G=i("./src/state/transactions/hooks.tsx"),Z=i("./src/state/transactions/type.ts"),Q=i("./src/state/user/hooks.tsx"),J=i("./src/theme/index.tsx"),K=i("./src/utils/index.ts"),X=i("./src/utils/getContract.ts"),$=i("./src/utils/isZero.ts"),ee=i("./src/utils/maxAmountSpend.ts"),te=i("./src/pages/AddLiquidity/styled.tsx"),ie=i("./node_modules/react/jsx-runtime.js"),ne=e=>{var t,i,c,b,u,j,O=e.currencyIdA,ne=e.currencyIdB,oe=e.pairAddress,se=Object(m.b)(),re=se.account,ce=se.chainId,ae=se.isEVM,de=se.networkInfo,le=Object(m.e)().library,be=Object(D.a)(),ue=Object(x.f)(O),je=Object(x.f)(ne),pe=!!(ce&&ue&&ue.isNative),me=!!(ce&&ue&&ue.equals(r.WETH[ce])),xe=!!(ce&&je&&je.isNative),Oe=!!(ce&&je&&je.equals(r.WETH[ce])),ve=Object(H.x)(),he=Object(Q.c)(),ge=Object(n.a)(he,1)[0],fe=Object(v.d)(),ye=fe.independentField,Ce=fe.typedValue,ke=fe.otherTypedValue,Re=Object(v.a)(null!==ue&&void 0!==ue?ue:void 0,null!==je&&void 0!==je?je:void 0,oe),_e=Re.dependentField,we=Re.currencies,Ie=Re.pair,Se=Re.pairState,Ae=Re.currencyBalances,Ee=Re.parsedAmounts,Ne=Re.price,Te=Re.noLiquidity,Pe=Re.liquidityMinted,Be=Re.poolTokenPercentage,Ue=Re.error,Ye=Re.unAmplifiedPairAddress,qe=Re.isStaticFeePair,Le=Re.isOldStaticFeeContract,Fe=Object(h.i)(we[V.a.CURRENCY_A]),De=Object(h.i)(we[V.a.CURRENCY_B]),Me=(null===Ie||void 0===Ie?void 0:Ie.amp)||a.a.BigInt(0),ze=Me.toString()?new r.Fraction(a.a.BigInt(Object(R.parseUnits)(Me.toString()||"1",20)),a.a.BigInt(Object(R.parseUnits)("1",16))):void 0,We=!!ze&&ze.equalTo(a.a.BigInt(1e4))&&!!Ye&&!Object($.a)(Ye),He=Object(v.c)(Te),Ve=He.onFieldAInput,Ge=He.onFieldBInput,Ze=!Ue,Qe=Object(d.useState)(!1),Je=Object(n.a)(Qe,2),Ke=Je[0],Xe=Je[1],$e=Object(d.useState)(!1),et=Object(n.a)($e,2),tt=et[0],it=et[1],nt=Object(z.a)(),ot=Object(Q.x)(),st=Object(n.a)(ot,1)[0],rt=Object(d.useState)(""),ct=Object(n.a)(rt,2),at=ct[0],dt=ct[1],lt=Object(d.useState)(""),bt=Object(n.a)(lt,2),ut=bt[0],jt=bt[1],pt={[ye]:Ce,[_e]:Te?ke:null!==(t=null===(i=Ee[_e])||void 0===i?void 0:i.toSignificant(6))&&void 0!==t?t:""},mt=[V.a.CURRENCY_A,V.a.CURRENCY_B].reduce(((e,t)=>Object(y.a)(Object(y.a)({},e),{},{[t]:Object(ee.b)(Ae[t])})),{}),xt=ae?qe?Le?null===(c=de.classic.oldStatic)||void 0===c?void 0:c.router:de.classic.static.router:null===(b=de.classic.dynamic)||void 0===b?void 0:b.router:void 0,Ot=Object(F.b)(Ee[V.a.CURRENCY_A],xt||void 0),vt=Object(n.a)(Ot,2),ht=vt[0],gt=vt[1],ft=Object(F.b)(Ee[V.a.CURRENCY_B],xt||void 0),yt=Object(n.a)(ft,2),Ct=yt[0],kt=yt[1],Rt=Object(G.g)(),_t=Object(Q.i)();function wt(){return It.apply(this,arguments)}function It(){return(It=Object(f.a)(Object(g.a)().mark((function e(){var t,i,n,o,c,d,l,b,u,j,p,m,x,O,v,h,f,R,_,w,I,S,A;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le&&re){e.next=2;break}return e.abrupt("return");case 2:if(t=qe?Le?Object(X.e)(ce,le,re):Object(X.f)(ce,le,re):Object(X.d)(ce,le,re),i=Ee[V.a.CURRENCY_A],n=Ee[V.a.CURRENCY_B],i&&n&&ue&&je&&nt){e.next=6;break}return e.abrupt("return");case 6:if(o={[V.a.CURRENCY_A]:Object(K.c)(i,Te?0:st)[0],[V.a.CURRENCY_B]:Object(K.c)(n,Te?0:st)[0]},Ie){e.next=9;break}return e.abrupt("return");case 9:return ue.isNative||je.isNative?(p=je.isNative,m=Ie.virtualReserveOf(p?null===ue||void 0===ue?void 0:ue.wrapped:null===je||void 0===je?void 0:je.wrapped),x=Ie.virtualReserveOf(p?null===je||void 0===je?void 0:je.wrapped:null===ue||void 0===ue?void 0:ue.wrapped),O=a.a.divide(a.a.multiply(x.quotient,a.a.exponentiate(a.a.BigInt(2),a.a.BigInt(112))),m.quotient),v=a.a.divide(a.a.multiply(O,a.a.BigInt(st)),a.a.BigInt(1e4)),h=[a.a.subtract(O,v).toString(),a.a.add(O,v).toString()],c=t.estimateGas.addLiquidityETH,d=t.addLiquidityETH,l=[null!==(u=null===(j=p?null===ue||void 0===ue?void 0:ue.wrapped:null===je||void 0===je?void 0:je.wrapped)||void 0===j?void 0:j.address)&&void 0!==u?u:"",Ie.address,(p?i:n).quotient.toString(),o[p?V.a.CURRENCY_A:V.a.CURRENCY_B].toString(),o[p?V.a.CURRENCY_B:V.a.CURRENCY_A].toString(),h,re,nt.toHexString()],b=C.a.from((p?n:i).quotient.toString())):(_=Ie.virtualReserveOf(null===ue||void 0===ue?void 0:ue.wrapped),w=Ie.virtualReserveOf(null===je||void 0===je?void 0:je.wrapped),I=a.a.divide(a.a.multiply(w.quotient,a.a.exponentiate(a.a.BigInt(2),a.a.BigInt(112))),_.quotient),S=a.a.divide(a.a.multiply(I,a.a.BigInt(st)),a.a.BigInt(1e4)),A=[a.a.subtract(I,S).toString(),a.a.add(I,S).toString()],c=t.estimateGas.addLiquidity,d=t.addLiquidity,l=[null!==(f=null===ue||void 0===ue?void 0:ue.wrapped.address)&&void 0!==f?f:"",null!==(R=null===je||void 0===je?void 0:je.wrapped.address)&&void 0!==R?R:"",Ie.address,i.quotient.toString(),n.quotient.toString(),o[V.a.CURRENCY_A].toString(),o[V.a.CURRENCY_B].toString(),A,re,nt.toHexString()],b=null),it(!0),e.next=13,c(...l,b?{value:b}:{}).then((e=>d(...l,Object(y.a)(Object(y.a)({},b?{value:b}:{}),{},{gasLimit:Object(K.b)(e)})).then((e=>{var t=we[V.a.CURRENCY_A],i=we[V.a.CURRENCY_B];if(t&&i){var n,o,s,c,d,l,b=null!==(n=null===(o=Ee[V.a.CURRENCY_A])||void 0===o?void 0:o.toSignificant(6))&&void 0!==n?n:"",u=null!==(s=null===(c=Ee[V.a.CURRENCY_B])||void 0===c?void 0:c.toSignificant(6))&&void 0!==s?s:"";it(!1),Rt({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenSymbolIn:null!==(d=t.symbol)&&void 0!==d?d:"",tokenSymbolOut:null!==(l=i.symbol)&&void 0!==l?l:"",tokenAmountIn:b,tokenAmountOut:u,tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,contract:oe,arbitrary:{poolAddress:oe,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"token pair",amp:new r.Fraction(Me).divide(a.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),dt(e.hash);var j=t.wrapped,p=i.wrapped;j&&p&&_t(j,p)}})))).catch((e=>{it(!1);var t=new Error("Classic: Add liquidity Error",{cause:e});t.name="AddLiquidityError",Object(k.a)(t,{extra:{args:l}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT")?jt(s.a._("Insufficient liquidity available. Please reload page and try again!")):jt(null===e||void 0===e?void 0:e.message)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St="Supplying ".concat(null===(u=Ee[V.a.CURRENCY_A])||void 0===u?void 0:u.toSignificant(6)," ").concat(null===Fe||void 0===Fe?void 0:Fe.symbol," and ").concat(null===(j=Ee[V.a.CURRENCY_B])||void 0===j?void 0:j.toSignificant(6)," ").concat(null===De||void 0===De?void 0:De.symbol),At=Object(d.useCallback)((()=>{Xe(!1),at&&Ve(""),dt(""),jt("")}),[Ve,at]),Et=Ie?Ie.reserve0.asFraction.divide(Ie.virtualReserve0).multiply("100").divide(Ie.reserve0.divide(Ie.virtualReserve0).asFraction.add(Ie.reserve1.divide(Ie.virtualReserve1).asFraction)):new r.Fraction(a.a.BigInt(50)),Nt=new r.Fraction(a.a.BigInt(100),a.a.BigInt(1)).subtract(Et),Tt=Et.toSignificant(4),Pt=Nt.toSignificant(4),Bt=Object(d.useMemo)((()=>[we[V.a.CURRENCY_A],we[V.a.CURRENCY_B]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[we]),Ut=Object(H.u)(Bt),Yt=Object(M.a)(Bt),qt=Ee[V.a.CURRENCY_A]&&Ut[0]?parseFloat(Ee[V.a.CURRENCY_A].toSignificant(6))*Ut[0]:0,Lt=Ee[V.a.CURRENCY_B]&&Ut[1]?parseFloat(Ee[V.a.CURRENCY_B].toSignificant(6))*Ut[1]:0,Ft=Number(null===Ne||void 0===Ne?void 0:Ne.toSignificant(6)),Dt=Yt[1]&&Yt[0]/Yt[1],Mt=!!(Ft&&Dt&&Math.abs(Ft-Dt)/Dt>.05),zt=Object(l.m)(),Wt=()=>Object(ie.jsxs)(S.a,{gap:"5px",children:[Object(ie.jsx)(U.e,{style:{marginTop:"20px"},children:Object(ie.jsx)(w.e,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===Pe||void 0===Pe?void 0:Pe.toSignificant(6)})}),Object(ie.jsx)(U.f,{children:Object(ie.jsx)(w.e,{fontSize:"24px",children:"DMM "+(null===Fe||void 0===Fe?void 0:Fe.symbol)+"/"+(null===De||void 0===De?void 0:De.symbol)+" LP Tokens"})}),Object(ie.jsx)(J.k.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:st/100})})]}),Ht=()=>Object(ie.jsx)(A.a,{pair:Ie,price:Ne,currencies:we,parsedAmounts:Ee,noLiquidity:!1,onAdd:wt,poolTokenPercentage:Be,amplification:ze,estimatedUsd:[qt,Lt]});return Object(ie.jsxs)(W.b,{children:[Object(ie.jsx)(Y.e,{isOpen:Ke,onDismiss:At,attemptingTxn:tt,hash:at,content:()=>ut?Object(ie.jsx)(Y.c,{onDismiss:At,message:ut}):We?Object(ie.jsx)(Y.a,{title:s.a._("Unamplified Pool existed"),onDismiss:At,topContent:()=>null,bottomContent:()=>Object(ie.jsxs)(ie.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ie.jsx)(J.j,{onClick:At,id:"unamplified-pool-link",to:"/add/".concat(O,"/").concat(ne,"/").concat(Ye),children:"Go to unamplified pool"})]})}):Object(ie.jsx)(Y.a,{title:s.a._("You will receive"),onDismiss:At,topContent:Wt,bottomContent:Ht}),pendingText:St}),Object(ie.jsx)(S.a,{gap:"20px",children:Object(ie.jsxs)(te.g,{children:[Object(ie.jsxs)(te.f,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)(E.a,{value:pt[V.a.CURRENCY_A],onUserInput:Ve,onMax:()=>{var e,t;Ve(null!==(e=null===(t=mt[V.a.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;Ve(null!==(e=null===(t=Ae[V.a.CURRENCY_A])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:we[V.a.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(K.i)(qt.toString(),!0)||void 0,disableCurrencySelect:!me&&!pe,isSwitchMode:me||pe,onSwitchCurrency:()=>{ce&&zt("/add/".concat(pe?r.WETH[ce].address:L.i[ce].symbol,"/").concat(ne,"/").concat(oe),{replace:!0})}}),Object(ie.jsx)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:Object(ie.jsx)(te.p,{children:Ut[0]?"1 ".concat(null===Fe||void 0===Fe?void 0:Fe.symbol," = ").concat(Object(K.i)(Ut[0].toString(),!0)):Object(ie.jsx)(T.a,{})})})]}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)(E.a,{value:pt[V.a.CURRENCY_B],onUserInput:Ge,onMax:()=>{var e,t;Ge(null!==(e=null===(t=mt[V.a.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;Ge(null!==(e=null===(t=Ae[V.a.CURRENCY_B])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:we[V.a.CURRENCY_B],disableCurrencySelect:!0,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",estimatedUsd:Object(K.i)(Lt.toString(),!0)||void 0}),Object(ie.jsxs)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ie.jsx)(te.p,{children:Ut[1]?"1 ".concat(null===De||void 0===De?void 0:De.symbol," = ").concat(Object(K.i)(Ut[1].toString(),!0)):Object(ie.jsx)(T.a,{})}),oe&&ce&&(Oe||xe)&&Object(ie.jsx)(J.j,{replace:!0,to:"/add/".concat(O,"/").concat(xe?r.WETH[ce].address:L.i[ce].symbol,"/").concat(oe),children:xe?Object(ie.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ie.jsx)(o.b,{id:"Use Native Token"})})]})]}),we[ye]&&we[_e]&&Se!==p.a.INVALID&&Object(ie.jsx)(te.m,{padding:"0",marginTop:"8px",style:{marginTop:"8px"},children:Object(ie.jsx)(P.a,{currencies:we,poolTokenPercentage:Be,noLiquidity:Te,price:Ne,pair:Ie})})]}),Object(ie.jsxs)(te.l,{children:[we[ye]&&we[_e]&&Se!==p.a.INVALID&&Object(ie.jsx)(te.m,{borderRadius:"20px",marginBottom:"24px",children:Object(ie.jsxs)(P.d,{title:s.a._("Pool Information"),children:[Object(ie.jsxs)(U.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[!Te&&Object(ie.jsxs)(te.c,{children:[Object(ie.jsx)(J.k.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ie.jsx)(J.m,{children:Object(ie.jsx)(o.b,{id:"Current Price"})})}),Object(ie.jsx)(J.k.black,{fontWeight:400,fontSize:14,color:be.text,children:Object(ie.jsx)(N.a,{price:Ne})})]}),Object(ie.jsxs)(te.k,{children:[Object(ie.jsx)(J.k.subHeader,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ie.jsx)(J.m,{children:Object(ie.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ie.jsxs)(J.k.black,{fontWeight:400,fontSize:14,color:be.text,children:[Tt,"% ",null===Ie||void 0===Ie?void 0:Ie.token0.symbol," - ",Pt,"% ",null===Ie||void 0===Ie?void 0:Ie.token1.symbol]})]})]}),Object(ie.jsxs)(U.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(be.border),gap:"1rem"},children:[Object(ie.jsxs)(S.a,{style:{flex:"1"},children:[Object(ie.jsxs)(U.a,{children:[Object(ie.jsx)(w.e,{fontWeight:500,fontSize:12,color:be.subText,children:"AMP"}),Object(ie.jsx)(B.a,{text:q.f})]}),Object(ie.jsx)(w.e,{fontWeight:400,fontSize:14,color:be.text,children:Ie?Object(ie.jsx)(ie.Fragment,{children:new r.Fraction(a.a.BigInt(Ie.amp)).divide(a.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!oe||+Me>=1)&&Object(ie.jsxs)(te.e,{children:[Object(ie.jsxs)(U.a,{children:[Object(ie.jsx)(w.e,{fontWeight:500,fontSize:12,color:be.subText,children:Object(ie.jsx)(J.m,{children:qe||!Ie?Object(ie.jsx)(o.b,{id:"Fee"}):Object(ie.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ie.jsx)(B.a,{text:qe||!Ie?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ie.jsx)(w.e,{fontWeight:400,fontSize:14,color:be.text,children:Ie?qe&&null!==Ie&&void 0!==Ie&&Ie.fee?100*+new r.Fraction(a.a.BigInt(Ie.fee)).divide(a.a.exponentiate(a.a.BigInt(10),a.a.BigInt(18))).toSignificant(6)+"%":Object(h.b)(null!==Ie&&void 0!==Ie&&Ie.amp?+new r.Fraction(a.a.BigInt(Ie.amp)).divide(a.a.BigInt(1e4)).toSignificant(5):+Me):""})]})]}),we[ye]&&we[_e]&&(!!oe||+Me>=1)&&Object(ie.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ie.jsxs)(U.a,{marginBottom:"8px",children:[Object(ie.jsx)(J.m,{children:Object(ie.jsx)(te.a,{children:"Active Price Range"})}),Object(ie.jsx)(B.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ie.jsx)(P.b,{currencies:we,price:Ne,pair:Ie,amplification:ze})]})]})}),Mt&&Object(ie.jsxs)(te.q,{children:[Object(ie.jsx)(_.a,{color:be.yellow2}),Object(ie.jsx)(w.e,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ie.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),re?Object(ie.jsxs)(S.a,{gap:"md",children:[(ht===F.a.NOT_APPROVED||ht===F.a.PENDING||Ct===F.a.NOT_APPROVED||Ct===F.a.PENDING)&&Ze&&Object(ie.jsxs)(U.b,{children:[ht!==F.a.APPROVED&&Object(ie.jsx)(I.i,{onClick:gt,disabled:ht===F.a.PENDING,width:Ct!==F.a.APPROVED?"48%":"100%",children:ht===F.a.PENDING?Object(ie.jsxs)(W.a,{children:["Approving ",null===Fe||void 0===Fe?void 0:Fe.symbol]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(o.b,{id:"Approve"})," ",null===Fe||void 0===Fe?void 0:Fe.symbol]})}),Ct!==F.a.APPROVED&&Object(ie.jsx)(I.i,{onClick:kt,disabled:Ct===F.a.PENDING,width:ht!==F.a.APPROVED?"48%":"100%",children:Ct===F.a.PENDING?Object(ie.jsxs)(W.a,{children:[Object(ie.jsx)(o.b,{id:"Approving"})," ",null===De||void 0===De?void 0:De.symbol]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(o.b,{id:"Approve"})," ",null===De||void 0===De?void 0:De.symbol]})})]}),Object(ie.jsx)(I.e,{onClick:()=>{ge?wt():Xe(!0)},disabled:!Ze||ht!==F.a.APPROVED||Ct!==F.a.APPROVED,error:!Ze&&!!Ee[V.a.CURRENCY_A]&&!!Ee[V.a.CURRENCY_B]&&!!(oe&&+Me<1),children:Object(ie.jsx)(w.e,{fontWeight:500,children:null!==Ue&&void 0!==Ue?Ue:!oe&&+Me<1?s.a._("Enter amp (>=1)"):s.a._("Supply")})})]}):Object(ie.jsx)(I.g,{onClick:ve,children:Object(ie.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})},oe=i("./src/components/CurrencyLogo/index.tsx"),se=i("./src/components/ZapError/index.tsx"),re=i("./src/components/swapv2/FormattedPriceImpact.tsx"),ce=i("./src/state/swap/hooks.ts"),ae=i("./src/utils/currencyId.ts"),de=i("./src/utils/prices.ts"),le=e=>{var t,i,c,l,b,u,j,O,ne=e.currencyIdA,le=e.currencyIdB,be=e.pairAddress,ue=Object(m.b)(),je=ue.account,pe=ue.chainId,me=ue.isEVM,xe=ue.networkInfo,Oe=Object(m.e)().library,ve=Object(D.a)(),he=Object(x.f)(ne),ge=Object(x.f)(le),fe=Object(H.x)(),ye=Object(d.useState)(""),Ce=Object(n.a)(ye,2),ke=Ce[0],Re=Ce[1],_e=Object(Q.c)(),we=Object(n.a)(_e,1)[0],Ie=Object(v.d)(),Se=Ie.independentField,Ae=Ie.typedValue,Ee=Ie.otherTypedValue,Ne=Object(v.b)(null!==he&&void 0!==he?he:void 0,null!==ge&&void 0!==ge?ge:void 0,be),Te=Ne.dependentField,Pe=Ne.currencies,Be=Ne.pair,Ue=Ne.pairState,Ye=Ne.currencyBalances,qe=Ne.parsedAmounts,Le=Ne.price,Fe=Ne.noLiquidity,De=Ne.liquidityMinted,Me=Ne.poolTokenPercentage,ze=Ne.insufficientLiquidity,We=Ne.error,He=Ne.unAmplifiedPairAddress,Ve=Ne.isStaticFeePair,Ge=Ne.isOldStaticFeeContract,Ze=Object(h.i)(Pe[V.a.CURRENCY_A]),Qe=Object(h.i)(Pe[V.a.CURRENCY_B]),Je=Ze&&Qe?Se===V.a.CURRENCY_A?Ze:Qe:void 0,Ke=Ze&&Qe?Se===V.a.CURRENCY_A?Qe:Ze:void 0,Xe=!!(pe&&Pe[Se]&&null!==(t=Pe[Se])&&void 0!==t&&t.isNative),$e=!!(pe&&Pe[Se]&&null!==(i=Pe[Se])&&void 0!==i&&i.equals(r.WETH[pe])),et=(null===Be||void 0===Be?void 0:Be.amp)||a.a.BigInt(0),tt=et.toString()?new r.Fraction(a.a.BigInt(Object(R.parseUnits)(et.toString()||"1",20)),a.a.BigInt(Object(R.parseUnits)("1",16))):void 0,it=!!tt&&tt.equalTo(a.a.BigInt(1e4))&&!!He&&!Object($.a)(He),nt=Object(v.e)(),ot=nt.onFieldInput,st=nt.onSwitchField,rt=!We&&!ze,ct=Object(d.useState)(!1),at=Object(n.a)(ct,2),dt=at[0],lt=at[1],bt=Object(d.useState)(!1),ut=Object(n.a)(bt,2),jt=ut[0],pt=ut[1],mt=Object(z.a)(),xt=Object(Q.x)(),Ot=Object(n.a)(xt,1)[0],vt=Object(d.useState)(""),ht=Object(n.a)(vt,2),gt=ht[0],ft=ht[1],yt={[Se]:Ae,[Te]:Fe?Ee:null!==(c=null===(l=qe[Te])||void 0===l?void 0:l.toSignificant(6))&&void 0!==c?c:""},Ct=[V.a.CURRENCY_A,V.a.CURRENCY_B].reduce(((e,t)=>Object(y.a)(Object(y.a)({},e),{},{[t]:Object(ee.b)(Ye[t])})),{}),kt=Object(ce.b)(Ae,Pe[Se]),Rt=Object(F.b)(kt,me?Ve?Ge?null===(b=xe.classic.oldStatic)||void 0===b?void 0:b.zap:xe.classic.static.zap:null===(u=xe.classic.dynamic)||void 0===u?void 0:u.zap:void 0),_t=Object(n.a)(Rt,2),wt=_t[0],It=_t[1],St=Object(d.useMemo)((()=>{var e;return Object(ce.b)(Ae,null===(e=Pe[Se])||void 0===e?void 0:e.wrapped,!0)}),[Pe,Se,Ae]),At=Object(d.useMemo)((()=>St?C.a.from(St.quotient.toString()):void 0),[St]),Et=De?a.a.divide(a.a.multiply(null===De||void 0===De?void 0:De.quotient,a.a.BigInt(1e4-Ot)),a.a.BigInt(1e4)):a.a.BigInt(0),Nt=Object(G.g)();function Tt(){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(f.a)(Object(g.a)().mark((function e(){var t,i,n,o,c,d,l,b,u,j,p,m;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(me&&Oe&&je){e.next=2;break}return e.abrupt("return");case 2:if(o=Object(X.g)(pe,Oe,je,Ve,Ge),je){e.next=5;break}return e.abrupt("return");case 5:if(c=null===(t=Pe[Se])||void 0===t?void 0:t.wrapped,d=null===(i=Pe[Te])||void 0===i?void 0:i.wrapped,Be&&Be.address&&mt&&c&&d&&At){e.next=9;break}return e.abrupt("return");case 9:if(l=qe[V.a.CURRENCY_A],b=qe[V.a.CURRENCY_B],l&&b&&he&&ge&&mt){e.next=12;break}return e.abrupt("return");case 12:if(Be){e.next=14;break}return e.abrupt("return");case 14:return null!==(n=Pe[Se])&&void 0!==n&&n.isNative?(u=o.estimateGas.zapInEth,j=o.zapInEth,p=[d.address,Be.address,je,Et.toString(),mt.toHexString()],m=At):(u=o.estimateGas.zapIn,j=o.zapIn,p=[c.address,d.address,At.toString(),Be.address,je,Et.toString(),mt.toHexString()],m=null),Ve&&!Ge&&p.unshift(xe.classic.static.factory),pt(!0),e.next=19,u(...p,m?{value:m}:{}).then((e=>j(...p,Object(y.a)(Object(y.a)({},m?{value:m}:{}),{},{gasLimit:Object(K.b)(e)})).then((e=>{var t=Pe[V.a.CURRENCY_A],i=Pe[V.a.CURRENCY_B];if(t&&i){var n=null===St||void 0===St?void 0:St.toSignificant(6);pt(!1),Nt({hash:e.hash,type:Z.c.CLASSIC_ADD_LIQUIDITY,extraInfo:{tokenAddressIn:t.wrapped.address,tokenAddressOut:i.wrapped.address,tokenSymbolIn:t.symbol,tokenSymbolOut:i.symbol,tokenAmountIn:n,contract:be,arbitrary:{poolAddress:be,token_1:t.symbol,token_2:i.symbol,add_liquidity_method:"single token",amp:new r.Fraction(et).divide(a.a.BigInt(1e4)).toSignificant(5),txHash:e.hash}}}),ft(e.hash)}})))).catch((e=>{pt(!1);var t=new Error("Classic: ZapIn liquidity Error",{cause:e});t.name="ZapError",Object(k.a)(t,{extra:{args:p}}),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e),e.message.includes("INSUFFICIENT_MINT_QTY")?Re(s.a._("Insufficient liquidity available. Please reload page and try again!")):Re(null===e||void 0===e?void 0:e.message)}));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bt="Supplying ".concat(null===St||void 0===St?void 0:St.toSignificant(6)," ").concat(null===Je||void 0===Je?void 0:Je.symbol),Ut=Object(d.useCallback)((()=>{lt(!1),gt&&ot(""),Re(""),ft("")}),[ot,gt]),Yt=Be?Be.reserve0.asFraction.divide(Be.virtualReserve0).multiply("100").divide(Be.reserve0.divide(Be.virtualReserve0).asFraction.add(Be.reserve1.divide(Be.virtualReserve1).asFraction)):new r.Fraction(a.a.BigInt(50)),qt=new r.Fraction(a.a.BigInt(100),a.a.BigInt(1)).subtract(Yt),Lt=Yt.toSignificant(4),Ft=qt.toSignificant(4),Dt=Object(d.useMemo)((()=>[Pe[Se],Pe[Te]].map((e=>null===e||void 0===e?void 0:e.wrapped))),[Pe,Te,Se]),Mt=Object(H.u)(Dt),zt=Object(M.a)(Dt),Wt=Se===V.a.CURRENCY_A?Number(null===Le||void 0===Le?void 0:Le.toSignificant(6)):Number(null===Le||void 0===Le?void 0:Le.invert().toSignificant(6)),Ht=zt[1]&&zt[0]/zt[1],Vt=!!(Wt&&Ht&&Math.abs(Wt-Ht)/Ht>.05),Gt=Object(d.useCallback)((()=>{st()}),[st]),Zt=St&&Mt[0]?parseFloat(St.toSignificant(6))*Mt[0]:0,Qt=Mt[0]&&qe&&qe[Se]&&Mt[0]*parseFloat(qe[Se].toSignificant(6)),Jt=Mt[1]&&qe&&qe[Te]&&Mt[1]*parseFloat(qe[Te].toSignificant(6)),Kt=Se===V.a.CURRENCY_A?[Qt||0,Jt||0]:[Jt||0,Qt||0],Xt=Le&&St&&qe[Se]&&qe[Te]&&!St.lessThan(qe[Se])?Object(r.computePriceImpact)(Se===V.a.CURRENCY_A?Le:Le.invert(),null===St||void 0===St?void 0:St.subtract(qe[Se]),qe[Te]):void 0,$t=Be&&Xt?Object(de.b)([Be],Xt):void 0,ei=Object(de.f)($t),ti=()=>Object(ie.jsxs)(S.a,{gap:"5px",children:[Object(ie.jsx)(U.e,{style:{marginTop:"20px"},children:Object(ie.jsx)(w.e,{fontSize:"24px",fontWeight:500,lineHeight:"42px",marginRight:10,children:null===De||void 0===De?void 0:De.toSignificant(6)})}),Object(ie.jsx)(U.f,{children:Object(ie.jsx)(w.e,{fontSize:"24px",children:"DMM "+(null===Ze||void 0===Ze?void 0:Ze.symbol)+"/"+(null===Qe||void 0===Qe?void 0:Qe.symbol)+" LP Tokens"})}),Object(ie.jsx)(J.k.italic,{fontSize:12,textAlign:"left",padding:"8px 0 0 0 ",children:s.a._("Output is estimated. If the price changes by more than {0}% your transaction will revert.",{0:Ot/100})})]}),ii=()=>Object(ie.jsx)(A.a,{pair:Be,price:Le,currencies:Pe,parsedAmounts:qe,noLiquidity:!1,onAdd:Tt,poolTokenPercentage:Me,amplification:tt,priceImpact:$t,estimatedUsd:Kt});return Object(ie.jsxs)(W.b,{children:[Object(ie.jsx)(Y.e,{isOpen:dt,onDismiss:Ut,attemptingTxn:jt,hash:gt,content:()=>ke?Object(ie.jsx)(Y.c,{onDismiss:Ut,message:ke}):it?Object(ie.jsx)(Y.a,{title:s.a._("Unamplified Pool existed"),onDismiss:Ut,topContent:()=>null,bottomContent:()=>Object(ie.jsxs)(ie.Fragment,{children:["Please use the link below if you want to add liquidity to Unamplified Pool",Object(ie.jsx)(J.j,{onClick:Ut,id:"unamplified-pool-link",to:"/add/".concat(ne,"/").concat(le,"/").concat(He),children:"Go to unamplified pool"})]})}):Object(ie.jsx)(Y.a,{title:s.a._("You will receive"),onDismiss:Ut,topContent:ti,bottomContent:ii}),pendingText:Bt}),Object(ie.jsx)(S.a,{gap:"20px",children:Object(ie.jsxs)(te.g,{children:[Object(ie.jsxs)(te.f,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)(E.a,{value:yt[Se],onUserInput:ot,onMax:()=>{var e,t;ot(null!==(e=null===(t=Ct[Se])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;ot(null!==(e=null===(t=Ye[Se])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},onSwitchCurrency:Gt,currency:Pe[Se],id:"zap-in-input",disableCurrencySelect:!1,showCommonBases:!0,positionMax:"top",isSwitchMode:!0,estimatedUsd:Object(K.i)(Zt.toString(),!0)||void 0}),Object(ie.jsxs)(w.b,{justifyContent:"space-between",alignItems:"center",marginTop:"0.5rem",children:[Object(ie.jsx)(te.p,{children:Mt[0]?"1 ".concat(null===Je||void 0===Je?void 0:Je.symbol," = ").concat(Object(K.i)(Mt[0].toString(),!0)):Object(ie.jsx)(T.a,{})}),be&&pe&&(Xe||$e)&&Pe[Te]&&Object(ie.jsx)(J.j,{replace:!0,to:Se===V.a.CURRENCY_A?"/add/".concat(Xe?Object(ae.a)(r.WETH[pe],pe):Object(ae.a)(L.i[pe],pe),"/").concat(Object(ae.a)(Pe[Te],pe),"/").concat(be):"/add/".concat(Object(ae.a)(Pe[Te],pe),"/").concat(Xe?Object(ae.a)(r.WETH[pe],pe):L.i[pe].symbol,"/").concat(be),children:Xe?Object(ie.jsx)(o.b,{id:"Use Wrapped Token"}):Object(ie.jsx)(o.b,{id:"Use Native Token"})})]})]}),Object(ie.jsxs)(te.m,{padding:"0",marginTop:"8px",borderRadius:"20px",children:[Object(ie.jsx)(U.f,{padding:"0 0 1rem 0",children:Object(ie.jsx)(J.k.subHeader,{fontWeight:500,fontSize:16,color:ve.text,children:Object(ie.jsx)(o.b,{id:"Your Pool Allocation"})})}),Object(ie.jsxs)(te.d,{style:{padding:"16px 0",borderTop:"1px dashed ".concat(ve.border),borderBottom:"1px dashed ".concat(ve.border)},children:[Object(ie.jsxs)(S.a,{justify:"space-between",gap:"4px",children:[Object(ie.jsxs)(te.n,{children:[Object(ie.jsx)(oe.a,{currency:Pe[Se]||void 0,size:"16px"}),Object(ie.jsx)(J.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Je||void 0===Je?void 0:Je.symbol})]}),Object(ie.jsxs)(J.k.black,{fontWeight:400,fontSize:14,children:[null===(j=qe[Se])||void 0===j?void 0:j.toSignificant(6)," (~",Object(K.i)((Qt||0).toString(),!0),")"]})]}),Object(ie.jsxs)(S.a,{justify:"space-between",gap:"4px",children:[Object(ie.jsxs)(te.n,{children:[Object(ie.jsx)(oe.a,{currency:Pe[Te]||void 0,size:"16px"}),Object(ie.jsx)(J.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:null===Ke||void 0===Ke?void 0:Ke.symbol})]}),Object(ie.jsxs)(J.k.black,{fontWeight:400,fontSize:14,children:[null===(O=qe[Te])||void 0===O?void 0:O.toSignificant(6)," (~",Object(K.i)((Jt||0).toString(),!0),")"]})]})]}),Object(ie.jsxs)(te.d,{style:{paddingTop:"16px"},children:[Object(ie.jsx)(J.k.subHeader,{fontWeight:400,fontSize:14,color:ve.subText,children:Object(ie.jsx)(o.b,{id:"Price Impact"})}),Object(ie.jsx)(J.k.black,{fontWeight:400,fontSize:14,children:Object(ie.jsx)(re.a,{priceImpact:$t})})]})]}),Pe[Se]&&Pe[Te]&&Ue!==p.a.INVALID&&Object(ie.jsx)(te.m,{padding:"0",borderRadius:"20px",style:{marginTop:"8px"},children:Object(ie.jsx)(P.a,{currencies:Pe,poolTokenPercentage:Me,noLiquidity:Fe,price:Le,pair:Be})})]}),Object(ie.jsxs)(te.l,{children:[Pe[Se]&&Pe[Te]&&Ue!==p.a.INVALID&&Object(ie.jsx)(te.m,{borderRadius:"20px",marginBottom:"28px",children:Object(ie.jsxs)(P.d,{title:s.a._("Pool Information"),children:[Object(ie.jsxs)(U.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[!Fe&&Object(ie.jsxs)(te.c,{children:[Object(ie.jsx)(J.k.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ie.jsx)(J.m,{children:Object(ie.jsx)(o.b,{id:"Current Price"})})}),Object(ie.jsx)(J.k.black,{fontWeight:400,fontSize:14,color:ve.text,children:Object(ie.jsx)(N.a,{price:Le})})]}),Object(ie.jsxs)(te.k,{children:[Object(ie.jsx)(J.k.subHeader,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ie.jsx)(J.m,{children:Object(ie.jsx)(o.b,{id:"Pool Ratio"})})}),Object(ie.jsxs)(J.k.black,{fontWeight:400,fontSize:14,color:ve.text,children:[Lt,"% ",null===Be||void 0===Be?void 0:Be.token0.symbol," - ",Ft,"% ",null===Be||void 0===Be?void 0:Be.token1.symbol]})]})]}),Object(ie.jsxs)(U.a,{padding:"16px 0",style:{borderBottom:"1px dashed ".concat(ve.border),gap:"1rem"},children:[Object(ie.jsxs)(S.a,{style:{flex:"1"},children:[Object(ie.jsxs)(U.a,{children:[Object(ie.jsx)(w.e,{fontWeight:500,fontSize:12,color:ve.subText,children:"AMP"}),Object(ie.jsx)(B.a,{text:q.f})]}),Object(ie.jsx)(w.e,{fontWeight:400,fontSize:14,color:ve.text,children:Be?Object(ie.jsx)(ie.Fragment,{children:new r.Fraction(a.a.BigInt(Be.amp)).divide(a.a.BigInt(1e4)).toSignificant(5)}):""})]}),(!!be||+et>=1)&&Object(ie.jsxs)(te.e,{children:[Object(ie.jsxs)(U.a,{children:[Object(ie.jsx)(w.e,{fontWeight:500,fontSize:12,color:ve.subText,children:Object(ie.jsx)(J.m,{children:Ve||!Be?Object(ie.jsx)(o.b,{id:"Fee"}):Object(ie.jsx)(o.b,{id:"Dynamic Fee Range"})})}),Object(ie.jsx)(B.a,{text:Ve||!Be?s.a._("Liquidity providers will earn this trading fee for each trade that uses this pool"):s.a._("Fees are adjusted dynamically according to market conditions to maximise returns for liquidity providers")})]}),Object(ie.jsx)(w.e,{fontWeight:400,fontSize:14,color:ve.text,children:Be?Ve&&null!==Be&&void 0!==Be&&Be.fee?100*+new r.Fraction(a.a.BigInt(Be.fee)).divide(a.a.exponentiate(a.a.BigInt(10),a.a.BigInt(18))).toSignificant(6)+"%":Object(h.b)(null!==Be&&void 0!==Be&&Be.amp?+new r.Fraction(a.a.BigInt(Be.amp)).divide(a.a.BigInt(1e4)).toSignificant(5):+et):""})]})]}),Pe[Se]&&Pe[Te]&&(!!be||+et>=1)&&Object(ie.jsxs)("div",{style:{padding:"16px 0 0"},children:[Object(ie.jsxs)(U.a,{marginBottom:"8px",children:[Object(ie.jsx)(J.m,{children:Object(ie.jsx)(te.a,{children:"Active Price Range"})}),Object(ie.jsx)(B.a,{text:s.a._("Tradable token pair price range for this pool based on AMP. If the price goes below or above this range, the pool may become inactive")})]}),Object(ie.jsx)(P.b,{currencies:Pe,price:Le,pair:Be,amplification:tt})]})]})}),Vt&&Object(ie.jsxs)(te.q,{children:[Object(ie.jsx)(_.a,{color:ve.yellow2}),Object(ie.jsx)(w.e,{fontSize:"0.75rem",marginLeft:"0.75rem",children:Object(ie.jsx)(o.b,{id:"The price is deviating quite a lot from that market price, please be careful!"})})]}),ze?Object(ie.jsx)(se.a,{message:s.a._("Insufficient Liquidity in the Liquidity Pool to Swap"),warning:!1}):ei>3?Object(ie.jsx)(se.a,{message:s.a._("Price impact is too high"),warning:!1}):ei>2?Object(ie.jsx)(se.a,{message:s.a._("Price impact is high"),warning:!0}):null,je?Object(ie.jsxs)(S.a,{gap:"md",children:[(wt===F.a.NOT_APPROVED||wt===F.a.PENDING)&&rt&&(we||ei<=3)&&Object(ie.jsx)(U.b,{children:Object(ie.jsx)(I.i,{onClick:It,disabled:!rt||wt===F.a.PENDING||ei>3&&!we,width:"100%",children:wt===F.a.PENDING?Object(ie.jsxs)(W.a,{children:["Approving ",null===Je||void 0===Je?void 0:Je.symbol]}):"Approve "+(null===Je||void 0===Je?void 0:Je.symbol)})}),Object(ie.jsx)(I.e,{id:"btnSupply",onClick:()=>{we?Tt():lt(!0)},disabled:!rt||wt!==F.a.APPROVED||ei>3&&!we,error:!!qe[Se]&&!!qe[Te]&&!!be&&(!rt||ei>2),children:Object(ie.jsx)(w.e,{fontSize:20,fontWeight:500,children:null!==We&&void 0!==We?We:!be&&+et<1?s.a._("Enter amp (>=1)"):ei>3&&!we?s.a._("Supply"):ei>2?s.a._("Supply Anyway"):s.a._("Supply")})})]}):Object(ie.jsx)(I.g,{onClick:fe,children:Object(ie.jsx)(o.b,{id:"Connect Wallet"})})]})]})})]})};function be(){var e,t,i=Object(l.o)(),c=i.currencyIdA,g=void 0===c?"":c,f=i.currencyIdB,y=void 0===f?"":f,C=i.pairAddress,k=void 0===C?"":C,R=Object(m.b)(),_=R.chainId,w=R.isEVM,I=null!==(e=Object(x.f)(g))&&void 0!==e?e:void 0,S=null!==(t=Object(x.f)(y))&&void 0!==t?t:void 0,A=Object(h.i)(I),E=Object(h.i)(S),N=!(!_||null===I||void 0===I||!I.equals(r.WETH[_])),T=!(!_||null===S||void 0===S||!S.equals(r.WETH[_]))||N,P=Object(v.a)(I,S,k),B=P.pair,U=P.pairState,Y=P.noLiquidity,q=(null===B||void 0===B?void 0:B.amp)||a.a.BigInt(0),L=Object(d.useState)(0),F=Object(n.a)(L,2),D=F[0],M=F[1],z=Object(O.c)().mixpanelHandler;return Object(d.useEffect)((()=>{z(O.a.ADD_LIQUIDITY_INITIATED,{token_1:null===A||void 0===A?void 0:A.symbol,token_2:null===E||void 0===E?void 0:E.symbol,amp:new r.Fraction(q).divide(a.a.BigInt(1e4)).toSignificant(5)})}),[]),w?Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(te.i,{children:[Object(ie.jsxs)(te.b,{children:[Object(ie.jsx)(u.a,{action:u.c.ADD}),Object(ie.jsxs)(te.o,{children:[Object(ie.jsx)(te.h,{children:Object(ie.jsx)(b.a,{activeTab:D,setActiveTab:M,singleTokenInfo:s.a._("Add liquidity to the pool by supplying a single token (either token from the token pair). We will automatically create LP tokens for you and add them to the liquidity pool - all in a single transaction")})}),Object(ie.jsxs)(te.j,{children:[null===A||void 0===A?void 0:A.symbol," - ",null===E||void 0===E?void 0:E.symbol," ",Object(ie.jsx)(o.b,{id:"pool"})]})]}),0===D?Object(ie.jsx)(ne,{currencyIdA:g,currencyIdB:y,pairAddress:k}):Object(ie.jsx)(le,{currencyIdA:g,currencyIdB:y,pairAddress:k})]}),B&&!Y&&U!==p.a.INVALID?Object(ie.jsx)(te.b,{style:{marginTop:"24px",padding:"0"},children:Object(ie.jsx)(j.a,{showUnwrapped:T,pair:B})}):null]})}):Object(ie.jsx)(l.a,{to:"/"})}},"./src/pages/IncreaseLiquidity/index.tsx":function(e,t,i){"use strict";i.r(t),i.d(t,"default",(function(){return pe}));var n=i("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),o=i("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),s=i("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),r=i("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),c=i("./node_modules/@lingui/react/esm/index.js"),a=i("./node_modules/@lingui/core/esm/index.js"),d=i("./node_modules/@kyberswap/ks-sdk-core/dist/index.js"),l=i("./node_modules/@kyberswap/ks-sdk-elastic/dist/index.js"),b=i("./node_modules/@ethersproject/bignumber/lib.esm/bignumber.js"),u=i("./node_modules/jsbi/dist/jsbi-umd.js"),j=i.n(u),p=i("./node_modules/react/index.js"),m=i("./node_modules/react-feather/dist/icons/chevron-left.js"),x=i("./node_modules/react-router/dist/index.js"),O=i("./node_modules/react-use/esm/usePrevious.js"),v=i("./node_modules/react-use/esm/useMedia.js"),h=i("./node_modules/rebass/dist/index.esm.js"),g=i("./src/components/Badge/RangeBadge.tsx"),f=i("./src/components/Button/index.tsx"),y=i("./src/components/Card/index.tsx"),C=i("./src/components/Column/index.tsx"),k=i("./src/components/Copy/index.tsx"),R=i("./src/components/CurrencyInputPanel/index.tsx"),_=i("./src/components/CurrencyLogo/index.tsx"),w=i("./src/components/Divider/index.tsx"),I=i("./src/components/Dots.tsx"),S=i("./src/components/FormattedCurrencyAmount/index.tsx"),A=i("./src/components/Loader/index.tsx"),E=i("./src/components/ProAmm/ProAmmPoolInfo.tsx"),N=i("./src/components/ProAmm/ProAmmPooledTokens.tsx"),T=i("./src/components/ProAmm/ProAmmPriceRangeConfirm.tsx"),P=i("./src/components/Rating/index.tsx"),B=i("./src/components/Row/index.tsx"),U=i("./src/components/TransactionConfirmationModal/index.tsx"),Y=i("./src/components/TransactionSettings/index.tsx"),q=i("./src/constants/index.ts"),L=i("./src/constants/tokens.ts"),F=i("./src/hooks/index.ts"),D=i("./src/hooks/Tokens.ts"),M=i("./src/hooks/useApproveCallback.ts"),z=i("./src/hooks/useContract.ts"),W=i("./src/hooks/usePools.ts");var H=i("./src/hooks/useProAmmPositions.ts"),V=i("./src/hooks/useProAmmPreviousTicks.ts"),G=i("./src/hooks/useTheme.ts"),Z=i("./src/hooks/useTransactionDeadline.ts"),Q=i("./src/pages/RemoveLiquidityProAmm/styled.tsx"),J=i("./src/state/application/hooks.ts"),K=i("./src/state/mint/proamm/hooks.tsx"),X=i("./src/state/mint/proamm/type.ts"),$=i("./src/state/multicall/hooks.ts"),ee=i("./src/state/tokenPrices/hooks.ts"),te=i("./src/state/transactions/hooks.tsx"),ie=i("./src/state/transactions/type.ts"),ne=i("./src/state/user/hooks.tsx"),oe=i("./src/theme/index.tsx"),se=i("./src/utils/index.ts"),re=i("./src/utils/maxAmountSpend.ts"),ce=i("./src/utils/wrappedCurrency.ts"),ae=i("./src/components/Icons/index.ts"),de=i("./src/components/InfoHelper/index.tsx"),le=i("./src/components/LiquidityChartRangeInput/index.tsx"),be=i("./src/utils/formatTickPrice.ts"),ue=i("./node_modules/react/jsx-runtime.js");function je(e){var t=e.position,i=e.ticksAtLimit,n=Object(G.a)(),o=Object(ce.a)(t.pool.token0),s=Object(ce.a)(t.pool.token1),d=Object(p.useState)(o),l=Object(r.a)(d,2),b=l[0],u=l[1],j=b.symbol===o.symbol,m=j?s:o,x=j?t.pool.priceOf(t.pool.token0):t.pool.priceOf(t.pool.token1),O=j?t.token0PriceLower:t.token0PriceUpper.invert(),v=j?t.token0PriceUpper:t.token0PriceLower.invert(),g=Object(p.useCallback)((()=>{u(m)}),[m]);return Object(ue.jsxs)(C.a,{gap:"13px",children:[Object(ue.jsxs)("div",{children:[Object(ue.jsxs)(h.b,{alignItems:"center",justifyContent:"center",sx:{gap:"8px"},children:[Object(ue.jsx)(h.e,{fontSize:12,fontWeight:500,color:n.subText,children:Object(ue.jsx)(c.b,{id:"Current Price"})}),Object(ue.jsxs)(B.d,{children:[Object(ue.jsx)(h.e,{fontSize:"12px",fontWeight:"500",style:{textAlign:"right"},children:"".concat(x.toSignificant(6)," ").concat(m.symbol," per ").concat(b.symbol)}),Object(ue.jsx)("span",{onClick:g,style:{marginLeft:"2px",cursor:"pointer"},children:Object(ue.jsx)(ae.n,{size:16})})]})]}),Object(ue.jsx)(le.a,{style:{minHeight:"180px"},currencyA:b,currencyB:m,feeAmount:t.pool.fee,ticksAtLimit:i,price:x?parseFloat(x.toSignificant(8)):void 0,leftPrice:O,rightPrice:v,onLeftRangeInput:()=>{},onRightRangeInput:()=>{},interactive:!1,height:"233.5px"})]}),Object(ue.jsxs)(B.b,{style:{gap:"12px"},children:[Object(ue.jsxs)(h.b,{children:[Object(ue.jsx)(h.e,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(ue.jsx)(c.b,{id:"Min Price"})}),Object(ue.jsx)(de.a,{text:a.a._("Your position will be 100% composed of {0} at this price",{0:null===b||void 0===b?void 0:b.symbol}),placement:"right",size:12})]}),Object(ue.jsx)(h.e,{fontWeight:"500",fontSize:"12px",children:Object(ue.jsx)(c.b,{id:"{0} {1} per {2}",values:{0:Object(be.a)(O,i,X.a.LOWER),1:m.symbol,2:b.symbol}})})]}),Object(ue.jsxs)(B.b,{style:{gap:"12px"},children:[Object(ue.jsxs)(h.b,{children:[Object(ue.jsx)(h.e,{fontSize:"12px",fontWeight:500,color:n.subText,children:Object(ue.jsx)(c.b,{id:"Max Price"})}),Object(ue.jsx)(de.a,{text:a.a._("Your position will be 100% composed of {0} at this price",{0:null===m||void 0===m?void 0:m.symbol}),placement:"right",size:12})]}),Object(ue.jsx)(h.e,{fontSize:"12px",fontWeight:"500",children:Object(ue.jsx)(c.b,{id:"{0} {1} per {2}",values:{0:Object(be.a)(v,i,X.a.UPPER),1:m.symbol,2:b.symbol}})})]})]})}function pe(){var e,t,i,u,ae,de,le,be,pe,me,xe,Oe,ve,he,ge=Object(x.o)(),fe=ge.currencyIdB,ye=ge.currencyIdA,Ce=ge.feeAmount,ke=ge.tokenId,Re=Object(F.b)(),_e=Re.account,we=Re.chainId,Ie=Re.isEVM,Se=Re.networkInfo,Ae=Object(F.e)().library,Ee=Object(x.m)(),Ne=Object(G.a)(),Te=Object(J.x)(),Pe=Object(ne.c)(),Be=Object(r.a)(Pe,1)[0],Ue=Object(te.g)(),Ye=Object(O.a)(we);Object(p.useEffect)((()=>{we&&Ye&&we!==Ye&&Ee(q.h.MY_POOLS)}),[we,Ye,Ee]);var qe=Object(z.o)(),Le=Object(H.c)(ke?b.a.from(ke):void 0).position,Fe=null===(e=Object($.c)(ke?qe:null,"ownerOf",[ke]).result)||void 0===e?void 0:e[0],De=Fe===_e||(null===Le||void 0===Le?void 0:Le.operator)===_e,Me=!!Ie&&Se.elastic.farms.flat().includes(Object(se.t)(we,Fe)),ze=function(e){var t=Object(D.f)(null===e||void 0===e?void 0:e.token0),i=Object(D.f)(null===e||void 0===e?void 0:e.token1),n=Object(W.b)(null!==t&&void 0!==t?t:void 0,null!==i&&void 0!==i?i:void 0,null===e||void 0===e?void 0:e.fee),o=Object(r.a)(n,2)[1],s=void 0;return o&&e&&(s=new l.Position({pool:o,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})),{position:s,pool:null!==o&&void 0!==o?o:void 0}}(Le),We=ze.position,He=null===Le||void 0===Le||null===(t=Le.liquidity)||void 0===t?void 0:t.eq(0),Ve=Ce&&Object.values(l.FeeAmount).includes(parseFloat(Ce))?parseFloat(Ce):void 0,Ge=Object(D.f)(ye),Ze=Object(D.f)(fe),Qe=Ge&&Ze&&Ge.wrapped.equals(Ze.wrapped)?void 0:Ze,Je=Object(K.e)().positions[0],Ke=Je.independentField,Xe=Je.typedValue,$e=Object(K.c)(0,null!==Ge&&void 0!==Ge?Ge:void 0,null!==Qe&&void 0!==Qe?Qe:void 0,Ve,null!==Ge&&void 0!==Ge?Ge:void 0,We),et=$e.pool,tt=$e.dependentField,it=$e.parsedAmounts,nt=$e.currencyBalances,ot=$e.position,st=$e.noLiquidity,rt=$e.currencies,ct=$e.errorMessage,at=$e.invalidRange,dt=$e.outOfRange,lt=$e.depositADisabled,bt=$e.depositBDisabled,ut=$e.ticksAtLimit,jt=$e.riskPoint,pt=$e.profitPoint,mt=!!(we&&Ge&&Ge.isNative),xt=!!(we&&Ge&&Ge.equals(d.WETH[we])),Ot=!!(we&&Qe&&Qe.isNative),vt=!!(we&&Qe&&Qe.equals(d.WETH[we])),ht=(null===Ge||void 0===Ge?void 0:Ge.wrapped.address)||"",gt=(null===Qe||void 0===Qe?void 0:Qe.wrapped.address)||"",ft=Object(ee.a)([ht,gt]),yt=it[X.b.CURRENCY_A]&&ft[ht]?parseFloat((null===(i=it[X.b.CURRENCY_A])||void 0===i?void 0:i.toExact())||"0")*ft[ht]:0,Ct=it[X.b.CURRENCY_B]&&ft[gt]?parseFloat((null===(u=it[X.b.CURRENCY_B])||void 0===u?void 0:u.toExact())||"0")*ft[gt]:0,kt=We&&d.CurrencyAmount.fromRawAmount(Object(ce.a)(We.pool.token0),We.amount0.quotient),Rt=We&&d.CurrencyAmount.fromRawAmount(Object(ce.a)(We.pool.token1),We.amount1.quotient),_t=parseFloat((null===kt||void 0===kt?void 0:kt.toExact())||"0")*ft[(null===kt||void 0===kt||null===(ae=kt.currency)||void 0===ae?void 0:ae.wrapped.address)||""]+parseFloat((null===Rt||void 0===Rt?void 0:Rt.toExact())||"0")*ft[(null===Rt||void 0===Rt||null===(de=Rt.currency)||void 0===de?void 0:de.wrapped.address)||""],wt=Object(V.a)(et,ot),It=Object(K.d)(st,0),St=It.onFieldAInput,At=It.onFieldBInput,Et=It.onResetMintState;Object(p.useEffect)((()=>{Et()}),[Et]);var Nt=!ct&&!at,Tt=Object(p.useState)(!1),Pt=Object(r.a)(Tt,2),Bt=Pt[0],Ut=Pt[1],Yt=Object(p.useState)(!1),qt=Object(r.a)(Yt,2),Lt=qt[0],Ft=qt[1],Dt=Object(Z.a)(),Mt=Object(p.useState)(""),zt=Object(r.a)(Mt,2),Wt=zt[0],Ht=zt[1],Vt={[Ke]:Xe,[tt]:null!==(le=null===(be=it[tt])||void 0===be?void 0:be.toSignificant(6))&&void 0!==le?le:""},Gt=[X.b.CURRENCY_A,X.b.CURRENCY_B].reduce(((e,t)=>Object(s.a)(Object(s.a)({},e),{},{[t]:Object(re.b)(nt[t])})),{}),Zt=Object(M.b)(it[X.b.CURRENCY_A],Se.elastic.nonfungiblePositionManager),Qt=Object(r.a)(Zt,2),Jt=Qt[0],Kt=Qt[1],Xt=Object(M.b)(it[X.b.CURRENCY_B],Se.elastic.nonfungiblePositionManager),$t=Object(r.a)(Xt,2),ei=$t[0],ti=$t[1],ii=Object(ne.x)();function ni(){return oi.apply(this,arguments)}function oi(){return(oi=Object(o.a)(Object(n.a)().mark((function e(){var t,i,o,r,c;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ie&&Ae&&_e&&ke){e.next=2;break}return e.abrupt("return");case 2:if(qe&&Ge&&Qe){e.next=4;break}return e.abrupt("return");case 4:if(wt&&2===wt.length){e.next=6;break}return e.abrupt("return");case 6:if(!(ot&&_e&&Dt)){e.next=14;break}t=Ge.isNative?Ge:Qe.isNative?Qe:void 0,i=l.NonfungiblePositionManager.addCallParameters(ot,wt,{slippageTolerance:new d.Percent(ii[0],1e4),deadline:Dt.toString(),useNative:t,tokenId:j.a.BigInt(ke)}),o=i.calldata,r=i.value,c={to:Se.elastic.nonfungiblePositionManager,data:o,value:r},Ft(!0),Ae.getSigner().estimateGas(c).then((e=>{var t=Object(s.a)(Object(s.a)({},c),{},{gasLimit:Object(se.b)(e)});return Ae.getSigner().sendTransaction(t).then((e=>{var t,i,n,o;Ft(!1);var s=(null===(t=it[X.b.CURRENCY_A])||void 0===t?void 0:t.toSignificant(6))||"0",r=(null===(i=it[X.b.CURRENCY_B])||void 0===i?void 0:i.toSignificant(6))||"0",c=null!==(n=null===Ge||void 0===Ge?void 0:Ge.symbol)&&void 0!==n?n:"",a=null!==(o=null===Qe||void 0===Qe?void 0:Qe.symbol)&&void 0!==o?o:"";Ue({hash:e.hash,type:ie.c.ELASTIC_INCREASE_LIQUIDITY,extraInfo:{tokenAmountIn:s,tokenAmountOut:r,tokenAddressIn:Ge.wrapped.address,tokenAddressOut:Qe.wrapped.address,tokenSymbolIn:c,tokenSymbolOut:a,arbitrary:{token_1:c,token_2:a}}}),Ht(e.hash)}))})).catch((e=>{console.error("Failed to send transaction",e),Ft(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)})),e.next=15;break;case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var si=Object(p.useCallback)((()=>{Ut(!1),Wt&&(St(""),Ee("/myPools")),Ht("")}),[Ee,St,Wt]),ri=Jt!==M.a.APPROVED&&!!it[X.b.CURRENCY_A],ci=ei!==M.a.APPROVED&&!!it[X.b.CURRENCY_B],ai="Supplying ".concat(lt?"":null===(pe=it[X.b.CURRENCY_A])||void 0===pe?void 0:pe.toSignificant(6)," ").concat(lt?"":null===(me=rt[X.b.CURRENCY_A])||void 0===me?void 0:me.symbol," ").concat(lt||bt?"":"and"," ").concat(bt?"":null===(xe=it[X.b.CURRENCY_B])||void 0===xe?void 0:xe.toSignificant(6)," ").concat(bt?"":null===(Oe=rt[X.b.CURRENCY_B])||void 0===Oe?void 0:Oe.symbol),di=()=>{var e,t,i,n;return _e?Object(ue.jsxs)(ue.Fragment,{children:[(Jt===M.a.NOT_APPROVED||Jt===M.a.PENDING||ei===M.a.NOT_APPROVED||ei===M.a.PENDING)&&Nt&&Object(ue.jsx)(h.b,{sx:{gap:"16px"},flexDirection:Nt&&ri&&ci?"column":"row",children:Object(ue.jsxs)(B.b,{children:[ri&&Object(ue.jsx)(f.i,{onClick:Kt,disabled:Jt===M.a.PENDING,width:ci?"48%":"100%",children:Jt===M.a.PENDING?Object(ue.jsx)(I.a,{children:Object(ue.jsx)(c.b,{id:"Approving {0}",values:{0:null===(e=rt[X.b.CURRENCY_A])||void 0===e?void 0:e.symbol}})}):Object(ue.jsx)(c.b,{id:"Approve {0}",values:{0:null===(t=rt[X.b.CURRENCY_A])||void 0===t?void 0:t.symbol}})}),ci&&Object(ue.jsx)(f.i,{onClick:ti,disabled:ei===M.a.PENDING,width:ri?"48%":"100%",children:ei===M.a.PENDING?Object(ue.jsx)(I.a,{children:Object(ue.jsx)(c.b,{id:"Approving {0}",values:{0:null===(i=rt[X.b.CURRENCY_B])||void 0===i?void 0:i.symbol}})}):Object(ue.jsx)(c.b,{id:"Approve {0}",values:{0:null===(n=rt[X.b.CURRENCY_B])||void 0===n?void 0:n.symbol}})})]})}),Object(ue.jsx)(f.e,{style:{width:li?"100%":"fit-content",minWidth:"164px"},onClick:()=>{Be?ni():Ut(!0)},disabled:!Nt||Jt!==M.a.APPROVED&&!lt||ei!==M.a.APPROVED&&!bt,error:!Nt&&!!it[X.b.CURRENCY_A]&&!!it[X.b.CURRENCY_B]&&!1,children:Object(ue.jsx)(h.e,{fontWeight:500,children:ct||Object(ue.jsx)(c.b,{id:"Preview"})})})]}):Object(ue.jsx)(f.g,{onClick:Te,children:Object(ue.jsx)(c.b,{id:"Connect Wallet"})})},li=Object(v.a)("(max-width: ".concat(oe.i.upToMedium,"px)"));return Ie?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(U.e,{isOpen:Bt,onDismiss:si,attemptingTxn:Lt,hash:Wt,content:()=>Object(ue.jsx)(U.a,{title:a.a._("Increase Liquidity"),onDismiss:si,topContent:()=>We&&Object(ue.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(ue.jsx)(E.a,{position:We,tokenId:ke}),Object(ue.jsx)(N.a,{liquidityValue0:it[X.b.CURRENCY_A],liquidityValue1:it[X.b.CURRENCY_B],title:a.a._("Increase Amount")}),Object(ue.jsx)(T.a,{position:We,ticksAtLimit:ut})]}),bottomContent:()=>Object(ue.jsx)(f.i,{id:"btnSupply",onClick:ni,children:Object(ue.jsx)(h.e,{fontWeight:500,children:Object(ue.jsx)(c.b,{id:"Supply"})})})}),pendingText:ai}),Object(ue.jsxs)(Q.b,{children:[Object(ue.jsxs)(h.b,{justifyContent:"space-between",alignItems:"center",marginTop:"32px",marginBottom:"24px",children:[Object(ue.jsxs)(h.b,{role:"button",onClick:()=>Ee(-1),alignItems:"center",sx:{cursor:"pointer",":hover":{opacity:"0.8"}},children:[Object(ue.jsx)(m.a,{size:28,color:Ne.subText}),Object(ue.jsx)(h.e,{fontSize:"24px",fontWeight:"500",marginLeft:"8px",children:Object(ue.jsx)(c.b,{id:"Increase Liquidity"})})]}),Object(ue.jsxs)(h.b,{children:[Fe&&_e&&!De&&!Me&&Object(ue.jsxs)(h.e,{fontSize:"12px",fontWeight:"500",color:Ne.subText,display:"flex",alignItems:"center",marginRight:"8px",children:[Object(ue.jsx)(c.b,{id:"The owner of this liquidity position is {0}",values:{0:Object(se.A)(we,Fe)}}),Object(ue.jsx)(k.a,{toCopy:Fe})]}),Object(ue.jsx)(Y.a,{hoverBg:Ne.buttonBlack})]})]}),Object(ue.jsx)(Q.c,{children:We?Object(ue.jsx)(C.a,{gap:"md",style:{textAlign:"left"},children:Object(ue.jsxs)(Q.e,{children:[Object(ue.jsxs)(Q.d,{style:{height:"calc(100% - 56px)"},children:[Object(ue.jsx)(E.a,{position:We,tokenId:ke,showRangeInfo:!1}),Object(ue.jsxs)(y.a,{style:{borderRadius:"1rem",padding:"1rem"},children:[Object(ue.jsxs)(h.b,{alignItems:"center",sx:{gap:"4px"},children:[Object(ue.jsxs)(Q.g,{color:He?Ne.red:dt?Ne.warning:Ne.primary,children:["#",null===ke||void 0===ke?void 0:ke.toString()]}),Object(ue.jsx)(g.a,{removed:He,inRange:!dt,hideText:!0,size:14})]}),Object(ue.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",fontWeight:"500",marginTop:"1rem",marginBottom:"0.75rem",children:[Object(ue.jsx)(h.e,{children:Object(ue.jsx)(c.b,{id:"My Liquidity"})}),Object(ue.jsx)(h.e,{children:Object(se.j)(_t,!0)})]}),Object(ue.jsx)(w.a,{}),Object(ue.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(ue.jsxs)(h.e,{color:Ne.subText,children:["Pooled ",We.pool.token0.symbol]}),Object(ue.jsxs)(h.b,{alignItems:"center",children:[Object(ue.jsx)(_.a,{currency:We.pool.token0,size:"16px"}),Object(ue.jsxs)(h.e,{fontWeight:"500",marginLeft:"4px",children:[Object(ue.jsx)(S.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(ce.a)(We.pool.token0),We.amount0.quotient)})," ",We.pool.token0.symbol]})]})]}),Object(ue.jsxs)(h.b,{justifyContent:"space-between",fontSize:"12px",marginTop:"0.75rem",children:[Object(ue.jsxs)(h.e,{color:Ne.subText,children:["Pooled ",We.pool.token1.symbol]}),Object(ue.jsxs)(h.b,{alignItems:"center",children:[Object(ue.jsx)(_.a,{currency:We.pool.token1,size:"16px"}),Object(ue.jsxs)(h.e,{fontWeight:"500",marginLeft:"4px",children:[Object(ue.jsx)(S.a,{currencyAmount:d.CurrencyAmount.fromRawAmount(Object(ce.a)(We.pool.token1),We.amount1.quotient)})," ",We.pool.token1.symbol]})]})]})]})]}),Object(ue.jsxs)(Q.f,{children:[Object(ue.jsxs)(y.a,{style:{marginBottom:"1rem"},children:[Object(ue.jsxs)(h.a,{sx:{display:"grid",gridGap:li?"12px":"24px",gridTemplateColumns:"repeat(".concat(li?1:2," , fit-content(100%) fit-content(100%))")},children:[Object(ue.jsx)(h.e,{fontSize:12,color:Ne.red,children:Object(ue.jsx)(c.b,{id:"Estimated Risk"})}),Object(ue.jsx)(P.b,{point:jt,color:Ne.red}),Object(ue.jsx)(h.e,{fontSize:12,color:Ne.primary,children:Object(ue.jsx)(c.b,{id:"Estimated Profit"})}),Object(ue.jsx)(P.b,{point:pt,color:Ne.primary})]}),Object(ue.jsx)(h.b,{marginTop:"1rem"}),Object(ue.jsx)(je,{position:We,ticksAtLimit:ut}),Object(ue.jsxs)(Q.h,{children:[Object(ue.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Ne.border),borderRadius:"1rem"},children:Object(ue.jsx)(R.a,{value:Vt[X.b.CURRENCY_A],onUserInput:St,onMax:()=>{var e,t;St(null!==(e=null===(t=Gt[X.b.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t,i;St(null!==(e=null===(t=nt[X.b.CURRENCY_A])||void 0===t||null===(i=t.divide(2))||void 0===i?void 0:i.toExact())&&void 0!==e?e:"")},currency:null!==(ve=rt[X.b.CURRENCY_A])&&void 0!==ve?ve:null,id:"add-liquidity-input-tokena",showCommonBases:!0,positionMax:"top",locked:lt,estimatedUsd:Object(se.i)(yt.toString(),!0)||void 0,disableCurrencySelect:!mt&&!xt,isSwitchMode:mt||xt,onSwitchCurrency:()=>{we&&Ee("/elastic/increase/".concat(mt?d.WETH[we].address:L.i[we].symbol,"/").concat(fe,"/").concat(Ve,"/").concat(ke),{replace:!0})}})}),Object(ue.jsx)("div",{style:{flex:1,border:"1px solid ".concat(Ne.border),borderRadius:"1rem",overflow:"hidden"},children:Object(ue.jsx)(R.a,{value:Vt[X.b.CURRENCY_B],onUserInput:At,onMax:()=>{var e,t;At(null!==(e=null===(t=Gt[X.b.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onHalf:()=>{var e,t;At(null!==(e=null===(t=nt[X.b.CURRENCY_B])||void 0===t?void 0:t.divide(2).toExact())&&void 0!==e?e:"")},currency:null!==(he=rt[X.b.CURRENCY_B])&&void 0!==he?he:null,id:"add-liquidity-input-tokenb",showCommonBases:!0,positionMax:"top",locked:bt,estimatedUsd:Object(se.i)(Ct.toString(),!0)||void 0,disableCurrencySelect:!Ot&&!vt,isSwitchMode:Ot||vt,onSwitchCurrency:()=>{we&&Ee("/elastic/increase/".concat(ye,"/").concat(Ot?d.WETH[we].address:L.i[we].symbol,"/").concat(Ve,"/").concat(ke),{replace:!0})}})})]})]}),Object(ue.jsx)(h.b,{justifyContent:"flex-end",children:Object(ue.jsx)(di,{})})]})]})}):Object(ue.jsx)(A.a,{})})]})]}):Object(ue.jsx)(x.a,{to:"/"})}},"./src/pages/RemoveLiquidityProAmm/styled.tsx":function(e,t,i){"use strict";i.d(t,"b",(function(){return u})),i.d(t,"e",(function(){return j})),i.d(t,"d",(function(){return p})),i.d(t,"f",(function(){return m})),i.d(t,"c",(function(){return x})),i.d(t,"a",(function(){return O})),i.d(t,"g",(function(){return v})),i.d(t,"h",(function(){return h}));var n,o,s,r,c,a=i("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),d=i("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=i("./src/components/Card/index.tsx"),b=i("./src/components/Column/index.tsx"),u=d.default.div.withConfig({displayName:"styled__Container",componentId:"sc-12rct2w-0"})(["text-align:center;width:calc(100% - 24px);margin:0 auto 12px;max-width:1200px;border-radius:0.5rem;"]),j=d.default.div.withConfig({displayName:"styled__GridColumn",componentId:"sc-12rct2w-1"})(["display:grid;gap:1.5rem;grid-template-columns:1.35fr 2fr;",""],(e=>e.theme.mediaWidth.upToMedium(n||(n=Object(a.a)(["\n    grid-template-columns: 1fr;\n  "]))))),p=Object(d.default)(b.a).withConfig({displayName:"styled__FirstColumn",componentId:"sc-12rct2w-2"})(["height:fit-content;padding-right:24px;border-right:1px solid ",";grid-auto-rows:min-content;gap:1rem;",""],(e=>e.theme.border),(e=>e.theme.mediaWidth.upToMedium(o||(o=Object(a.a)(["\n    border: none;\n    padding-right: 0;\n    gap: 20px;\n  "]))))),m=Object(d.default)(b.a).withConfig({displayName:"styled__SecondColumn",componentId:"sc-12rct2w-3"})(["border-radius:1.25rem;grid-auto-rows:min-content;"]),x=d.default.div.withConfig({displayName:"styled__Content",componentId:"sc-12rct2w-4"})(["background:",";padding:24px;border:1px solid ",";border-radius:20px;",""],(e=>e.theme.background),(e=>e.theme.border),(e=>e.theme.mediaWidth.upToSmall(s||(s=Object(a.a)(["\n    padding: 1rem;\n  "]))))),O=Object(d.default)(l.a).withConfig({displayName:"styled__AmoutToRemoveContent",componentId:"sc-12rct2w-5"})(["padding:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(r||(r=Object(a.a)(["\n    padding: 0;\n    background: transparent;\n  "]))))),v=d.default.div.withConfig({displayName:"styled__TokenId",componentId:"sc-12rct2w-6"})(["font-size:1rem;font-weight:500;color:",";"],(e=>e.color)),h=d.default.div.withConfig({displayName:"styled__TokenInputWrapper",componentId:"sc-12rct2w-7"})(["display:flex;gap:1rem;width:100%;margin-top:1rem;",""],(e=>e.theme.mediaWidth.upToSmall(c||(c=Object(a.a)(["\n    flex-direction: column;\n  "])))))}}]);